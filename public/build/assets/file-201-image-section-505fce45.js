import{r,j as e}from"./store-bb4697b2.js";import{u as g}from"./app-70bc686b.js";import x from"./file-201-approved-section-02e047df.js";import h from"./file-201-button-declined-section-97711c5d.js";import{a as p}from"./warning-e72a107f.js";import{A as d}from"./AntdIcon-d5b08a01.js";import{M as w}from"./index-ac42a363.js";import{I as v}from"./index-1796b442.js";import{D as j}from"./DownloadOutlined-e17b9d8b.js";import{L as b}from"./UnstableContext-84d59e3e.js";import"./pre-employment-file-service-b9ad96db.js";import"./final-rate-thunk-c62536e9.js";import"./applicant-final-service-783dc1ef.js";import"./applicant-record-service-beee2717.js";import"./file-201-declined-section-1db20f8d.js";import"./index-8d764640.js";import"./genStyleUtils-d85393a6.js";import"./typeof-7fd5df1e.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-3d5b0bcf.js";import"./CheckCircleFilled-29ac8caf.js";import"./CloseCircleFilled-3657b891.js";import"./InfoCircleFilled-66cb37aa.js";import"./KeyCode-736ed7fa.js";import"./pickAttrs-703df5aa.js";import"./useZIndex-4f6b4b3c.js";import"./CloseOutlined-de0293f7.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./index-49250ea9.js";import"./index-b407e679.js";import"./floating-ui.dom-dbc86a7b.js";import"./useId-17c7e52a.js";import"./button-a991f07a.js";import"./omit-644b1847.js";import"./Compact-9b20d619.js";import"./useSize-c48435a4.js";import"./index-40a35ae1.js";import"./index-8fabe5c2.js";import"./fade-4b5df094.js";import"./ContextIsolator-8a01ce3d.js";import"./useClosable-fecf046b.js";import"./Skeleton-14e9073a.js";import"./useLocale-7002680b.js";import"./PurePanel-16439ae8.js";import"./EyeOutlined-39ca21fe.js";import"./addEventListener-199f1b46.js";import"./RightOutlined-1714d50d.js";var y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 01-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z"}}]},name:"picture",theme:"filled"};const S=y;var N=function(i,o){return r.createElement(d,p({},i,{ref:o,icon:S}))},$=r.forwardRef(N);const C=$;var F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};const D=F;var I=function(i,o){return r.createElement(d,p({},i,{ref:o,icon:D}))},O=r.forwardRef(I);const R=O;function Ie({data:t}){const[i,o]=r.useState(!1),[l,m]=r.useState(!1),{applicant:c}=g(n=>n.final_rate),u=async()=>{if(t!=null&&t.reqs_img)try{m(!0);const n=(c==null?void 0:c.lname)||"Unknown",a=`${t.reqs||"download"} (${n})`,f=`/api/download-file?url=${encodeURIComponent(t.reqs_img)}&filename=${encodeURIComponent(a)}`,s=document.createElement("a");s.href=f,s.download=a,document.body.appendChild(s),s.click(),s.remove(),setTimeout(()=>{m(!1)},3e3)}catch(n){console.error("Download failed:",n),m(!1)}};return e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 shadow-lg shadow-cyan-500/50 font-medium rounded-lg text-lg px-3.5 py-2 text-center",children:e.jsx(C,{})}),e.jsxs(w,{title:t.reqs,visible:i,onCancel:()=>o(!1),width:800,footer:null,children:[t!=null&&t.reqs_img?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(v,{src:t.reqs_img}),e.jsxs("button",{onClick:u,disabled:l,className:`mt-3 flex items-center gap-2 text-white font-medium rounded-lg text-base px-3 py-2 ${l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 shadow-lg shadow-green-500/50"}`,children:[l?e.jsx(b,{}):e.jsx(j,{}),l?"Downloading...":"Download"]})]}):e.jsxs("p",{className:"flex items-center justify-center text-gray-400 font-sans",children:[e.jsx(R,{}),"Â No image available"]}),e.jsx("div",{className:"flex flex-1 gap-1.5 w-full items-center justify-center mt-3 text-white",children:t.status==="Uploaded"?e.jsxs(e.Fragment,{children:[e.jsx(x,{setOpen:o,data:t}),e.jsx(h,{setOpen:o,data:t})]}):e.jsxs("p",{className:"text-center",children:["Status: ",t.status]})})]})]})}export{Ie as default};
