import{r as m,j as e,s as W}from"./store-a55f681c.js";import r from"./input2-8087986d.js";import p from"./select-e449adbe.js";import ne from"./select2-f32c405d.js";import{u as oe,a as me}from"./index.esm-015b1053.js";import{r as ce,p as de,c as pe,b as xe}from"./barangay-94589600.js";import ge from"./checkbox-f11bc466.js";import{m as ue,a as fe}from"./applicant-thunk-ec024b39.js";import{u as he}from"./app-752b43d4.js";import{U as be}from"./UserPlusIcon-677f2d2d.js";import{M as ve}from"./index-64018f48.js";import{I as je}from"./InboxOutlined-f872bc28.js";import{U as ye}from"./index-a19ad147.js";import{m as M}from"./index-46ab96fe.js";import"./applicant-record-service-47d7feef.js";import"./applicant-final-service-783dc1ef.js";import"./genStyleUtils-ae124b60.js";import"./typeof-7fd5df1e.js";import"./warning-53117f39.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-f0947d3e.js";import"./shadow-0179b362.js";import"./UnstableContext-f26e2a42.js";import"./AntdIcon-d7012edb.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-aa27478c.js";import"./CloseCircleFilled-c59cb59e.js";import"./InfoCircleFilled-de35a45c.js";import"./useZIndex-f0b939d2.js";import"./useId-09de217a.js";import"./button-6864e422.js";import"./omit-644b1847.js";import"./Compact-b7ea577c.js";import"./useSize-3e0c31bc.js";import"./CloseOutlined-adb2771a.js";import"./index-f1f69dd1.js";import"./KeyCode-2bfbb103.js";import"./pickAttrs-36913342.js";import"./index-b264c970.js";import"./fade-8f31d254.js";import"./ContextIsolator-6ea3fdcc.js";import"./useClosable-68ab5813.js";import"./Skeleton-c3806f73.js";import"./useLocale-cc159d11.js";import"./PurePanel-fd1e15ff.js";import"./Dragger-5008b705.js";import"./collapse-97de76d4.js";import"./useForceUpdate-71bd788c.js";import"./DeleteOutlined-5255a60b.js";import"./DownloadOutlined-16ce278a.js";import"./EyeOutlined-fe58294a.js";import"./progress-c347033c.js";import"./CheckOutlined-91571c5b.js";import"./index-adf33267.js";import"./index-e9047005.js";function Ne({title:x,titleId:g,...v},j){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:j,"aria-labelledby":g},v),x?m.createElement("title",{id:g},x):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const we=m.forwardRef(Ne),Se=we,{Dragger:_e}=ye;function Ea(){var C,E,I,P,A,F,D,O,G,J,L,H,R;const{user:x}=he(a=>a.app),[g,v]=m.useState([]),[j,K]=m.useState([]),[T,z]=m.useState([]),[y,N]=m.useState({}),[Q,w]=m.useState(!1),[S,X]=m.useState(!1),[_,q]=m.useState([]),{register:s,handleSubmit:Y,formState:{errors:l,isSubmitting:k},reset:Z,control:ee}=oe({defaultValues:{work_experience:[{company:"",position:"",started_at:"",end_at:""}]}}),{fields:ae,append:le,remove:se}=me({control:ee,name:"work_experience"}),ie=async a=>{const i=n=>new Promise((c,h)=>{const d=new FileReader;d.onload=()=>c(d.result),d.onerror=b=>h(b),d.readAsDataURL(n)}),o=Array.from(a).filter(n=>!_.some(c=>c.file.name===n.name&&c.file.size===n.size&&c.file.lastModified===n.lastModified)),f=await Promise.all(o.map(async n=>({file:n,files:await i(n)})));q(n=>[...n,...f])};console.log("files",_);const re={name:"file",multiple:!0,method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",onChange(a){const{status:i}=a.file;if(i!=="uploading"&&console.log(a.file,a.fileList),i==="done"){const t=a.fileList.map(o=>o.originFileObj).filter(Boolean);ie(t),M.success(`${a.file.name} file uploaded successfully.`)}else i==="error"&&M.error(`${a.file.name} file upload failed.`)},onRemove(a){return q(i=>i.filter(t=>t.file.name!==a.name)),!0}},te=async a=>{try{const i=await W.dispatch(ue({...a,province:JSON.parse(a==null?void 0:a.province).name,city:JSON.parse(a==null?void 0:a.city).name,region:JSON.parse(a==null?void 0:a.region).name,site:x.site,files:_.map(t=>t.files),is_experience:S}));await W.dispatch(fe()),Z(),q([]),w(!1),M.success("Application has been submitted successfully")}catch{}};function u(a){if(console.log("dadwa",a.target.value),a.target.name=="region"){const i=JSON.parse(a.target.value),t=de.filter(o=>o.region_code===i.region_code);v(t),N({...y,[a.target.name]:i.name})}else if(a.target.name=="province"){const i=JSON.parse(a.target.value),t=pe.filter(o=>o.province_code===i.province_code);K(t),N({...y,[a.target.name]:i.name})}else if(a.target.name=="city"){const i=JSON.parse(a.target.value),t=xe.filter(o=>o.city_code===i.city_code);z(t),N({...y,[a.target.name]:i.name})}}return console.log("eeee",(C=l==null?void 0:l.fname)==null?void 0:C.message),e.jsxs(e.Fragment,{children:[e.jsx("div",{class:"inline-flex rounded-md shadow-sm",role:"group",children:e.jsxs("button",{type:"button",onClick:()=>w(!0),class:"inline-flex items-center px-4 py-2 text-sm font-medium bg-blue-500 hover:bg-blue-700 text-white border rounded-lg gap-1",children:[e.jsx(be,{className:"h-5"}),"Add New Applicant"]})}),e.jsx(ve,{title:" ",open:Q,onCancel:()=>w(!1),width:1500,okText:"Submit",footer:null,cancelText:"Cancel",children:e.jsxs("form",{onSubmit:Y(te),className:"space-y-4 px-8 py-8",children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Personal Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("fname",{required:"First Name is required"})},errorMessage:(E=l==null?void 0:l.fname)==null?void 0:E.message,name:"fname",label:"First Name",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("mname",{required:"Middle Name is required"})},errorMessage:(I=l==null?void 0:l.mname)==null?void 0:I.message,name:"mname",label:"Middle Name",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("lname",{required:"Last Name is required"})},errorMessage:(P=l==null?void 0:l.lname)==null?void 0:P.message,name:"lname",label:"Last Name",type:"text"})}),e.jsx("div",{className:"flex-none w-24",children:e.jsx(p,{register:{...s("suffix",{required:!1})},options:[{label:"--",value:""},{label:"Sr.",value:"Sr."},{label:"Jr.",value:"Jr."},{label:"II",value:"II"},{label:"III",value:"III"},{label:"IV",value:"IV"},{label:"V",value:"V"}],label:"Suffix",name:"name"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ne,{register:{...s("gender",{required:"Gender is required"})},options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"}],errorMessage:(A=l==null?void 0:l.gender)==null?void 0:A.message,label:"Gender",name:"gender"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("dob",{required:"Date of Birth is required"})},errorMessage:(F=l==null?void 0:l.dob)==null?void 0:F.message,name:"dob",label:"Date of Birth",type:"date"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("email",{required:"Email is required"})},errorMessage:(D=l==null?void 0:l.email)==null?void 0:D.message,name:"email",label:"Email",type:"email"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("phone",{required:"Phone is required"})},errorMessage:(O=l==null?void 0:l.phone)==null?void 0:O.message,name:"phone",label:"Phone",type:"number"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...s("marital",{required:!1})},options:[{label:"Single",value:"Single"},{label:"Married",value:"Married"},{label:"Widowed",value:"Widowed"},{label:"Divorced",value:"Divorced"}],label:"Marital Status",name:"marital"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("religion",{required:!1})},name:"religion",label:"Religion",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("nationality",{required:!1})},name:"nationality",label:"Nationality",type:"text"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("mmname",{required:!1})},name:"mmname",label:"Mother's maiden name",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("ffname",{required:!1})},name:"ffname",label:"Father's fullname",type:"text"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...s("educ",{required:!1})},options:[{label:"Highest Educational Attainmen",value:"Highest Educational Attainmen"},{label:"Elementary Undergraduate",value:"Elementary Undergraduate"},{label:"Elementary Graduate",value:"Elementary Graduate"},{label:"Highschool/K-12 Undergraduate",value:"Highschool/K-12 Undergraduate"},{label:"Highschool/K-12 Graduate",value:"Highschool/K-12 Graduate"},{label:"College Level",value:"College Level"},{label:"College Graduate",value:"College Graduate"},{label:"Vocational Graduate",value:"Vocational Graduate"},{label:"Masteral Degree",value:"Masteral Degree"},{label:"Doctoral Degree",value:"Doctoral Degree"}],label:"Highest Educational Attainment",name:"educ"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("courset",{required:!1})},name:"courset",label:"Course taken",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Address Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...s("region",{required:"Please Select Region"})},onChange:a=>u(a),options:ce.map(a=>({label:a.region_name,value:JSON.stringify({name:a.region_name,region_code:a.region_code})})),errorMessage:(G=l==null?void 0:l.region)==null?void 0:G.message,label:"Region",name:"region"})}),e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...s("province",{required:"Please Select Province"})},onChange:a=>u(a),options:g.map(a=>({label:a.province_name,value:JSON.stringify({name:a.province_name,province_code:a.province_code})})),errorMessage:(J=l==null?void 0:l.province)==null?void 0:J.message,label:"Province",name:"province"})}),e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...s("city",{required:"Please Select City"})},onChange:a=>u(a),options:j.map(a=>({label:a.city_name,value:JSON.stringify({name:a.city_name,city_code:a.city_code})})),errorMessage:(L=l==null?void 0:l.city)==null?void 0:L.message,name:"city",label:"City/Municipality"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...s("brgy",{required:"Please Select Barangay"})},onChange:a=>u(a),options:T.map(a=>({label:a.brgy_name,value:a.brgy_name})),errorMessage:(H=l==null?void 0:l.brgy)==null?void 0:H.message,name:"brgy",label:"Barangay"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("lot",{required:"House/Lot No., Street, Purok/Sitio is required"})},errorMessage:(R=l==null?void 0:l.lot)==null?void 0:R.message,name:"lot",label:"House/Lot No., Street, Purok/Sitio",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("sss",{})},name:"sss",label:"SSS",type:"number"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("pagibig",{})},name:"pagibig",label:"Pagibig",type:"number"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("tin",{})},name:"tin",label:"Tin",type:"number"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("philh",{})},name:"philh",label:"Philhealth No.",type:"number"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Working Experience"}),e.jsxs("div",{className:"flex-col",children:[e.jsxs("div",{className:"flex items-center mb-3 justify-between",children:[e.jsx(ge,{label:"With Working Experience?",name:"hasExperience",onChange:a=>X(a.target.checked)}),S&&e.jsxs("button",{type:"button",onClick:()=>le({name:""}),className:"bg-blue-600 text-white px-4 flex gap-2 py-2 rounded",children:[e.jsx(Se,{className:"h-6"})," Experience"]})]}),S&&e.jsx("div",{className:"flex gap-3 flex-col",children:ae.map((a,i)=>{var t,o,f,n,c,h,d,b,U,B,V,$;return e.jsxs("div",{className:"flex items-center border border-blue-500 rounded-lg p-3 flex-col w-full gap-4",children:[i!=0&&e.jsx("div",{className:"flex w-full items-end justify-end",children:e.jsx("button",{type:"button",onClick:()=>se(i),className:"bg-red-500 text-white px-2 py-1 rounded",children:"âœ•"})}),e.jsxs("div",{className:"w-full flex gap-3",children:[e.jsx(r,{register:{...s(`work_experience.${i}.company`,{required:"Company is required"})},errorMessage:(f=(o=(t=l==null?void 0:l.work_experience)==null?void 0:t[i])==null?void 0:o.company)==null?void 0:f.message,name:"company",label:"Company",type:"text"}),e.jsx(r,{register:{...s(`work_experience.${i}.position`,{required:"Position is required"})},errorMessage:(h=(c=(n=l==null?void 0:l.work_experience)==null?void 0:n[i])==null?void 0:c.position)==null?void 0:h.message,name:"position",label:"Position",type:"text"})]}),e.jsxs("div",{className:"w-full flex gap-3",children:[e.jsx(r,{register:{...s(`work_experience.${i}.started_at`,{required:"Started at is required"})},errorMessage:(U=(b=(d=l==null?void 0:l.work_experience)==null?void 0:d[i])==null?void 0:b.started_at)==null?void 0:U.message,label:"Started At",type:"date"}),e.jsx(r,{register:{...s(`work_experience.${i}.end_at`,{required:"End at is required"})},errorMessage:($=(V=(B=l==null?void 0:l.work_experience)==null?void 0:B[i])==null?void 0:V.end_at)==null?void 0:$.message,label:"End At",type:"date"})]})]},a.id)})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Emergency Contact Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("ename",{required:!1})},name:"ename",label:"Emergency Contact Fullname",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("eaddress",{required:!1})},name:"eaddress",label:"Address",type:"text"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("relationship",{required:!1})},name:"relationship",label:"Relationship",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...s("ephone",{required:!1})},name:"ephone",label:"Contact No.",type:"number"})})]}),e.jsx("br",{}),e.jsxs(_e,{...re,children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(je,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload your CV"}),e.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsx("button",{disabled:k,type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:k?"Submitting...":"Submit"})})]})})]})}export{Ea as default};
