import{r as o,j as e,s as c}from"./store-be97c391.js";import{l as x,a as g}from"./applicant-thunk-7bb2723b.js";import{u as b}from"./app-809553c1.js";import{m as s}from"./index-e8ed188a.js";import"./applicant-record-service-1c136d4d.js";import"./applicant-final-service-783dc1ef.js";import"./genStyleUtils-83711dd6.js";import"./typeof-7fd5df1e.js";import"./warning-ac26fe93.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-9a8886c1.js";import"./AntdIcon-82eb93c5.js";import"./UnstableContext-28101da7.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-f89d34a4.js";import"./CloseCircleFilled-e2e4fb9f.js";import"./InfoCircleFilled-ab1820b1.js";import"./KeyCode-18fe19fc.js";import"./pickAttrs-049dda3d.js";import"./useZIndex-d02e6d6e.js";import"./CloseOutlined-f4fef2dd.js";function G(){const[r,d]=o.useState(""),[i,a]=o.useState(null),[l,m]=o.useState(!1),p=window.location.pathname.split("/")[2],[n,u]=o.useState(!1),{interview_confirmations:h}=b(t=>t.applicants),f=async t=>{if(t.preventDefault(),n){s.info("You have already confirmed your attendance.");return}if(!r.trim()){s.error("Please provide a reason for declining.");return}if(i===null){s.error("Please indicate if youâ€™re open to rescheduling.");return}m(!0);try{await c.dispatch(x({app_id:p,reason:r,reschedule:i==="yes"?"Yes":"No"})),c.dispatch(g()),u(!0),s.success("Your response has been submitted. Thank you.")}catch{s.error("Failed to submit your response. Please try again.")}finally{m(!1)}};return console.log("interview_confirmations",h),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-indigo-100 flex justify-center items-center py-8 overflow-auto",children:e.jsxs("div",{className:"bg-white  shadow-2xl rounded-lg p-4 sm:p-6 md:p-8 w-full max-w-3xl mx-4 mb-28",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-40 sm:w-48 md:w-60",src:"/images/newlogo.png",alt:"logo"})}),n&&e.jsx("p",{className:"text-center mt-4 text-2xl text-green-600 font-semibold",children:"Thank you for the confirmation!"}),!n&&e.jsx("div",{width:"max-w-lg",children:e.jsxs("div",{className:"text-base",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Kindly provide your reason for declining the Initial interview invitation."}),e.jsxs("form",{onSubmit:f,children:[e.jsx("textarea",{value:r,name:"reason",onChange:t=>d(t.target.value),required:!0,className:"w-full h-24 p-2 border rounded-md resize-none",placeholder:"Your reason..."}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Would you be open to being scheduled for another Initial interview?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"resched",value:"yes",checked:i==="yes",onChange:()=>a("yes")}),"Yes"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"resched",value:"no",checked:i==="no",onChange:()=>a("no")}),"No"]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-6",children:e.jsx("button",{type:"submit",disabled:l,className:"bg-blue-500 p-2 px-4 rounded-md text-white hover:bg-blue-600 disabled:opacity-50",children:l?"Submitting...":"Submit"})})]})]})})]})})}export{G as default};
