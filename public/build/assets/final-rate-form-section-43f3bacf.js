import{a as m,u,r as d,I as p,j as e,e as f,A as h}from"./app-1368f43f.js";import j from"./customer-service-final-rate-section-96e192ee.js";import b from"./work-effectiveness-final-rate-section-8a082c32.js";import{s as v}from"./final-rate-thunk-bc40c466.js";import{m as N}from"./index-072611c0.js";import{L as g}from"./LoadingOutlined-5aaebc20.js";import{C as w}from"./CheckCircleFilled-c1fd4b64.js";import"./initial-rate-mark-component-862d91ca.js";import"./UserCircleIcon-09b6006e.js";import"./BriefcaseIcon-9b291344.js";import"./applicant-final-service-a1d04fab.js";import"./applicant-record-service-ca8feb95.js";import"./genStyleUtils-252505d7.js";import"./typeof-7fd5df1e.js";import"./presets-2ee9cdde.js";import"./useZIndex-bdc36a5e.js";import"./AntdIcon-84dae2c1.js";import"./UnstableContext-2efb43d6.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CloseCircleFilled-88feb7bc.js";import"./InfoCircleFilled-47673dfd.js";import"./KeyCode-1e7b7cf5.js";import"./pickAttrs-c626d418.js";import"./CloseOutlined-76ce6a30.js";function J(){const{finalRate:l,applicant:r}=m(s=>s.final_rate),i=window.location.pathname.split("/")[3],{user:t}=m(s=>s.app),n=u(),[a,o]=d.useState(!1);d.useEffect(()=>{n(p({...l,interviewer:(t==null?void 0:t.employee_fname)+" "+(t==null?void 0:t.employee_lname),int_id:t.id,app_id:i,oavg:(parseInt(l.cscore??0)+parseInt(l.wscore??0))/2}))},[l==null?void 0:l.cscore,l==null?void 0:l.wscore,t==null?void 0:t.employee_fname]);function x(s){n(p({...l,[s.target.name]:s.target.value}))}async function c(s){s.preventDefault(),o(!0),await f.dispatch(v(l)),await N.success("Successfully Rated!"),o(!1),h.visit("/admin/recruitment/applicant_records?searching="+i)}return console.log(l,"finalRate"),e.jsxs("div",{className:"font-sans",children:[e.jsx("div",{className:"flex text-xl items-center justify-center mb-1",children:e.jsx("h1",{children:e.jsx("b",{children:"Final Rating Scale"})})}),e.jsxs("div",{className:"flex flex-1 justify-end pr-4",children:[e.jsx("h1",{className:"text-lg mb-2 bg-ge",children:e.jsx("b",{children:"Status:"})})," ",e.jsx("h1",{className:"bg-green-500 text-lg rounded-md p-1 text-white ml-1",children:r.status})]}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:c,children:[e.jsxs("div",{className:"flex flex-1 gap-3.5",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Application No."})}),e.jsx("input",{type:"number",value:r.app_id??"",placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Applicant's Name"})}),e.jsx("input",{type:"text",value:r.fname+" "+r.lname,placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]})]}),e.jsx(j,{}),e.jsx(b,{}),e.jsxs("div",{className:"flex flex-col w-full mt-3",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"OVERALL RESULT"})}),e.jsx("input",{type:"number",value:l.oavg??0,name:"final_overall_r",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full mt-5",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"FINAL PHASE INTERVIEWER"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.interviewer)??"",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{children:e.jsx("b",{children:"OVERALL COMMENT"})}),e.jsx("textarea",{placeholder:"",name:"ocomment",onChange:x,className:"border p-2 rounded w-full mt-1 h-40"})]}),e.jsx("div",{className:"flex justify-end mt-3.5",children:e.jsxs("button",{type:"submit",className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${a?"cursor-not-allowed opacity-75":""}`,onClick:c,disabled:a,children:[a?e.jsx(g,{spin:!0}):e.jsx(w,{}),a?" SUBMITTING...":" SUBMIT"]})})]})]})}export{J as default};
