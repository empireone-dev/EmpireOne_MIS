import{r as v,s as E,j as e}from"./store-62f7920c.js";import{u as C}from"./app-283f4567.js";import a from"./upload-signature-section-33aec92b.js";import{g as $}from"./app-thunk-f4e402cb.js";import{g as R}from"./app-thunk-0e396d33.js";import{m as F}from"./index-0c86a987.js";import{L as I}from"./UnstableContext-35a19df7.js";import"./index-e37c912a.js";import"./warning-2d1cca5c.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./shadow-599e9a46.js";import"./index-7b7a2b79.js";import"./useId-deef0879.js";import"./index-3678ba0a.js";import"./createSuper-f29e89b0.js";import"./genStyleUtils-15f8d671.js";import"./useSize-a88e28b8.js";import"./Compact-bf86ed77.js";import"./ContextIsolator-3f516763.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./useZIndex-8e23c1bd.js";import"./index-c737882c.js";import"./CheckCircleFilled-03b44592.js";import"./AntdIcon-65317f45.js";import"./CloseCircleFilled-c845312c.js";import"./InfoCircleFilled-ac5c32ea.js";import"./button-ae249f5f.js";import"./omit-644b1847.js";import"./CloseOutlined-4c6c4fc7.js";import"./index-9090d876.js";import"./KeyCode-df1ca81f.js";import"./pickAttrs-3aceaf38.js";import"./index-a97f45b0.js";import"./fade-258fa6cb.js";import"./useClosable-6a09e984.js";import"./Skeleton-bc6a7ffb.js";import"./useLocale-d75cf765.js";import"./PurePanel-b3c1e162.js";import"./SignatureOutlined-6f3b8893.js";import"./user-service-b79b8c3a.js";function we(){var n,o,c,x,p,m,u,b,h,j,f,N,g;const{employee:r}=C(l=>l.employees),{user:s}=C(l=>l.app),[d,t]=v.useState();v.useEffect(()=>{E.dispatch(R()),console.log("waaaa",s),E.dispatch($())},[s.id]);const S=(s==null?void 0:s.department)==="Human Resource",D=async()=>{var l,y,w;t(!0);try{const i={employee_name:`${((l=r==null?void 0:r.applicant)==null?void 0:l.fname)||""} ${((y=r==null?void 0:r.applicant)==null?void 0:y.mname)||""} ${((w=r==null?void 0:r.applicant)==null?void 0:w.lname)||""}`,departments:["Immediate Supervisor","Employee Dept. Head","HR/Admin","IT (Biometrics, Laptop)"],clearance_date:new Date().toISOString().split("T")[0]},_=await axios.post("/api/send-clearance-email",i);F.success("Exit Clearance sent successfully"),console.log(_.data.message),t(!1)}catch(i){console.error("Error sending email:",i),F.error("Failed to send Exit Clearance"),t(!1)}};return console.log("usersss",s),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"EXIT CLEARANCE"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",children:[e.jsxs("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name:"})}),e.jsx("input",{type:"text",value:`${((n=r==null?void 0:r.applicant)==null?void 0:n.fname)||""} ${((o=r==null?void 0:r.applicant)==null?void 0:o.mname)||""} ${((c=r==null?void 0:r.applicant)==null?void 0:c.lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account / Department:"})}),e.jsx("input",{type:"text",value:r!=null&&r.account?r==null?void 0:r.account:(x=r==null?void 0:r.dept)==null?void 0:x.dept,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Hired:"})}),e.jsx("input",{type:"date",value:(r==null?void 0:r.hired)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Immediate Supervisor:"})}),e.jsx("input",{type:"text",value:`${((p=r==null?void 0:r.user)==null?void 0:p.employee_fname)||""} ${((m=r==null?void 0:r.user)==null?void 0:m.employee_mname)||""} ${((u=r==null?void 0:r.user)==null?void 0:u.employee_lname)||""}`,className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employment Status:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.status)||"",className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"ID Number:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.app_id)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Position Title:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.position)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Separated:"})}),e.jsx("input",{type:"date",value:((b=r==null?void 0:r.attrition)==null?void 0:b.separation)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department Manager:"})}),e.jsx("input",{type:"text",value:`${((j=(h=r==null?void 0:r.dept)==null?void 0:h.user)==null?void 0:j.employee_fname)||""} ${((N=(f=r==null?void 0:r.dept)==null?void 0:f.user)==null?void 0:N.employee_lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Reason for Separation::"})}),e.jsx("input",{type:"text",value:((g=r==null?void 0:r.attrition)==null?void 0:g.reas)||"",className:"border p-2 rounded w-full"})]})]})})]}),e.jsx("p",{className:"mt-5 mb-1",children:"We are here to certify that the above employee is cleared with any accountability or financial obligation to the following:"}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 mb-3",children:e.jsxs("table",{class:"table table-bordered text-center w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300 w-full",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 py-2",children:"Department"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Signature"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Date Signed"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Payables"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"Immediate Supervisor"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-24 h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"Employee Dept. Head"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-24 h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"HR/Admin"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-full h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"IT (Biometrics, Laptop)"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-full h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-3 mt-8",children:[e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Exit Clearance Conducted By:"})}),e.jsx("input",{type:"text",value:`${(s==null?void 0:s.employee_fname)||""} ${(s==null?void 0:s.employee_lname)||""}`,className:"border p-2 rounded w-full"})]})})}),e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Conforme:"})}),e.jsx("input",{type:"text",value:"Human Resource",className:"border p-2 rounded w-full",readOnly:!0})]})})})]}),S?e.jsxs("div",{className:"flex gap-2 justify-end mt-2.5",children:[e.jsx("button",{onClick:D,type:"button",className:`px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors ${d?"cursor-not-allowed opacity-75":""}`,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(I,{spin:!0}),"Â SENDING..."]}):e.jsx(e.Fragment,{children:"FORWARD CLEARANCE"})}),e.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors",children:"SUBMIT EXIT CLEARANCE"})]}):e.jsx("div",{className:"flex gap-2 justify-end mt-2.5",children:e.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors",children:"DONE"})})]})]})})})})}export{we as default};
