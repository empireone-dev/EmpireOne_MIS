import{r as i,j as e,s as h}from"./store-aa341ee4.js";import j from"./upload-contract-section-27f9f695.js";import{u as b}from"./app-e925cec6.js";import{c as N}from"./applicant-thunk-5835b711.js";import{m as c}from"./index-49886b84.js";import{L as v}from"./UnstableContext-dcc9f497.js";import{F as w}from"./FileJpgOutlined-a1daa50d.js";import"./XMarkIcon-03c02fe6.js";import"./FilePdfOutlined-5174634a.js";import"./warning-ee72ab49.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./AntdIcon-94e9870b.js";import"./applicant-record-service-5b9eb622.js";import"./applicant-final-service-783dc1ef.js";import"./genStyleUtils-e83116eb.js";import"./createSuper-f29e89b0.js";import"./index-c391303a.js";import"./CheckCircleFilled-960312ea.js";import"./CloseCircleFilled-df397075.js";import"./InfoCircleFilled-4e3fa91a.js";import"./KeyCode-10e35f52.js";import"./pickAttrs-6af486e0.js";import"./useZIndex-e81f8bda.js";import"./CloseOutlined-23acb346.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";function X(){var m;const{applicant:l}=b(o=>o.final_rate),[t,a]=i.useState(!1),[u,x]=i.useState(null),[d,f]=i.useState(null),s=(m=l==null?void 0:l.joboffer)==null?void 0:m.find(o=>o.status=="Contract Signing"),p=window.location.pathname.split("/")[3];console.log("file",d);async function n(o){o.preventDefault(),a(!0);const r=new FormData;r.append("file",d),r.append("phase_status","upload_contract"),r.append("jobPos",s==null?void 0:s.jobPos),r.append("salary",s==null?void 0:s.salary),r.append("app_id",l==null?void 0:l.app_id),r.append("fname",l==null?void 0:l.fname),r.append("lname",l==null?void 0:l.lname),r.append("email",l==null?void 0:l.email),r.append("job_offer_id",p);try{await h.dispatch(N(r)),a(!1),c.success("File Uploaded")}catch{c.error("There was an error uploading the file!"),a(!1)}}return console.log("jo",s),e.jsx("div",{children:e.jsx("div",{className:"h-screen overflow-hidden",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"VIRTUAL CONTRACT SIGNING"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:n,children:[e.jsxs("div",{className:"flex flex-col w-full mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Application No."})}),e.jsx("div",{className:"flex flex-1 gap-3",children:e.jsx("input",{value:l==null?void 0:l.app_id,type:"text",placeholder:"Application No",className:"border p-2 rounded w-full"})})]}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsxs("div",{className:"flex flex-col w-full mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name"})}),e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx("input",{type:"text",value:l==null?void 0:l.fname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",value:l==null?void 0:l.mname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",value:l==null?void 0:l.lname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",value:l==null?void 0:l.suffix,className:"border p-2 rounded w-1/5"})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Email"})}),e.jsx("input",{type:"email",value:l==null?void 0:l.email,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Job Position"})}),e.jsx("input",{type:"text",value:s==null?void 0:s.jobPos,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Salary"})}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:"â‚±"}),e.jsx("input",{type:"number",value:s==null?void 0:s.salary,className:"border pl-5 p-2 rounded w-full",readOnly:!0})]})]})]}),e.jsx(j,{uploadedFile:u,setFile:f,setUploadedFile:x}),e.jsx("div",{className:"flex mt-4",children:e.jsxs("button",{type:"submit",className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${t?"cursor-not-allowed opacity-75":""}`,onClick:n,disabled:t,children:[t?e.jsx(v,{spin:!0}):e.jsx(w,{}),t?" SENDING...":" UPLOAD CONTRACT"]})})]})]})})})})})}export{X as default};
