import{r,j as e,s as c}from"./store-aa341ee4.js";import{l as f,a as g}from"./applicant-thunk-5835b711.js";import{u as b}from"./app-34eff07d.js";import{m as s}from"./index-b9f1e5c3.js";import"./applicant-record-service-5b9eb622.js";import"./applicant-final-service-783dc1ef.js";import"./genStyleUtils-e83116eb.js";import"./typeof-7fd5df1e.js";import"./warning-ee72ab49.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-eacee6d3.js";import"./AntdIcon-94e9870b.js";import"./UnstableContext-fba27303.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-960312ea.js";import"./CloseCircleFilled-df397075.js";import"./InfoCircleFilled-4e3fa91a.js";import"./KeyCode-10e35f52.js";import"./pickAttrs-6af486e0.js";import"./useZIndex-e81f8bda.js";import"./CloseOutlined-23acb346.js";function G(){const[o,d]=r.useState(""),[i,a]=r.useState(null),[l,m]=r.useState(!1),p=window.location.pathname.split("/")[2],[n,u]=r.useState(!1),{interview_confirmations:h}=b(t=>t.applicants),x=async t=>{if(t.preventDefault(),n){s.info("You have already confirmed your attendance.");return}if(!o.trim()){s.error("Please provide a reason for declining.");return}if(i===null){s.error("Please indicate if youâ€™re open to rescheduling.");return}m(!0);try{await c.dispatch(f({app_id:p,reason:o,reschedule:i==="yes"?"Yes":"No"})),c.dispatch(g()),u(!0),s.success("Your response has been submitted. Thank you.")}catch{s.error("Failed to submit your response. Please try again.")}finally{m(!1)}};return console.log("interview_confirmations",h),e.jsx("div",{className:"min-h-screen bg-sky-400 flex justify-center items-center py-8 overflow-auto",children:e.jsxs("div",{className:"bg-white  shadow-2xl rounded-lg p-4 sm:p-6 md:p-8 w-full max-w-3xl mx-4 mb-28",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-40 sm:w-48 md:w-60",src:"/images/newlogo.png",alt:"logo"})}),n&&e.jsx("p",{className:"text-center mt-4 text-2xl text-green-600 font-semibold",children:"Thank you for the confirmation!"}),!n&&e.jsx("div",{width:"max-w-lg",children:e.jsxs("div",{className:"text-base",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Kindly provide your reason for declining the Initial interview invitation."}),e.jsxs("form",{onSubmit:x,children:[e.jsx("textarea",{value:o,name:"reason",onChange:t=>d(t.target.value),required:!0,className:"w-full h-24 p-2 border rounded-md resize-none",placeholder:"Your reason..."}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Would you be open to being scheduled for another Initial interview?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"resched",value:"yes",checked:i==="yes",onChange:()=>a("yes")}),"Yes"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"resched",value:"no",checked:i==="no",onChange:()=>a("no")}),"No"]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-6",children:e.jsx("button",{type:"submit",disabled:l,className:"bg-blue-500 p-2 px-4 rounded-md text-white hover:bg-blue-600 disabled:opacity-50",children:l?"Submitting...":"Submit"})})]})]})})]})})}export{G as default};
