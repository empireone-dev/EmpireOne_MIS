import{r as O,U as p,j as V}from"./app-c236a820.js";import{M as Re}from"./index-b5baac96.js";import{M as Me}from"./index-c847126a.js";import{i as we,_ as f,d as ae,b as Se,a as ye,e as X,c as Ae}from"./presets-7c422098.js";import{b as Y,c as Z,g as be,m as Ne,r as ke,u as Ie,T as Pe,e as Oe,a as ze}from"./index-3bd118d2.js";import{B as Le}from"./button-e1b606e8.js";import{S as Te}from"./index-d5222e6e.js";import{A as Be}from"./AntdIcon-00b8e064.js";import{u as Fe}from"./useLocale-481458d9.js";import"./index-35ec3621.js";import"./useId-8f7b4d89.js";import"./useZIndex-30e28cf7.js";import"./useSize-b3b309ae.js";import"./Compact-d9a068ac.js";import"./ContextIsolator-144677bd.js";import"./asyncToGenerator-d3eae0af.js";import"./KeyCode-d7c047a1.js";import"./LeftOutlined-bb84a3c9.js";import"./collapse-97de76d4.js";import"./render-154e3b2e.js";import"./CheckCircleFilled-f0b61f30.js";import"./CloseCircleFilled-ca453f28.js";import"./InfoCircleFilled-081c5a8d.js";import"./CloseOutlined-81b44b9c.js";import"./index-7c807d43.js";import"./pickAttrs-7635fe85.js";import"./fade-1320b911.js";import"./useClosable-ec48c952.js";import"./PurePanel-12055b25.js";function G(a,o){var e=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!e){if(Array.isArray(a)||(e=we(a))||o&&a&&typeof a.length=="number"){e&&(a=e);var t=0,r=function(){};return{s:r,n:function(){return t>=a.length?{done:!0}:{done:!1,value:a[t++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,i=!0,s=!1;return{s:function(){e=e.call(a)},n:function(){var u=e.next();return i=u.done,u},e:function(u){s=!0,n=u},f:function(){try{i||e.return==null||e.return()}finally{if(s)throw n}}}}var x,K;function N(a,o,e){if(o<0||o>31||a>>>o)throw new RangeError("Value out of range");for(var t=o-1;t>=0;t--)e.push(a>>>t&1)}function _(a,o){return(a>>>o&1)!=0}function P(a){if(!a)throw new Error("Assertion error")}var B=function(){function a(o,e){Z(this,a),f(this,"modeBits",void 0),f(this,"numBitsCharCount",void 0),this.modeBits=o,this.numBitsCharCount=e}return Y(a,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),a}();x=B;f(B,"NUMERIC",new x(1,[10,12,14]));f(B,"ALPHANUMERIC",new x(2,[9,11,13]));f(B,"BYTE",new x(4,[8,16,16]));f(B,"KANJI",new x(8,[8,10,12]));f(B,"ECI",new x(7,[0,0,0]));var z=Y(function a(o,e){Z(this,a),f(this,"ordinal",void 0),f(this,"formatBits",void 0),this.ordinal=o,this.formatBits=e});K=z;f(z,"LOW",new K(0,1));f(z,"MEDIUM",new K(1,0));f(z,"QUARTILE",new K(2,3));f(z,"HIGH",new K(3,2));var Q=function(){function a(o,e,t){if(Z(this,a),f(this,"mode",void 0),f(this,"numChars",void 0),f(this,"bitData",void 0),this.mode=o,this.numChars=e,this.bitData=t,e<0)throw new RangeError("Invalid argument");this.bitData=t.slice()}return Y(a,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(e){var t=[],r=G(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;N(i,8,t)}}catch(s){r.e(s)}finally{r.f()}return new a(B.BYTE,e.length,t)}},{key:"makeNumeric",value:function(e){if(!a.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,3);N(parseInt(e.substring(r,r+n),10),n*3+1,t),r+=n}return new a(B.NUMERIC,e.length,t)}},{key:"makeAlphanumeric",value:function(e){if(!a.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],r;for(r=0;r+2<=e.length;r+=2){var n=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r))*45;n+=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r+1)),N(n,11,t)}return r<e.length&&N(a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r)),6,t),new a(B.ALPHANUMERIC,e.length,t)}},{key:"makeSegments",value:function(e){return e==""?[]:a.isNumeric(e)?[a.makeNumeric(e)]:a.isAlphanumeric(e)?[a.makeAlphanumeric(e)]:[a.makeBytes(a.toUtf8ByteArray(e))]}},{key:"makeEci",value:function(e){var t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)N(e,8,t);else if(e<16384)N(2,2,t),N(e,14,t);else if(e<1e6)N(6,3,t),N(e,21,t);else throw new RangeError("ECI assignment value out of range");return new a(B.ECI,0,t)}},{key:"isNumeric",value:function(e){return a.NUMERIC_REGEX.test(e)}},{key:"isAlphanumeric",value:function(e){return a.ALPHANUMERIC_REGEX.test(e)}},{key:"getTotalBits",value:function(e,t){var r=0,n=G(e),i;try{for(n.s();!(i=n.n()).done;){var s=i.value,l=s.mode.numCharCountBits(t);if(s.numChars>=1<<l)return 1/0;r+=4+l+s.bitData.length}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"toUtf8ByteArray",value:function(e){for(var t=encodeURI(e),r=[],n=0;n<t.length;n++)t.charAt(n)!="%"?r.push(t.charCodeAt(n)):(r.push(parseInt(t.substring(n+1,n+3),16)),n+=2);return r}}]),a}();f(Q,"NUMERIC_REGEX",/^[0-9]*$/);f(Q,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/);f(Q,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var D=function(){function a(o,e,t,r){Z(this,a),f(this,"size",void 0),f(this,"mask",void 0),f(this,"modules",[]),f(this,"isFunction",[]),f(this,"version",void 0),f(this,"errorCorrectionLevel",void 0);var n=r;if(this.version=o,this.errorCorrectionLevel=e,o<a.MIN_VERSION||o>a.MAX_VERSION)throw new RangeError("Version value out of range");if(n<-1||n>7)throw new RangeError("Mask value out of range");this.size=o*4+17;for(var i=[],s=0;s<this.size;s++)i.push(!1);for(var l=0;l<this.size;l++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();var u=this.addEccAndInterleave(t);if(this.drawCodewords(u),n==-1)for(var c=1e9,m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);var v=this.getPenaltyScore();v<c&&(n=m,c=v),this.applyMask(m)}P(0<=n&&n<=7),this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}return Y(a,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),r=t.length,n=0;n<r;n++)for(var i=0;i<r;i++)n==0&&i==0||n==0&&i==r-1||n==r-1&&i==0||this.drawAlignmentPattern(t[n],t[i]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,r=t,n=0;n<10;n++)r=r<<1^(r>>>9)*1335;var i=(t<<10|r)^21522;P(i>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,_(i,s));this.setFunctionModule(8,7,_(i,6)),this.setFunctionModule(8,8,_(i,7)),this.setFunctionModule(7,8,_(i,8));for(var l=9;l<15;l++)this.setFunctionModule(14-l,8,_(i,l));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,_(i,u));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,_(i,c));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^(e>>>11)*7973;var r=this.version<<12|e;P(r>>>18==0);for(var n=0;n<18;n++){var i=_(r,n),s=this.size-11+n%3,l=Math.floor(n/3);this.setFunctionModule(s,l,i),this.setFunctionModule(l,s,i)}}}},{key:"drawFinderPattern",value:function(e,t){for(var r=-4;r<=4;r++)for(var n=-4;n<=4;n++){var i=Math.max(Math.abs(n),Math.abs(r)),s=e+n,l=t+r;0<=s&&s<this.size&&0<=l&&l<this.size&&this.setFunctionModule(s,l,i!=2&&i!=4)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,Math.max(Math.abs(n),Math.abs(r))!=1)}},{key:"setFunctionModule",value:function(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(e){var t=this.version,r=this.errorCorrectionLevel;if(e.length!=a.getNumDataCodewords(t,r))throw new RangeError("Invalid argument");for(var n=a.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][t],i=a.ECC_CODEWORDS_PER_BLOCK[r.ordinal][t],s=Math.floor(a.getNumRawDataModules(t)/8),l=n-s%n,u=Math.floor(s/n),c=[],m=a.reedSolomonComputeDivisor(i),v=0,g=0;v<n;v++){var h=e.slice(g,g+u-i+(v<l?0:1));g+=h.length;var R=a.reedSolomonComputeRemainder(h,m);v<l&&h.push(0),c.push(h.concat(R))}for(var d=[],E=function(C){c.forEach(function(S,y){(C!=u-i||y>=l)&&d.push(S[C])})},M=0;M<c[0].length;M++)E(M);return P(d.length==s),d}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(var n=0;n<this.size;n++)for(var i=0;i<2;i++){var s=r-i,l=(r+1&2)==0,u=l?this.size-1-n:n;!this.isFunction[u][s]&&t<e.length*8&&(this.modules[u][s]=_(e[t>>>3],7-(t&7)),t++)}}P(t==e.length*8)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var r=0;r<this.size;r++){var n=void 0;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}},{key:"getPenaltyScore",value:function(){for(var e=0,t=0;t<this.size;t++){for(var r=!1,n=0,i=[0,0,0,0,0,0,0],s=0;s<this.size;s++)this.modules[t][s]==r?(n++,n==5?e+=a.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,i),r||(e+=this.finderPenaltyCountPatterns(i)*a.PENALTY_N3),r=this.modules[t][s],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,i)*a.PENALTY_N3}for(var l=0;l<this.size;l++){for(var u=!1,c=0,m=[0,0,0,0,0,0,0],v=0;v<this.size;v++)this.modules[v][l]==u?(c++,c==5?e+=a.PENALTY_N1:c>5&&e++):(this.finderPenaltyAddHistory(c,m),u||(e+=this.finderPenaltyCountPatterns(m)*a.PENALTY_N3),u=this.modules[v][l],c=1);e+=this.finderPenaltyTerminateAndCount(u,c,m)*a.PENALTY_N3}for(var g=0;g<this.size-1;g++)for(var h=0;h<this.size-1;h++){var R=this.modules[g][h];R==this.modules[g][h+1]&&R==this.modules[g+1][h]&&R==this.modules[g+1][h+1]&&(e+=a.PENALTY_N2)}var d=0,E=G(this.modules),M;try{for(E.s();!(M=E.n()).done;){var k=M.value;d=k.reduce(function(y,A){return y+(A?1:0)},d)}}catch(y){E.e(y)}finally{E.f()}var C=this.size*this.size,S=Math.ceil(Math.abs(d*20-C*10)/C)-1;return P(0<=S&&S<=9),e+=S*a.PENALTY_N4,P(0<=e&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,r=[6],n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];P(t<=this.size*3);var r=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(r&&e[0]>=t*4&&e[6]>=t?1:0)+(r&&e[6]>=t*4&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,t,r){var n=t;return e&&(this.finderPenaltyAddHistory(n,r),n=0),n+=this.size,this.finderPenaltyAddHistory(n,r),this.finderPenaltyCountPatterns(r)}},{key:"finderPenaltyAddHistory",value:function(e,t){var r=e;t[0]==0&&(r+=this.size),t.pop(),t.unshift(r)}}],[{key:"encodeText",value:function(e,t){var r=Q.makeSegments(e);return a.encodeSegments(r,t)}},{key:"encodeBinary",value:function(e,t){var r=Q.makeBytes(e);return a.encodeSegments([r],t)}},{key:"encodeSegments",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(a.MIN_VERSION<=r&&r<=n&&n<=a.MAX_VERSION)||i<-1||i>7)throw new RangeError("Invalid value");var l,u;for(l=r;;l++){var c=a.getNumDataCodewords(l,t)*8,m=Q.getTotalBits(e,l);if(m<=c){u=m;break}if(l>=n)throw new RangeError("Data too long")}for(var v=t,g=0,h=[z.MEDIUM,z.QUARTILE,z.HIGH];g<h.length;g++){var R=h[g];s&&u<=a.getNumDataCodewords(l,R)*8&&(v=R)}var d=[],E=G(e),M;try{for(E.s();!(M=E.n()).done;){var k=M.value;N(k.mode.modeBits,4,d),N(k.numChars,k.mode.numCharCountBits(l),d);var C=G(k.getData()),S;try{for(C.s();!(S=C.n()).done;){var y=S.value;d.push(y)}}catch(I){C.e(I)}finally{C.f()}}}catch(I){E.e(I)}finally{E.f()}P(d.length==u);var A=a.getNumDataCodewords(l,v)*8;P(d.length<=A),N(0,Math.min(4,A-d.length),d),N(0,(8-d.length%8)%8,d),P(d.length%8==0);for(var w=236;d.length<A;w^=253)N(w,8,d);for(var L=[];L.length*8<d.length;)L.push(0);return d.forEach(function(I,T){return L[T>>>3]|=I<<7-(T&7)}),new a(l,v,L,i)}},{key:"getNumRawDataModules",value:function(e){if(e<a.MIN_VERSION||e>a.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var r=Math.floor(e/7)+2;t-=(25*r-10)*r-55,e>=7&&(t-=36)}return P(208<=t&&t<=29648),t}},{key:"getNumDataCodewords",value:function(e,t){return Math.floor(a.getNumRawDataModules(e)/8)-a.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*a.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],r=0;r<e-1;r++)t.push(0);t.push(1);for(var n=1,i=0;i<e;i++){for(var s=0;s<t.length;s++)t[s]=a.reedSolomonMultiply(t[s],n),s+1<t.length&&(t[s]^=t[s+1]);n=a.reedSolomonMultiply(n,2)}return t}},{key:"reedSolomonComputeRemainder",value:function(e,t){var r=t.map(function(){return 0}),n=G(e),i;try{var s=function(){var u=i.value,c=u^r.shift();r.push(0),t.forEach(function(m,v){return r[v]^=a.reedSolomonMultiply(m,c)})};for(n.s();!(i=n.n()).done;)s()}catch(l){n.e(l)}finally{n.f()}return r}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");for(var r=0,n=7;n>=0;n--)r=r<<1^(r>>>7)*285,r^=(t>>>n&1)*e;return P(r>>>8==0),r}}]),a}();f(D,"MIN_VERSION",1);f(D,"MAX_VERSION",40);f(D,"PENALTY_N1",3);f(D,"PENALTY_N2",3);f(D,"PENALTY_N3",40);f(D,"PENALTY_N4",10);f(D,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]);f(D,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var _e={L:z.LOW,M:z.MEDIUM,Q:z.QUARTILE,H:z.HIGH},oe=128,ie="L",se="#FFFFFF",le="#000000",ue=!1,ce=1,De=4,Ue=0,$e=.1;function de(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=[];return a.forEach(function(t,r){var n=null;t.forEach(function(i,s){if(!i&&n!==null){e.push("M".concat(n+o," ").concat(r+o,"h").concat(s-n,"v1H").concat(n+o,"z")),n=null;return}if(s===t.length-1){if(!i)return;n===null?e.push("M".concat(s+o,",").concat(r+o," h1v1H").concat(s+o,"z")):e.push("M".concat(n+o,",").concat(r+o," h").concat(s+1-n,"v1H").concat(n+o,"z"));return}i&&n===null&&(n=s)})}),e.join("")}function fe(a,o){return a.slice().map(function(e,t){return t<o.y||t>=o.y+o.h?e:e.map(function(r,n){return n<o.x||n>=o.x+o.w?r:!1})})}function Ve(a,o,e,t){if(t==null)return null;var r=a.length+e*2,n=Math.floor(o*$e),i=r/o,s=(t.width||n)*i,l=(t.height||n)*i,u=t.x==null?a.length/2-s/2:t.x*i,c=t.y==null?a.length/2-l/2:t.y*i,m=t.opacity==null?1:t.opacity,v=null;if(t.excavate){var g=Math.floor(u),h=Math.floor(c),R=Math.ceil(s+u-g),d=Math.ceil(l+c-h);v={x:g,y:h,w:R,h:d}}var E=t.crossOrigin;return{x:u,y:c,h:l,w:s,excavation:v,opacity:m,crossOrigin:E}}function Qe(a,o){return o!=null?Math.floor(o):a?De:Ue}var He=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function ve(a){var o=a.value,e=a.level,t=a.minVersion,r=a.includeMargin,n=a.marginSize,i=a.imageSettings,s=a.size,l=O.useMemo(function(){var h=Q.makeSegments(o);return D.encodeSegments(h,_e[e],t)},[o,e,t]),u=O.useMemo(function(){var h=l.getModules(),R=Qe(r,n),d=h.length+R*2,E=Ve(h,s,R,i);return{cells:h,margin:R,numCells:d,calculatedImageSettings:E}},[l,s,i,r,n]),c=u.cells,m=u.margin,v=u.numCells,g=u.calculatedImageSettings;return{qrcode:l,margin:m,cells:c,numCells:v,calculatedImageSettings:g}}var Ge=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],he=p.forwardRef(function(o,e){var t=o.value,r=o.size,n=r===void 0?oe:r,i=o.level,s=i===void 0?ie:i,l=o.bgColor,u=l===void 0?se:l,c=o.fgColor,m=c===void 0?le:c,v=o.includeMargin,g=v===void 0?ue:v,h=o.minVersion,R=h===void 0?ce:h,d=o.marginSize,E=o.style,M=o.imageSettings,k=ae(o,Ge),C=M==null?void 0:M.src,S=O.useRef(null),y=O.useRef(null),A=O.useCallback(function(U){S.current=U,typeof e=="function"?e(U):e&&(e.current=U)},[e]),w=O.useState(!1),L=Se(w,2),I=L[1],T=ve({value:t,level:s,minVersion:R,includeMargin:g,marginSize:d,imageSettings:M,size:n}),$=T.margin,H=T.cells,j=T.numCells,b=T.calculatedImageSettings;O.useEffect(function(){if(S.current!=null){var U=S.current,F=U.getContext("2d");if(!F)return;var ee=H,W=y.current,te=b!=null&&W!==null&&W.complete&&W.naturalHeight!==0&&W.naturalWidth!==0;te&&b.excavation!=null&&(ee=fe(H,b.excavation));var re=window.devicePixelRatio||1;U.height=U.width=n*re;var ne=n/j*re;F.scale(ne,ne),F.fillStyle=u,F.fillRect(0,0,j,j),F.fillStyle=m,He?F.fill(new Path2D(de(ee,$))):H.forEach(function(ge,Ce){ge.forEach(function(pe,Ee){pe&&F.fillRect(Ee+$,Ce+$,1,1)})}),b&&(F.globalAlpha=b.opacity),te&&F.drawImage(W,b.x+$,b.y+$,b.w,b.h)}}),O.useEffect(function(){I(!1)},[C]);var q=ye({height:n,width:n},E),J=null;return C!=null&&(J=p.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:function(){I(!0)},ref:y,crossOrigin:b==null?void 0:b.crossOrigin})),p.createElement(p.Fragment,null,p.createElement("canvas",X({style:q,height:n,width:n,ref:A,role:"img"},k)),J)});he.displayName="QRCodeCanvas";var xe=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],me=p.forwardRef(function(o,e){var t=o.value,r=o.size,n=r===void 0?oe:r,i=o.level,s=i===void 0?ie:i,l=o.bgColor,u=l===void 0?se:l,c=o.fgColor,m=c===void 0?le:c,v=o.includeMargin,g=v===void 0?ue:v,h=o.minVersion,R=h===void 0?ce:h,d=o.title,E=o.marginSize,M=o.imageSettings,k=ae(o,xe),C=ve({value:t,level:s,minVersion:R,includeMargin:g,marginSize:E,imageSettings:M,size:n}),S=C.margin,y=C.cells,A=C.numCells,w=C.calculatedImageSettings,L=y,I=null;M!=null&&w!=null&&(w.excavation!=null&&(L=fe(y,w.excavation)),I=p.createElement("image",{href:M.src,height:w.h,width:w.w,x:w.x+S,y:w.y+S,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));var T=de(L,S);return p.createElement("svg",X({height:n,width:n,viewBox:"0 0 ".concat(A," ").concat(A),ref:e,role:"img"},k),!!d&&p.createElement("title",null,d),p.createElement("path",{fill:u,d:"M0,0 h".concat(A,"v").concat(A,"H0z"),shapeRendering:"crispEdges"}),p.createElement("path",{fill:m,d:T,shapeRendering:"crispEdges"}),I)});me.displayName="QRCodeSVG";const je=a=>{const{componentCls:o,lineWidth:e,lineType:t,colorSplit:r}=a;return{[o]:Object.assign(Object.assign({},ke(a)),{display:"flex",justifyContent:"center",alignItems:"center",padding:a.paddingSM,backgroundColor:a.colorWhite,borderRadius:a.borderRadiusLG,border:`${Ie(e)} ${t} ${r}`,position:"relative",overflow:"hidden",[`& > ${o}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:a.colorText,lineHeight:a.lineHeight,background:a.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${o}-expired, & > ${o}-scanned`]:{color:a.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:a.marginXS,fontSize:a.controlHeight}}),[`${o}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},We=a=>({QRCodeMaskBackgroundColor:new Pe(a.colorBgContainer).setAlpha(.96).toRgbString()}),Ke=be("QRCode",a=>{const o=Ne(a,{QRCodeTextColor:a.colorText});return je(o)},We);var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};const Ze=Ye;var qe=function(o,e){return O.createElement(Be,X({},o,{ref:e,icon:Ze}))},Xe=O.forwardRef(qe);const Je=Xe,et=p.createElement(Te,null);function tt(a){let{prefixCls:o,locale:e,onRefresh:t,statusRender:r,status:n}=a;const i=p.createElement(p.Fragment,null,p.createElement("p",{className:`${o}-expired`},e==null?void 0:e.expired),t&&p.createElement(Le,{type:"link",icon:p.createElement(Je,null),onClick:t},e==null?void 0:e.refresh)),s=p.createElement("p",{className:`${o}-scanned`},e==null?void 0:e.scanned),l={expired:i,loading:et,scanned:s};return(r??(m=>l[m.status]))({status:n,locale:e})}var rt=globalThis&&globalThis.__rest||function(a,o){var e={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&o.indexOf(t)<0&&(e[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(a);r<t.length;r++)o.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(a,t[r])&&(e[t[r]]=a[t[r]]);return e};const nt=a=>{var o,e,t,r;const[,n]=Oe(),{value:i,type:s="canvas",icon:l="",size:u=160,iconSize:c,color:m=n.colorText,errorLevel:v="M",status:g="active",bordered:h=!0,onRefresh:R,style:d,className:E,rootClassName:M,prefixCls:k,bgColor:C="transparent",statusRender:S}=a,y=rt(a,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:A}=O.useContext(ze),w=A("qrcode",k),[L,I,T]=Ke(w),$={src:l,x:void 0,y:void 0,height:typeof c=="number"?c:(o=c==null?void 0:c.height)!==null&&o!==void 0?o:40,width:typeof c=="number"?c:(e=c==null?void 0:c.width)!==null&&e!==void 0?e:40,excavate:!0,crossOrigin:"anonymous"},H={value:i,size:u,level:v,bgColor:C,fgColor:m,style:{width:d==null?void 0:d.width,height:d==null?void 0:d.height},imageSettings:l?$:void 0},[j]=Fe("QRCode");if(!i)return null;const b=Ae(w,E,M,I,T,{[`${w}-borderless`]:!h}),q=Object.assign(Object.assign({backgroundColor:C},d),{width:(t=d==null?void 0:d.width)!==null&&t!==void 0?t:u,height:(r=d==null?void 0:d.height)!==null&&r!==void 0?r:u});return L(p.createElement("div",Object.assign({},y,{className:b,style:q}),g!=="active"&&p.createElement("div",{className:`${w}-mask`},p.createElement(tt,{prefixCls:w,locale:j,status:g,onRefresh:R,statusRender:S})),s==="canvas"?p.createElement(he,Object.assign({},H)):p.createElement(me,Object.assign({},H))))},at=nt;function Tt({data:a,item:o}){var s,l,u;const[e,t]=O.useState(!1),r=()=>{t(!0)},n=()=>{t(!1)},i=()=>{t(!1)};return console.log("data",a),V.jsxs(V.Fragment,{children:[V.jsx(Re.Item,{onClick:r,icon:o.icon,children:o.label}),V.jsx(Me,{footer:!1,title:`${(s=a==null?void 0:a.applicant)==null?void 0:s.fname} ${(l=a==null?void 0:a.applicant)==null?void 0:l.lname}`,open:e,onOk:n,onCancel:i,children:V.jsx("div",{className:"flex w-full justify-center",children:V.jsx("div",{className:"relative",children:V.jsx(at,{onClick:()=>window.open(`/admin/file_201/${a==null?void 0:a.applicant.app_id}`,"_blank"),value:((u=a==null?void 0:a.applicant)==null?void 0:u.app_id)||"",size:256,level:"H",includeMargin:!0,icon:"/images/e-logo.jpeg"})})})})]})}export{Tt as default};
