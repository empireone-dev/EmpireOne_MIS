import{a as r,r as c,j as e,e as x}from"./app-2886a328.js";import N from"./input-814a2c3c.js";import w from"./update-employee-address-section-dbb3f858.js";import{u as y}from"./applicant-thunk-4129517a.js";import{g as C}from"./final-rate-thunk-fcf8a6a1.js";import{d as F}from"./employee-section-thunk-878c75da.js";import{L as _}from"./UnstableContext-525f6eee.js";import{m as j}from"./index-cdc7213a.js";import"./barangay-94589600.js";import"./select-1115f2e5.js";import"./index-58aa8af3.js";import"./presets-0a4a7b07.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./AntdIcon-194bd3b8.js";import"./useId-1a5758dc.js";import"./useZIndex-7dc96b26.js";import"./createSuper-1fe814f3.js";import"./genStyleUtils-695978ce.js";import"./useSize-93b2292e.js";import"./Compact-923e6255.js";import"./ContextIsolator-15e3da29.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./index-6f136086.js";import"./CheckCircleFilled-2e9e8b28.js";import"./CloseCircleFilled-c37cc467.js";import"./InfoCircleFilled-4907a447.js";import"./button-3b33cf22.js";import"./omit-644b1847.js";import"./CloseOutlined-71a9f7bb.js";import"./index-aa7775d7.js";import"./KeyCode-f1cbd105.js";import"./pickAttrs-0a56ca8a.js";import"./fade-7089ddd9.js";import"./useClosable-57a14c8a.js";import"./useLocale-c0f7b987.js";import"./PurePanel-a0131208.js";import"./applicant-record-service-e8cd737a.js";import"./applicant-final-service-a1d04fab.js";import"./employee-service-43899c6e.js";function me(){const{employee:n}=r(s=>s.employees),{applicant:t}=r(s=>s.final_rate),{job_positions:b}=r(s=>s.job_positions),{departments:p}=r(s=>s.departments),{accounts:g}=r(s=>s.accounts),{user:i}=r(s=>s.app),{users:v}=r(s=>s.app),[o,u]=c.useState(null),[l,a]=c.useState({}),h=window.location.pathname.split("/")[5],f=window.location.pathname.split("/")[6];c.useEffect(()=>{var s,d;a({app_id:t==null?void 0:t.app_id,id:t==null?void 0:t.id,emp_id:((s=t==null?void 0:t.employee)==null?void 0:s.emp_id)||"",fname:(t==null?void 0:t.fname)||"",mname:(t==null?void 0:t.mname)||"",lname:(t==null?void 0:t.lname)||"",suffix:(t==null?void 0:t.suffix)||"",gender:(t==null?void 0:t.gender)||"",dob:(t==null?void 0:t.dob)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",marital:(t==null?void 0:t.marital)||"",religion:(t==null?void 0:t.religion)||"",nationality:(t==null?void 0:t.nationality)||"",mmname:(t==null?void 0:t.mmname)||"",ffname:(t==null?void 0:t.ffname)||"",educ:(t==null?void 0:t.educ)||"",courset:(t==null?void 0:t.courset)||"",position:(n==null?void 0:n.position)||"",dept:((d=n==null?void 0:n.dept)==null?void 0:d.dept)||"",account:(n==null?void 0:n.account)||"",sup_id:(n==null?void 0:n.sup_id)||"",hired:(n==null?void 0:n.hired)||"",status:(n==null?void 0:n.status)||"",sss:(t==null?void 0:t.sss)||"",tin:(t==null?void 0:t.tin)||"",pagibig:(t==null?void 0:t.pagibig)||"",philh:(t==null?void 0:t.philh)||"",ename:(t==null?void 0:t.ename)||"",eaddress:(t==null?void 0:t.eaddress)||"",relationship:(t==null?void 0:t.relationship)||"",ephone:(t==null?void 0:t.ephone)||""})},[t,n]),console.log("emploeesss",t);async function m(s){s.preventDefault(),u(!0);try{await x.dispatch(y({...l,employee_id:f,fname:l.fname,mname:l.mname,lname:l.lname,suffix:l.suffix})),await x.dispatch(C(h)),await x.dispatch(F(h)),j.success("Updated Successfully")}catch(d){j.error(d.message||"Error updating changes")}finally{u(!1)}}return console.log("applicant",t),e.jsxs("div",{children:[e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"Personal Information"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:m,children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  text-center"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employee No."})}),e.jsx("input",{type:"text",onChange:s=>a({...l,emp_id:s.target.value}),value:(l==null?void 0:l.emp_id)??""})]})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsxs("div",{className:"flex flex-col w-full mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name"})}),e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx("input",{type:"text",onChange:s=>a({...l,fname:s.target.value}),value:l==null?void 0:l.fname,name:"fname",className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:s=>a({...l,mname:s.target.value}),value:l==null?void 0:l.mname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:s=>a({...l,lname:s.target.value}),value:l==null?void 0:l.lname,className:"border p-2 rounded w-full"}),e.jsxs("select",{value:(l==null?void 0:l.suffix)??"",onChange:s=>a({...l,suffix:s.target.value}),className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:t==null?void 0:t.suffix}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Gender"})}),e.jsxs("select",{value:(l==null?void 0:l.gender)??"",onChange:s=>a({...l,gender:s.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:t==null?void 0:t.gender}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date of Birth"})}),e.jsx("input",{type:"date",value:(l==null?void 0:l.dob)??"",onChange:s=>a({...l,dob:s.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Email"})}),e.jsx("input",{type:"email",value:(l==null?void 0:l.email)??"",onChange:s=>a({...l,email:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Phone Number"})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.phone)??"",onChange:s=>a({...l,phone:s.target.value}),className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Marital Status"})}),e.jsxs("select",{value:(l==null?void 0:l.marital)??"",onChange:s=>a({...l,marital:s.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:t==null?void 0:t.marital}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Religion"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.religion)??"",onChange:s=>a({...l,religion:s.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Nationality"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.nationality)??"",onChange:s=>a({...l,nationality:s.target.value}),className:"border p-2 rounded w-full"})]})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Mother's Maiden Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.mmname)??"",onChange:s=>a({...l,mmname:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Father's Full Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ffname)??"",onChange:s=>a({...l,ffname:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Highest Educational Attainment"})}),e.jsxs("select",{value:(l==null?void 0:l.educ)??"",onChange:s=>a({...l,educ:s.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:t==null?void 0:t.educ}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Course Taken (Only if Applicable)"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.courset)??"",onChange:s=>a({...l,courset:s.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Job Position"})}),e.jsxs("select",{value:(l==null?void 0:l.position)??"",onChange:s=>a({...l,position:s.target.value}),name:"position",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Job Position"}),b.filter(s=>(i==null?void 0:i.role_id)===1||(i==null?void 0:i.role_id)===2||s.site===(i==null?void 0:i.site)).map((s,d)=>e.jsx("option",{value:s.jPosition,children:s.jPosition},d))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department"})}),e.jsxs("select",{value:(l==null?void 0:l.dept)??"",onChange:s=>a({...l,dept:s.target.value}),name:"dept",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Department"}),p.filter(s=>(i==null?void 0:i.role_id)===1||(i==null?void 0:i.role_id)===2||s.site===(i==null?void 0:i.site)).map((s,d)=>e.jsx("option",{value:s.dept,children:s.dept},d))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account (If Applicable)"})}),e.jsxs("select",{value:(l==null?void 0:l.account)??"",onChange:s=>a({...l,account:s.target.value}),name:"account",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Account (If Applicable)"}),e.jsx("option",{value:"",children:"--"}),g.map((s,d)=>e.jsx("option",{value:s.acc,children:s.acc},d))]})]})]})})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Supervisor"})}),e.jsxs("select",{value:(l==null?void 0:l.sup_id)??"",onChange:s=>a({...l,sup_id:s.target.value}),name:"sup_id",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Supervisor"}),v.filter(s=>(i==null?void 0:i.role_id)===1||(i==null?void 0:i.role_id)===2||s.site===(i==null?void 0:i.site)).filter(s=>["Manager","Account Manager","Supervisor","Team Leader","Director","CEO"].includes(s.position)).map((s,d)=>e.jsxs("option",{value:s.id,children:[s.employee_fname," ",s.employee_lname]},s.id))]})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{})}),e.jsx(N,{value:(l==null?void 0:l.hired)??"",onChange:s=>a({...l,hired:s.target.value}),name:"hired",label:"Hired Date",type:"date"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Status"})}),e.jsxs("select",{value:(l==null?void 0:l.status)??"",onChange:s=>a({...l,status:s.target.value}),name:"status",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:n==null?void 0:n.status}),e.jsx("option",{children:" Probationary"}),e.jsx("option",{children:" Regular"}),e.jsx("option",{children:" Contractual"}),e.jsx("option",{children:" Trainee"}),e.jsx("option",{children:" Fallout"})]})]})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsx("div",{className:"flex flex-1 gap-1 mb-4 w-full",children:e.jsx("div",{className:"flex flex-col w-full",children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:t==null?void 0:t.caddress,className:"border p-2 rounded w-full",readOnly:!0}),e.jsx(w,{})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"SSS No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.sss)??"",onChange:s=>a({...l,sss:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Pag-IBIG No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.pagibig)??"",onChange:s=>a({...l,pagibig:s.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Tin No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.tin)??"",onChange:s=>a({...l,tin:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Philhealth No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.philh)??"",onChange:s=>a({...l,philh:s.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Emergency Contact Information"}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Emergency Contact Fullname"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ename)??"",onChange:s=>a({...l,ename:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Address"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.eaddress)??"",onChange:s=>a({...l,eaddress:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Relationship"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.relationship)??"",onChange:s=>a({...l,relationship:s.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Contact No."})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.ephone)??"",onChange:s=>a({...l,ephone:s.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex gap-2 justify-end items-center mt-6",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg ${o?"cursor-not-allowed opacity-75":""}`,onClick:m,disabled:o,children:[o?e.jsx(_,{spin:!0}):e.jsx(e.Fragment,{}),o?" UPDATING...":"  Save Changes"]})})]})]})}export{me as default};
