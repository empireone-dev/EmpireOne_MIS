import{r,j as t}from"./store-62f7920c.js";import{u as g}from"./app-283f4567.js";import x from"./file-201-approved-section-109379b9.js";import h from"./file-201-button-declined-section-44a906cb.js";import{a as p}from"./warning-2d1cca5c.js";import{A as d}from"./AntdIcon-65317f45.js";import{M as w}from"./index-c737882c.js";import{I as v}from"./index-2dbf4bc0.js";import{L as j}from"./UnstableContext-35a19df7.js";import{D as b}from"./DownloadOutlined-95f0e6ca.js";import"./pre-employment-file-service-f311d647.js";import"./final-rate-thunk-4e669a38.js";import"./applicant-final-service-783dc1ef.js";import"./applicant-record-service-6fceb66d.js";import"./file-201-declined-section-107969b9.js";import"./index-0c86a987.js";import"./genStyleUtils-15f8d671.js";import"./typeof-7fd5df1e.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-3678ba0a.js";import"./shadow-599e9a46.js";import"./CheckCircleFilled-03b44592.js";import"./CloseCircleFilled-c845312c.js";import"./InfoCircleFilled-ac5c32ea.js";import"./KeyCode-df1ca81f.js";import"./pickAttrs-3aceaf38.js";import"./useZIndex-8e23c1bd.js";import"./CloseOutlined-4c6c4fc7.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./index-30b809f4.js";import"./index-9a9bf4e0.js";import"./floating-ui.dom-dbc86a7b.js";import"./useId-deef0879.js";import"./button-ae249f5f.js";import"./omit-644b1847.js";import"./Compact-bf86ed77.js";import"./useSize-a88e28b8.js";import"./index-9090d876.js";import"./index-a97f45b0.js";import"./fade-258fa6cb.js";import"./ContextIsolator-3f516763.js";import"./useClosable-6a09e984.js";import"./Skeleton-bc6a7ffb.js";import"./useLocale-d75cf765.js";import"./PurePanel-b3c1e162.js";import"./EyeOutlined-fc430ed1.js";import"./addEventListener-b42b7d1a.js";import"./RightOutlined-3acf5aed.js";var y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 01-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z"}}]},name:"picture",theme:"filled"};const S=y;var N=function(i,o){return r.createElement(d,p({},i,{ref:o,icon:S}))},$=r.forwardRef(N);const C=$;var F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};const D=F;var I=function(i,o){return r.createElement(d,p({},i,{ref:o,icon:D}))},O=r.forwardRef(I);const R=O;function Oe({data:e}){const[i,o]=r.useState(!1),[l,m]=r.useState(!1),{applicant:c}=g(n=>n.final_rate),u=async()=>{if(e!=null&&e.reqs_img)try{m(!0);const n=(c==null?void 0:c.lname)||"Unknown",a=`${e.reqs||"download"} (${n})`,f=`/api/download-file?url=${encodeURIComponent(e.reqs_img)}&filename=${encodeURIComponent(a)}`,s=document.createElement("a");s.href=f,s.download=a,document.body.appendChild(s),s.click(),s.remove(),setTimeout(()=>{m(!1)},3e3)}catch(n){console.error("Download failed:",n),m(!1)}};return t.jsxs("div",{children:[t.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 shadow-lg shadow-cyan-500/50 font-medium rounded-lg text-lg px-3.5 py-2 text-center",children:t.jsx(C,{})}),t.jsxs(w,{title:e.reqs,visible:i,onCancel:()=>o(!1),width:800,footer:null,children:[e!=null&&e.reqs_img?t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(v,{src:e.reqs_img,alt:"Requirement",width:300}),e.status==="Approved"&&t.jsxs("button",{onClick:u,disabled:l,className:`mt-3 flex items-center gap-2 text-white font-medium rounded-lg text-base px-3 py-2 ${l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 shadow-lg shadow-green-500/50"}`,children:[l?t.jsx(j,{}):t.jsx(b,{}),l?"Downloading...":"Download"]})]}):t.jsxs("p",{className:"flex items-center justify-center text-gray-400 font-sans",children:[t.jsx(R,{className:"mr-1"}),"No image available"]}),t.jsx("div",{className:"flex flex-1 gap-1.5 w-full items-center justify-center mt-3 text-white",children:e.status==="Uploaded"?t.jsxs(t.Fragment,{children:[t.jsx(x,{setOpen:o,data:e}),t.jsx(h,{setOpen:o,data:e})]}):t.jsxs("p",{className:"text-center",children:["Status: ",e.status]})})]})]})}export{Oe as default};
