import{r,j as t}from"./store-dfefbe8e.js";import{u as g}from"./app-1c062e59.js";import x from"./file-201-approved-section-0016c194.js";import h from"./file-201-button-declined-section-66824b64.js";import{a as p}from"./warning-84b5a13c.js";import{A as d}from"./AntdIcon-662b4ce2.js";import{M as w}from"./index-70ecf96c.js";import{I as v}from"./index-a55499ea.js";import{D as j}from"./DownloadOutlined-2525b67c.js";import{L as b}from"./UnstableContext-8f082312.js";import"./pre-employment-file-service-06ed2f9c.js";import"./final-rate-thunk-041f8d28.js";import"./applicant-final-service-783dc1ef.js";import"./applicant-record-service-5f54934d.js";import"./file-201-declined-section-a7e85bbe.js";import"./index-1edd133b.js";import"./genStyleUtils-dc2953b7.js";import"./typeof-7fd5df1e.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-7190973e.js";import"./shadow-715c9ad9.js";import"./CheckCircleFilled-27464bf9.js";import"./CloseCircleFilled-1636f424.js";import"./InfoCircleFilled-00494e98.js";import"./KeyCode-15b469c5.js";import"./pickAttrs-d3af9801.js";import"./useZIndex-116715ea.js";import"./CloseOutlined-1d44fcd4.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./index-ae833adc.js";import"./index-a90577a4.js";import"./floating-ui.dom-dbc86a7b.js";import"./useId-0151bc2a.js";import"./button-f70d1a6c.js";import"./omit-644b1847.js";import"./Compact-84650a2b.js";import"./useSize-ded6274f.js";import"./index-4c408b25.js";import"./index-edea1b6d.js";import"./fade-64fbf5b6.js";import"./ContextIsolator-bc7b4b63.js";import"./useClosable-34391ef2.js";import"./Skeleton-311ddca9.js";import"./useLocale-669824da.js";import"./PurePanel-6b702b73.js";import"./EyeOutlined-b7172810.js";import"./addEventListener-f7e78d33.js";import"./RightOutlined-357e0117.js";var y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 01-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z"}}]},name:"picture",theme:"filled"};const S=y;var N=function(i,o){return r.createElement(d,p({},i,{ref:o,icon:S}))},$=r.forwardRef(N);const C=$;var F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};const D=F;var I=function(i,o){return r.createElement(d,p({},i,{ref:o,icon:D}))},O=r.forwardRef(I);const R=O;function Oe({data:e}){const[i,o]=r.useState(!1),[l,m]=r.useState(!1),{applicant:c}=g(n=>n.final_rate),u=async()=>{if(e!=null&&e.reqs_img)try{m(!0);const n=(c==null?void 0:c.lname)||"Unknown",a=`${e.reqs||"download"} (${n})`,f=`/api/download-file?url=${encodeURIComponent(e.reqs_img)}&filename=${encodeURIComponent(a)}`,s=document.createElement("a");s.href=f,s.download=a,document.body.appendChild(s),s.click(),s.remove(),setTimeout(()=>{m(!1)},3e3)}catch(n){console.error("Download failed:",n),m(!1)}};return t.jsxs("div",{children:[t.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 shadow-lg shadow-cyan-500/50 font-medium rounded-lg text-lg px-3.5 py-2 text-center",children:t.jsx(C,{})}),t.jsxs(w,{title:e.reqs,visible:i,onCancel:()=>o(!1),width:800,footer:null,children:[e!=null&&e.reqs_img?t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(v,{src:e.reqs_img,alt:"Requirement",width:300}),e.status==="Approved"&&t.jsxs("button",{onClick:u,disabled:l,className:`mt-3 flex items-center gap-2 text-white font-medium rounded-lg text-base px-3 py-2 ${l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 shadow-lg shadow-green-500/50"}`,children:[l?t.jsx(b,{}):t.jsx(j,{}),l?"Downloading...":"Download"]})]}):t.jsxs("p",{className:"flex items-center justify-center text-gray-400 font-sans",children:[t.jsx(R,{className:"mr-1"}),"No image available"]}),t.jsx("div",{className:"flex flex-1 gap-1.5 w-full items-center justify-center mt-3 text-white",children:e.status==="Uploaded"?t.jsxs(t.Fragment,{children:[t.jsx(x,{setOpen:o,data:e}),t.jsx(h,{setOpen:o,data:e})]}):t.jsxs("p",{className:"text-center",children:["Status: ",e.status]})})]})]})}export{Oe as default};
