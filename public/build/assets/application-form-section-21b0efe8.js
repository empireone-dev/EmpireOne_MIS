import{r as c,a as J,u as P,j as e,e as q,p}from"./app-290fa89c.js";import L from"./working-experience-section-7db186f9.js";import{d as G}from"./applicant-thunk-c521d5bb.js";import{p as N,r as B,c as R,b as U}from"./barangay-94589600.js";import{h as W}from"./moment-a9aaa855.js";import i from"./input-9e5c31ad.js";import x from"./select-5b86420e.js";import Y from"./upload-resume-section-c1ebb920.js";import{m as y}from"./index-8be7773d.js";import{L as V}from"./LoadingOutlined-293a027b.js";import{S as H}from"./SendOutlined-083f4ef2.js";import"./CloseOutlined-ffa2cd23.js";import"./presets-45142f19.js";import"./AntdIcon-312569f2.js";import"./PlusOutlined-28002bc6.js";import"./applicant-record-service-6b7574c9.js";import"./applicant-final-service-a1d04fab.js";import"./FilePdfOutlined-d4b8c00d.js";import"./XMarkIcon-e4191ab5.js";import"./genStyleUtils-0202e87b.js";import"./useZIndex-0065d2dc.js";import"./UnstableContext-e23e6c13.js";import"./asyncToGenerator-dd66d97c.js";import"./CheckCircleFilled-c482e6c0.js";import"./CloseCircleFilled-2357cd51.js";import"./InfoCircleFilled-fb75132d.js";import"./KeyCode-1382cb65.js";import"./pickAttrs-d9a219fe.js";function we(){c.useState(!1);const[K,w]=c.useState(0),{applicantForm:l}=J(a=>a.applicants),[C,S]=c.useState([]),[k,_]=c.useState([]),[I,F]=c.useState([]),[n,M]=c.useState({});console.log("applicants",l);const d=P();c.useEffect(()=>{(async()=>{w(0)})()},[]);function E(a){const s=new Date(a),o=new Date;let r=o.getFullYear()-s.getFullYear();const v=o.getMonth()-s.getMonth();return(v<0||v===0&&o.getDate()<s.getDate())&&r--,r??0}async function u(a){b(!0),E(l.dob??new Date);const s=new FormData;s.append("files",j??""),s.append("site",l.site??""),s.append("fname",l.fname??""),s.append("mname",l.mname??""),s.append("lname",l.lname??""),s.append("suffix",l.suffix??""),s.append("dob",l.dob??W().format("YYYY-MM-DD")),s.append("religion",l.religion??""),s.append("email",l.email??""),s.append("nationality",l.nationality??""),s.append("phone",l.phone??""),s.append("mmname",l.mmname??""),s.append("ffname",l.ffname??""),s.append("educ",l.educ??""),s.append("courset",l.courset??""),s.append("hired",l.hired??""),s.append("lot",l.lot??""),s.append("sss",l.sss??""),s.append("pagibig",l.pagibig??""),s.append("tin",l.tin??""),s.append("philh",l.philh??""),s.append("ename",l.ename??""),s.append("eaddress",l.eaddress??""),s.append("relationship",l.relationship??""),s.append("ephone",l.ephone??""),s.append("marital",l.marital??""),s.append("gender",l.gender??""),s.append("region",l.region??""),s.append("city",l.city??""),s.append("brgy",l.brgy??""),s.append("province",l.province??""),l.work_experience.forEach(o=>{s.append("work_experience[]",JSON.stringify({company:o.company,position:o.position,started_at:o.started_at,end_at:o.end_at}))});try{const o=await q.dispatch(G(s));o.status===200?y.success("Application has been submitted successfully"):(M(o.response.data.errors),y.error("Failed to submit Application/Application Exist"))}catch(o){console.error(o)}finally{b(!1)}}console.log("province",N);const[h,f]=c.useState(!1),[A,g]=c.useState(!1),[j,D]=c.useState(null),[m,b]=c.useState(null),O=a=>{f(a.target.checked),g(!1)},T=a=>{g(a.target.checked),f(!1)};function t(a){if(a.target.name=="region"){const s=JSON.parse(a.target.value),o=N.filter(r=>r.region_code===s.region_code);S(o),d(p({...l,[a.target.name]:s.name}))}else if(a.target.name=="province"){const s=JSON.parse(a.target.value),o=R.filter(r=>r.province_code===s.province_code);_(o),d(p({...l,[a.target.name]:s.name}))}else if(a.target.name=="city"){const s=JSON.parse(a.target.value),o=U.filter(r=>r.city_code===s.city_code);F(o),d(p({...l,[a.target.name]:s.name}))}else d(p({...l,[a.target.name]:a.target.value}))}return console.log("ssssssssss",l),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto px-10 flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"ONLINE APPLICATION FORM"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:u,children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 mt-4 text-gray-900 ",children:"Site Information"}),e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("select",{onChange:a=>t(a),name:"site",className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Site"}),e.jsx("option",{children:"San Carlos "}),e.jsx("option",{children:"Carcar "})]}),(n==null?void 0:n.site)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Personal Information"}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx(i,{onChange:a=>t(a),value:l.fname??"",required:!!(n!=null&&n.fname),name:"fname",label:"First Name",type:"text",errorMessage:n==null?void 0:n.fname}),e.jsx(i,{onChange:a=>t(a),value:l.mname??"",required:!!(n!=null&&n.mname),name:"mname",label:"Middle Name",type:"text"}),e.jsx(i,{onChange:a=>t(a),value:l.lname??"",required:!!(n!=null&&n.lname),name:"lname",label:"Last Name",type:"text",errorMessage:n==null?void 0:n.lname}),e.jsxs("select",{onChange:a=>t(a),name:"suffix",className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Suffix"}),e.jsx("option",{}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"}),e.jsx("option",{children:" VI"}),e.jsx("option",{children:" VII"})]})]})})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("select",{onChange:a=>t(a),name:"gender",className:`border p-2 rounded w-full ${n!=null&&n.gender?"border-red-500":""}`,children:[e.jsx("option",{className:"",disabled:!0,selected:!0,children:"  Gender"}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]}),(n==null?void 0:n.gender)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.dob??"",required:!!(n!=null&&n.dob),name:"dob",label:"Date of Birth",type:"date",errorMessage:n==null?void 0:n.dob})}),e.jsx("div",{className:" w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.email??"",required:!!(n!=null&&n.email),name:"email",label:"Email",type:"email",errorMessage:n==null?void 0:n.email})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.phone??"",required:!!(n!=null&&n.phone),name:"phone",label:"Phone Number",type:"number",errorMessage:n==null?void 0:n.phone})})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("select",{onChange:a=>t(a),name:"marital",className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"  Marital Status"}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]}),(n==null?void 0:n.marital)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.religion??"",required:!!(n!=null&&n.religion),name:"religion",label:"Religion",type:"text"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.nationality??"",required:!!(n!=null&&n.nationality),name:"nationality",label:"Nationality",type:"text"})})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(i,{onChange:a=>t(a),value:l.mmname??"",name:"mmname",label:"Mothers maiden name",type:"text"})}),e.jsx("div",{className:"mb-4",children:e.jsx(i,{onChange:a=>t(a),value:l.ffname??"",name:"ffname",label:"Fathers fullname",type:"text"})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsxs("select",{name:"educ",className:"border p-2.5 rounded w-full",onChange:a=>t(a),children:[e.jsx("option",{disabled:!0,selected:!0,children:"  Highest Educational Attainment"}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.courset??"",name:"courset",label:"Course taken",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4 w-full",children:[e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:a=>t(a),options:B.map(a=>({label:a.region_name,value:JSON.stringify({name:a.region_name,region_code:a.region_code})})),name:"region",label:"Region"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:a=>t(a),options:C.map(a=>({label:a.province_name,value:JSON.stringify({name:a.province_name,province_code:a.province_code})})),name:"province",label:"Province"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:a=>t(a),options:k.map(a=>({label:a.city_name,value:JSON.stringify({name:a.city_name,city_code:a.city_code})})),name:"city",label:"City/Municipality"})})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"flex flex-col  w-1/2",children:e.jsx(x,{onChange:a=>t(a),options:I.map(a=>({label:a.brgy_name,value:a.brgy_name})),name:"brgy",label:"Barangay"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.lot??"",name:"lot",label:"House/Lot No., Street, Purok/Sitio",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.sss??"",name:"sss",label:"SSS No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.pagibig??"",name:"pagibig",label:"Pag-IBIG No.",type:"text"})})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.tin??"",name:"tin",label:"Tin No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.philh??"",name:"philh",label:"Philhealth No.",type:"text"})})]}),e.jsxs("div",{className:"flex items-center mb-4 mt-6",children:[e.jsx("input",{id:"with-working-experience-checkbox",type:"checkbox",value:"",checked:h,onChange:O,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  "}),e.jsx("label",{htmlFor:"with-working-experience-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"with Working Experience"})})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{id:"first-time-jobseeker-checkbox",type:"checkbox",value:"",checked:A,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  ",disabled:h}),e.jsx("label",{htmlFor:"first-time-jobseeker-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"First Time Jobseeker"})})]}),h&&e.jsx(L,{}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-7",children:"Emergency Contact Information"}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.ename??"",name:"ename",label:"Emergency Contact Fullname",type:"text"})}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.eaddress??"",name:"eaddress",label:"Address",type:"text"})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.relationship??"",name:"relationship",label:"Relationship",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.ephone??"",name:"ephone",label:"Contact No.",type:"number"})})]}),e.jsx(Y,{files:j,setFiles:D}),e.jsx("div",{className:"flex justify-end mt-2.5",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${m?"cursor-not-allowed opacity-75":""}`,onClick:u,disabled:m,children:[m?e.jsx(V,{spin:!0}):e.jsx(H,{}),m?" SUBMITTING...":" SUBMIT APPLICATION"]})})]})]})})})})}export{we as default};
