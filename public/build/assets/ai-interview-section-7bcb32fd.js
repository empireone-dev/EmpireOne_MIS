import{r as i,p as St,b as Le,j as r}from"./store-aa341ee4.js";import{C as pe,A as me}from"./index-fe758f11.js";import{A as ae}from"./index-ac1f93af.js";import{a as se,d as wt,b as de,F as Ct,i as Et}from"./warning-09955f2d.js";import{A as ue,_ as jt}from"./AntdIcon-07c57142.js";import{S as qe}from"./index-22279513.js";import{L as Ze}from"./UnstableContext-441c2f2b.js";import{_ as We}from"./defineProperty-83f36300.js";import{u as Ce}from"./useId-dd762eea.js";import{K as Ee}from"./KeyCode-4941b5d3.js";import{W as It,B as ge}from"./button-085a2a08.js";import{D as $t,u as Ot}from"./index-a2bd78cd.js";import{u as Tt,t as et}from"./useSize-69e48be8.js";import{g as tt,m as kt,b as te,r as Nt,h as Mt,C as nt,N as st,c as Rt,d as it,a as ce,_ as _t}from"./genStyleUtils-f2b8a870.js";import{T as Pt,I as At}from"./index-a95b5634.js";import{E as Lt}from"./EditOutlined-41448ade.js";import{R as zt}from"./index-037797f6.js";import{o as rt}from"./omit-644b1847.js";import{i as Be}from"./styleChecker-2a9270ed.js";import{u as Dt}from"./useLocale-5d2e736e.js";import{T as ze}from"./index-356f9c3c.js";import{c as Ht}from"./Compact-7458c98c.js";import{C as qt}from"./CheckOutlined-2b144d88.js";import{C as Wt}from"./CopyOutlined-7ddc1e1c.js";import{U as Bt}from"./UserOutlined-8fd750fa.js";import{S as Vt}from"./SendOutlined-b8afb756.js";import"./CheckCircleFilled-3b7708f4.js";import"./CloseCircleFilled-44dce5db.js";import"./CloseOutlined-c8671faa.js";import"./InfoCircleFilled-675374b4.js";import"./pickAttrs-cff67d9e.js";import"./createSuper-f29e89b0.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./Skeleton-d6ede137.js";import"./index-97e310be.js";import"./index-8ae0620b.js";import"./app-9cca76ab.js";import"./PlusOutlined-a66b3699.js";import"./Dropdown-ab47b833.js";import"./useVariants-8ee75aa4.js";import"./ContextIsolator-9b7fdd2e.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./useBreakpoint-9dc1e5c3.js";import"./useForceUpdate-cb89e0a1.js";import"./Input-78c24773.js";import"./EyeOutlined-4e7534b9.js";import"./useZIndex-544afbd3.js";var Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92a95.8 95.8 0 01-52-15l-54 55c29.1 22.4 65.9 36 106 36 93.8 0 170-75.1 170-168z"}},{tag:"path",attrs:{d:"M833 446h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254-63 0-120.7-23-165-61l-54 54a334.01 334.01 0 00179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328 0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9a8 8 0 00-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68A252.33 252.33 0 01258 454c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8 0 53 12.5 103 34.6 147.4l-137 137a8.03 8.03 0 000 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92 46 0 84.1 32.3 92.3 74.7L417 401z"}}]},name:"audio-muted",theme:"outlined"};const Ut=Ft;var Qt=function(t,s){return i.createElement(ue,se({},t,{ref:s,icon:Ut}))},Kt=i.forwardRef(Qt);const Ve=Kt;var Xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"};const Yt=Xt;var Gt=function(t,s){return i.createElement(ue,se({},t,{ref:s,icon:Yt}))},Jt=i.forwardRef(Gt);const Fe=Jt;var Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const en=Zt;var tn=function(t,s){return i.createElement(ue,se({},t,{ref:s,icon:en}))},nn=i.forwardRef(tn);const sn=nn;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"};const on=rn;var an=function(t,s){return i.createElement(ue,se({},t,{ref:s,icon:on}))},ln=i.forwardRef(an);const Ue=ln;var cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};const dn=cn;var un=function(t,s){return i.createElement(ue,se({},t,{ref:s,icon:dn}))},pn=i.forwardRef(un);const mn=pn;var gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"};const fn=gn;var hn=function(t,s){return i.createElement(ue,se({},t,{ref:s,icon:fn}))},yn=i.forwardRef(hn);const le=yn;function bn(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}var vn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],ot=i.forwardRef(function(e,t){var s,n=e.prefixCls,o=n===void 0?"rc-switch":n,c=e.className,u=e.checked,l=e.defaultChecked,a=e.disabled,d=e.loadingIcon,p=e.checkedChildren,g=e.unCheckedChildren,h=e.onClick,E=e.onChange,k=e.onKeyDown,N=jt(e,vn),P=Ce(!1,{value:u,defaultValue:l}),v=wt(P,2),A=v[0],L=v[1];function I(O,B){var w=A;return a||(w=O,L(w),E==null||E(w,B)),w}function M(O){O.which===Ee.LEFT?I(!1,O):O.which===Ee.RIGHT&&I(!0,O),k==null||k(O)}function $(O){var B=I(!A,O);h==null||h(B,O)}var j=de(o,c,(s={},We(s,"".concat(o,"-checked"),A),We(s,"".concat(o,"-disabled"),a),s));return i.createElement("button",se({},N,{type:"button",role:"switch","aria-checked":A,disabled:a,className:j,ref:t,onKeyDown:M,onClick:$}),d,i.createElement("span",{className:"".concat(o,"-inner")},i.createElement("span",{className:"".concat(o,"-inner-checked")},p),i.createElement("span",{className:"".concat(o,"-inner-unchecked")},g)))});ot.displayName="Switch";const xn=e=>{const{componentCls:t,trackHeightSM:s,trackPadding:n,trackMinWidthSM:o,innerMinMarginSM:c,innerMaxMarginSM:u,handleSizeSM:l,calc:a}=e,d=`${t}-inner`,p=te(a(l).add(a(n).mul(2)).equal()),g=te(a(u).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:o,height:s,lineHeight:te(s),[`${t}-inner`]:{paddingInlineStart:u,paddingInlineEnd:c,[`${d}-checked, ${d}-unchecked`]:{minHeight:s},[`${d}-checked`]:{marginInlineStart:`calc(-100% + ${p} - ${g})`,marginInlineEnd:`calc(100% - ${p} + ${g})`},[`${d}-unchecked`]:{marginTop:a(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:l,height:l},[`${t}-loading-icon`]:{top:a(a(l).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:c,paddingInlineEnd:u,[`${d}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${d}-unchecked`]:{marginInlineStart:`calc(100% - ${p} + ${g})`,marginInlineEnd:`calc(-100% + ${p} - ${g})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${te(a(l).add(n).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${d}`]:{[`${d}-unchecked`]:{marginInlineStart:a(e.marginXXS).div(2).equal(),marginInlineEnd:a(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${d}`]:{[`${d}-checked`]:{marginInlineStart:a(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:a(e.marginXXS).div(2).equal()}}}}}}},Sn=e=>{const{componentCls:t,handleSize:s,calc:n}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:n(n(s).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},wn=e=>{const{componentCls:t,trackPadding:s,handleBg:n,handleShadow:o,handleSize:c,calc:u}=e,l=`${t}-handle`;return{[t]:{[l]:{position:"absolute",top:s,insetInlineStart:s,width:c,height:c,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n,borderRadius:u(c).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${l}`]:{insetInlineStart:`calc(100% - ${te(u(c).add(s).equal())})`},[`&:not(${t}-disabled):active`]:{[`${l}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${l}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Cn=e=>{const{componentCls:t,trackHeight:s,trackPadding:n,innerMinMargin:o,innerMaxMargin:c,handleSize:u,calc:l}=e,a=`${t}-inner`,d=te(l(u).add(l(n).mul(2)).equal()),p=te(l(c).mul(2).equal());return{[t]:{[a]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:c,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${a}-checked, ${a}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:s},[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${p})`,marginInlineEnd:`calc(100% - ${d} + ${p})`},[`${a}-unchecked`]:{marginTop:l(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${a}`]:{paddingInlineStart:o,paddingInlineEnd:c,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${p})`,marginInlineEnd:`calc(-100% + ${d} - ${p})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:l(n).mul(2).equal(),marginInlineEnd:l(n).mul(-1).mul(2).equal()}},[`&${t}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:l(n).mul(-1).mul(2).equal(),marginInlineEnd:l(n).mul(2).equal()}}}}}},En=e=>{const{componentCls:t,trackHeight:s,trackMinWidth:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Nt(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n,height:s,lineHeight:te(s),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),Mt(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},jn=e=>{const{fontSize:t,lineHeight:s,controlHeight:n,colorWhite:o}=e,c=t*s,u=n/2,l=2,a=c-l*2,d=u-l*2;return{trackHeight:c,trackHeightSM:u,trackMinWidth:a*2+l*4,trackMinWidthSM:d*2+l*2,trackPadding:l,handleBg:o,handleSize:a,handleSizeSM:d,handleShadow:`0 2px 4px 0 ${new Ct("#00230b").setA(.2).toRgbString()}`,innerMinMargin:a/2,innerMaxMargin:a+l+l*2,innerMinMarginSM:d/2,innerMaxMarginSM:d+l+l*2}},In=tt("Switch",e=>{const t=kt(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[En(t),Cn(t),wn(t),Sn(t),xn(t)]},jn);var $n=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const On=i.forwardRef((e,t)=>{const{prefixCls:s,size:n,disabled:o,loading:c,className:u,rootClassName:l,style:a,checked:d,value:p,defaultChecked:g,defaultValue:h,onChange:E}=e,k=$n(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[N,P]=Ce(!1,{value:d??p,defaultValue:g??h}),{getPrefixCls:v,direction:A,switch:L}=i.useContext(nt),I=i.useContext($t),M=(o??I)||c,$=v("switch",s),j=i.createElement("div",{className:`${$}-handle`},c&&i.createElement(Ze,{className:`${$}-loading-icon`})),[O,B,w]=In($),K=Tt(n),z=de(L==null?void 0:L.className,{[`${$}-small`]:K==="small",[`${$}-loading`]:c,[`${$}-rtl`]:A==="rtl"},u,l,B,w),V=Object.assign(Object.assign({},L==null?void 0:L.style),a),C=function(){P(arguments.length<=0?void 0:arguments[0]),E==null||E.apply(void 0,arguments)};return O(i.createElement(It,{component:"Switch"},i.createElement(ot,Object.assign({},k,{checked:N,onChange:C,prefixCls:$,className:z,style:V,disabled:M,ref:t,loadingIcon:j}))))}),at=On;at.__ANT_SWITCH=!0;const Qe=at,Tn=(e,t,s,n)=>{const{titleMarginBottom:o,fontWeightStrong:c}=n;return{marginBottom:o,color:s,fontWeight:c,fontSize:e,lineHeight:t}},kn=e=>{const t=[1,2,3,4,5],s={};return t.forEach(n=>{s[`
      h${n}&,
      div&-h${n},
      div&-h${n} > textarea,
      h${n}
    `]=Tn(e[`fontSizeHeading${n}`],e[`lineHeightHeading${n}`],e.colorTextHeading,e)}),s},Nn=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},st(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Mn=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Et[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),Rn=e=>{const{componentCls:t,paddingSM:s}=e,n=s;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(n).mul(-1).equal(),marginBottom:`calc(1em - ${te(n)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},_n=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Pn=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),An=e=>{const{componentCls:t,titleMarginTop:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},kn(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:s},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:s}}}),Mn(e)),Nn(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},st(e)),{marginInlineStart:e.marginXXS})}),Rn(e)),_n(e)),Pn()),{"&-rtl":{direction:"rtl"}})}},Ln=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),lt=tt("Typography",e=>[An(e)],Ln),zn=e=>{const{prefixCls:t,"aria-label":s,className:n,style:o,direction:c,maxLength:u,autoSize:l=!0,value:a,onSave:d,onCancel:p,onEnd:g,component:h,enterIcon:E=i.createElement(sn,null)}=e,k=i.useRef(null),N=i.useRef(!1),P=i.useRef(null),[v,A]=i.useState(a);i.useEffect(()=>{A(a)},[a]),i.useEffect(()=>{var C;if(!((C=k.current)===null||C===void 0)&&C.resizableTextArea){const{textArea:S}=k.current.resizableTextArea;S.focus();const{length:R}=S.value;S.setSelectionRange(R,R)}},[]);const L=C=>{let{target:S}=C;A(S.value.replace(/[\n\r]/g,""))},I=()=>{N.current=!0},M=()=>{N.current=!1},$=C=>{let{keyCode:S}=C;N.current||(P.current=S)},j=()=>{d(v.trim())},O=C=>{let{keyCode:S,ctrlKey:R,altKey:Y,metaKey:D,shiftKey:U}=C;P.current!==S||N.current||R||Y||D||U||(S===Ee.ENTER?(j(),g==null||g()):S===Ee.ESC&&p())},B=()=>{j()},[w,K,z]=lt(t),V=de(t,`${t}-edit-content`,{[`${t}-rtl`]:c==="rtl",[`${t}-${h}`]:!!h},n,K,z);return w(i.createElement("div",{className:V,style:o},i.createElement(Pt,{ref:k,maxLength:u,value:v,onChange:L,onKeyDown:$,onKeyUp:O,onCompositionStart:I,onCompositionEnd:M,onBlur:B,"aria-label":s,rows:1,autoSize:l}),E!==null?Ht(E,{className:`${t}-edit-content-confirm`}):null))},Dn=zn;var Hn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,s=[],n=0;n<e.rangeCount;n++)s.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(o){e.addRange(o)}),t&&t.focus()}},qn=Hn,Ke={"text/plain":"Text","text/html":"Url",default:"Text"},Wn="Copy to clipboard: #{key}, Enter";function Bn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Vn(e,t){var s,n,o,c,u,l,a=!1;t||(t={}),s=t.debug||!1;try{o=qn(),c=document.createRange(),u=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(p){if(p.stopPropagation(),t.format)if(p.preventDefault(),typeof p.clipboardData>"u"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=Ke[t.format]||Ke.default;window.clipboardData.setData(g,e)}else p.clipboardData.clearData(),p.clipboardData.setData(t.format,e);t.onCopy&&(p.preventDefault(),t.onCopy(p.clipboardData))}),document.body.appendChild(l),c.selectNodeContents(l),u.addRange(c);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");a=!0}catch(p){s&&console.error("unable to copy using execCommand: ",p),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),a=!0}catch(g){s&&console.error("unable to copy using clipboardData: ",g),s&&console.error("falling back to prompt"),n=Bn("message"in t?t.message:Wn),window.prompt(n,e)}}finally{u&&(typeof u.removeRange=="function"?u.removeRange(c):u.removeAllRanges()),l&&document.body.removeChild(l),o()}return a}var Fn=Vn;const Un=St(Fn);var Qn=globalThis&&globalThis.__awaiter||function(e,t,s,n){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function l(p){try{d(n.next(p))}catch(g){u(g)}}function a(p){try{d(n.throw(p))}catch(g){u(g)}}function d(p){p.done?c(p.value):o(p.value).then(l,a)}d((n=n.apply(e,t||[])).next())})};const Kn=e=>{let{copyConfig:t,children:s}=e;const[n,o]=i.useState(!1),[c,u]=i.useState(!1),l=i.useRef(null),a=()=>{l.current&&clearTimeout(l.current)},d={};t.format&&(d.format=t.format),i.useEffect(()=>a,[]);const p=Ot(g=>Qn(void 0,void 0,void 0,function*(){var h;g==null||g.preventDefault(),g==null||g.stopPropagation(),u(!0);try{const E=typeof t.text=="function"?yield t.text():t.text;Un(E||bn(s,!0).join("")||"",d),u(!1),o(!0),a(),l.current=setTimeout(()=>{o(!1)},3e3),(h=t.onCopy)===null||h===void 0||h.call(t,g)}catch(E){throw u(!1),E}}));return{copied:n,copyLoading:c,onClick:p}},Xn=Kn;function Ne(e,t){return i.useMemo(()=>{const s=!!e;return[s,Object.assign(Object.assign({},t),s&&typeof e=="object"?e:null)]},[e])}const Yn=e=>{const t=i.useRef(void 0);return i.useEffect(()=>{t.current=e}),t.current},Gn=Yn,Jn=(e,t,s)=>i.useMemo(()=>e===!0?{title:t??s}:i.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??s},e):{title:e},[e,t,s]),Zn=Jn;var es=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const ts=i.forwardRef((e,t)=>{const{prefixCls:s,component:n="article",className:o,rootClassName:c,setContentRef:u,children:l,direction:a,style:d}=e,p=es(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:g,direction:h,className:E,style:k}=Rt("typography"),N=a??h,P=u?it(t,u):t,v=g("typography",s),[A,L,I]=lt(v),M=de(v,E,{[`${v}-rtl`]:N==="rtl"},o,c,L,I),$=Object.assign(Object.assign({},k),d);return A(i.createElement(n,Object.assign({className:M,style:$,ref:P},p),l))}),ct=ts;function Xe(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Me(e,t,s){return e===!0||e===void 0?t:e||s&&t}function ns(e){const t=document.createElement("em");e.appendChild(t);const s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return e.removeChild(t),s.left>n.left||n.right>s.right||s.top>n.top||n.bottom>s.bottom}const De=e=>["string","number"].includes(typeof e),ss=e=>{let{prefixCls:t,copied:s,locale:n,iconOnly:o,tooltips:c,icon:u,tabIndex:l,onCopy:a,loading:d}=e;const p=Xe(c),g=Xe(u),{copied:h,copy:E}=n??{},k=s?h:E,N=Me(p[s?1:0],k),P=typeof N=="string"?N:k;return i.createElement(ze,{title:N},i.createElement("button",{type:"button",className:de(`${t}-copy`,{[`${t}-copy-success`]:s,[`${t}-copy-icon-only`]:o}),onClick:a,"aria-label":P,tabIndex:l},s?Me(g[1],i.createElement(qt,null),!0):Me(g[0],d?i.createElement(Ze,null):i.createElement(Wt,null),!0)))},is=ss,xe=i.forwardRef((e,t)=>{let{style:s,children:n}=e;const o=i.useRef(null);return i.useImperativeHandle(t,()=>({isExceed:()=>{const c=o.current;return c.scrollHeight>c.clientHeight},getHeight:()=>o.current.clientHeight})),i.createElement("span",{"aria-hidden":!0,ref:o,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},s)},n)}),rs=e=>e.reduce((t,s)=>t+(De(s)?String(s).length:1),0);function Ye(e,t){let s=0;const n=[];for(let o=0;o<e.length;o+=1){if(s===t)return n;const c=e[o],l=De(c)?String(c).length:1,a=s+l;if(a>t){const d=t-s;return n.push(String(c).slice(0,d)),n}n.push(c),s=a}return e}const Re=0,_e=1,Pe=2,Ae=3,Ge=4,Se={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function os(e){const{enableMeasure:t,width:s,text:n,children:o,rows:c,expanded:u,miscDeps:l,onEllipsis:a}=e,d=i.useMemo(()=>et(n),[n]),p=i.useMemo(()=>rs(d),[n]),g=i.useMemo(()=>o(d,!1),[n]),[h,E]=i.useState(null),k=i.useRef(null),N=i.useRef(null),P=i.useRef(null),v=i.useRef(null),A=i.useRef(null),[L,I]=i.useState(!1),[M,$]=i.useState(Re),[j,O]=i.useState(0),[B,w]=i.useState(null);ce(()=>{$(t&&s&&p?_e:Re)},[s,n,c,t,d]),ce(()=>{var C,S,R,Y;if(M===_e){$(Pe);const D=N.current&&getComputedStyle(N.current).whiteSpace;w(D)}else if(M===Pe){const D=!!(!((C=P.current)===null||C===void 0)&&C.isExceed());$(D?Ae:Ge),E(D?[0,p]:null),I(D);const U=((S=P.current)===null||S===void 0?void 0:S.getHeight())||0,ie=c===1?0:((R=v.current)===null||R===void 0?void 0:R.getHeight())||0,ne=((Y=A.current)===null||Y===void 0?void 0:Y.getHeight())||0,q=Math.max(U,ie+ne);O(q+1),a(D)}},[M]);const K=h?Math.ceil((h[0]+h[1])/2):0;ce(()=>{var C;const[S,R]=h||[0,0];if(S!==R){const D=(((C=k.current)===null||C===void 0?void 0:C.getHeight())||0)>j;let U=K;R-S===1&&(U=D?S:R),E(D?[S,U]:[U,R])}},[h,K]);const z=i.useMemo(()=>{if(!t)return o(d,!1);if(M!==Ae||!h||h[0]!==h[1]){const C=o(d,!1);return[Ge,Re].includes(M)?C:i.createElement("span",{style:Object.assign(Object.assign({},Se),{WebkitLineClamp:c})},C)}return o(u?d:Ye(d,h[0]),L)},[u,M,h,d].concat(_t(l))),V={width:s,margin:0,padding:0,whiteSpace:B==="nowrap"?"normal":"inherit"};return i.createElement(i.Fragment,null,z,M===Pe&&i.createElement(i.Fragment,null,i.createElement(xe,{style:Object.assign(Object.assign(Object.assign({},V),Se),{WebkitLineClamp:c}),ref:P},g),i.createElement(xe,{style:Object.assign(Object.assign(Object.assign({},V),Se),{WebkitLineClamp:c-1}),ref:v},g),i.createElement(xe,{style:Object.assign(Object.assign(Object.assign({},V),Se),{WebkitLineClamp:1}),ref:A},o([],!0))),M===Ae&&h&&h[0]!==h[1]&&i.createElement(xe,{style:Object.assign(Object.assign({},V),{top:400}),ref:k},o(Ye(d,K),!0)),M===_e&&i.createElement("span",{style:{whiteSpace:"inherit"},ref:N}))}const as=e=>{let{enableEllipsis:t,isEllipsis:s,children:n,tooltipProps:o}=e;return!(o!=null&&o.title)||!t?n:i.createElement(ze,Object.assign({open:s?void 0:!1},o),n)},ls=as;var cs=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};function ds(e,t){let{mark:s,code:n,underline:o,delete:c,strong:u,keyboard:l,italic:a}=e,d=t;function p(g,h){h&&(d=i.createElement(g,{},d))}return p("strong",u),p("u",o),p("del",c),p("code",n),p("mark",s),p("kbd",l),p("i",a),d}const us="...",ps=i.forwardRef((e,t)=>{var s;const{prefixCls:n,className:o,style:c,type:u,disabled:l,children:a,ellipsis:d,editable:p,copyable:g,component:h,title:E}=e,k=cs(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:N,direction:P}=i.useContext(nt),[v]=Dt("Text"),A=i.useRef(null),L=i.useRef(null),I=N("typography",n),M=rt(k,["mark","code","delete","underline","strong","keyboard","italic"]),[$,j]=Ne(p),[O,B]=Ce(!1,{value:j.editing}),{triggerType:w=["icon"]}=j,K=f=>{var x;f&&((x=j.onStart)===null||x===void 0||x.call(j)),B(f)},z=Gn(O);ce(()=>{var f;!O&&z&&((f=L.current)===null||f===void 0||f.focus())},[O]);const V=f=>{f==null||f.preventDefault(),K(!0)},C=f=>{var x;(x=j.onChange)===null||x===void 0||x.call(j,f),K(!1)},S=()=>{var f;(f=j.onCancel)===null||f===void 0||f.call(j),K(!1)},[R,Y]=Ne(g),{copied:D,copyLoading:U,onClick:ie}=Xn({copyConfig:Y,children:a}),[ne,q]=i.useState(!1),[Z,Ie]=i.useState(!1),[he,$e]=i.useState(!1),[re,ee]=i.useState(!1),[oe,ye]=i.useState(!0),[G,T]=Ne(d,{expandable:!1,symbol:f=>f?v==null?void 0:v.collapse:v==null?void 0:v.expand}),[Q,be]=Ce(T.defaultExpanded||!1,{value:T.expanded}),F=G&&(!Q||T.expandable==="collapsible"),{rows:m=1}=T,b=i.useMemo(()=>F&&(T.suffix!==void 0||T.onEllipsis||T.expandable||$||R),[F,T,$,R]);ce(()=>{G&&!b&&(q(Be("webkitLineClamp")),Ie(Be("textOverflow")))},[b,G]);const[y,X]=i.useState(F),_=i.useMemo(()=>b?!1:m===1?Z:ne,[b,Z,ne]);ce(()=>{X(_&&F)},[_,F]);const W=F&&(y?re:he),dt=F&&m===1&&y,Oe=F&&m>1&&y,ut=(f,x)=>{var J;be(x.expanded),(J=T.onExpand)===null||J===void 0||J.call(T,f,x)},[He,pt]=i.useState(0),mt=f=>{let{offsetWidth:x}=f;pt(x)},gt=f=>{var x;$e(f),he!==f&&((x=T.onEllipsis)===null||x===void 0||x.call(T,f))};i.useEffect(()=>{const f=A.current;if(G&&y&&f){const x=ns(f);re!==x&&ee(x)}},[G,y,a,Oe,oe,He]),i.useEffect(()=>{const f=A.current;if(typeof IntersectionObserver>"u"||!f||!y||!F)return;const x=new IntersectionObserver(()=>{ye(!!f.offsetParent)});return x.observe(f),()=>{x.disconnect()}},[y,F]);const Te=Zn(T.tooltip,j.text,a),ve=i.useMemo(()=>{if(!(!G||y))return[j.text,a,E,Te.title].find(De)},[G,y,E,Te.title,W]);if(O)return i.createElement(Dn,{value:(s=j.text)!==null&&s!==void 0?s:typeof a=="string"?a:"",onSave:C,onCancel:S,onEnd:j.onEnd,prefixCls:I,className:o,style:c,direction:P,component:h,maxLength:j.maxLength,autoSize:j.autoSize,enterIcon:j.enterIcon});const ft=()=>{const{expandable:f,symbol:x}=T;return f?i.createElement("button",{type:"button",key:"expand",className:`${I}-${Q?"collapse":"expand"}`,onClick:J=>ut(J,{expanded:!Q}),"aria-label":Q?v.collapse:v==null?void 0:v.expand},typeof x=="function"?x(Q):x):null},ht=()=>{if(!$)return;const{icon:f,tooltip:x,tabIndex:J}=j,ke=et(x)[0]||(v==null?void 0:v.edit),xt=typeof ke=="string"?ke:"";return w.includes("icon")?i.createElement(ze,{key:"edit",title:x===!1?"":ke},i.createElement("button",{type:"button",ref:L,className:`${I}-edit`,onClick:V,"aria-label":xt,tabIndex:J},f||i.createElement(Lt,{role:"button"}))):null},yt=()=>R?i.createElement(is,Object.assign({key:"copy"},Y,{prefixCls:I,copied:D,locale:v,onCopy:ie,loading:U,iconOnly:a==null})):null,bt=f=>[f&&ft(),ht(),yt()],vt=f=>[f&&!Q&&i.createElement("span",{"aria-hidden":!0,key:"ellipsis"},us),T.suffix,bt(f)];return i.createElement(zt,{onResize:mt,disabled:!F},f=>i.createElement(ls,{tooltipProps:Te,enableEllipsis:F,isEllipsis:W},i.createElement(ct,Object.assign({className:de({[`${I}-${u}`]:u,[`${I}-disabled`]:l,[`${I}-ellipsis`]:G,[`${I}-ellipsis-single-line`]:dt,[`${I}-ellipsis-multiple-line`]:Oe},o),prefixCls:n,style:Object.assign(Object.assign({},c),{WebkitLineClamp:Oe?m:void 0}),component:h,ref:it(f,A,t),direction:P,onClick:w.includes("text")?V:void 0,"aria-label":ve==null?void 0:ve.toString(),title:E},M),i.createElement(os,{enableMeasure:F&&!y,text:a,rows:m,width:He,onEllipsis:gt,expanded:Q,miscDeps:[D,Q,U,$,R,v]},(x,J)=>ds(e,i.createElement(i.Fragment,null,x.length>0&&J&&!Q&&ve?i.createElement("span",{key:"show-content","aria-hidden":!0},x):x,vt(J)))))))}),je=ps;var ms=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const gs=i.forwardRef((e,t)=>{var{ellipsis:s,rel:n}=e,o=ms(e,["ellipsis","rel"]);const c=Object.assign(Object.assign({},o),{rel:n===void 0&&o.target==="_blank"?"noopener noreferrer":n});return delete c.navigate,i.createElement(je,Object.assign({},c,{ref:t,ellipsis:!!s,component:"a"}))}),fs=gs,hs=i.forwardRef((e,t)=>i.createElement(je,Object.assign({ref:t},e,{component:"div"}))),ys=hs;var bs=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const vs=(e,t)=>{var{ellipsis:s}=e,n=bs(e,["ellipsis"]);const o=i.useMemo(()=>s&&typeof s=="object"?rt(s,["expandable","rows"]):s,[s]);return i.createElement(je,Object.assign({ref:t},n,{ellipsis:o,component:"span"}))},xs=i.forwardRef(vs);var Ss=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const ws=[1,2,3,4,5],Cs=i.forwardRef((e,t)=>{const{level:s=1}=e,n=Ss(e,["level"]),o=ws.includes(s)?`h${s}`:"h1";return i.createElement(je,Object.assign({ref:t},n,{component:o}))}),Es=Cs,fe=ct;fe.Text=xs;fe.Link=fs;fe.Title=Es;fe.Paragraph=ys;const js=fe;async function Is(e){try{return await Le.post("/api/ai_initial_interview",e)}catch(t){throw console.error("AI Interview Service Error:",t),t}}async function $s(){try{return await Le.get("/api/get_guide_questions_for_ai")}catch(e){throw console.error("Get Guide Questions Service Error:",e),e}}async function Je(e){try{return await Le.post("/api/save_ai_interview_response",e)}catch(t){throw console.error("Save AI Interview Response Service Error:",t),t}}const{TextArea:Os}=At,{Title:we,Text:H,Paragraph:Ts}=js;function ji(){const[e,t]=i.useState([]),[s,n]=i.useState(""),[o,c]=i.useState(!1),[u,l]=i.useState([]),[a,d]=i.useState(0),[p,g]=i.useState(!1),[h,E]=i.useState(null),[k,N]=i.useState(!1),[P,v]=i.useState([]),[A,L]=i.useState(""),[I,M]=i.useState(""),[$,j]=i.useState(!0),[O,B]=i.useState(null),[w,K]=i.useState(!1),[z,V]=i.useState(!1),[C,S]=i.useState(!1),[R,Y]=i.useState(!1),[D,U]=i.useState(""),[ie,ne]=i.useState(null),q=i.useRef(null),Z=i.useRef(null);i.useEffect(()=>{const m=window.location.pathname.split("/"),b=m[m.length-1];b&&M(b)},[]),i.useEffect(()=>{he(),Ie()},[]),i.useEffect(()=>()=>{re(),oe()},[]);const Ie=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const m=window.SpeechRecognition||window.webkitSpeechRecognition;q.current=new m,q.current.continuous=!1,q.current.interimResults=!0,q.current.lang="en-US",q.current.onstart=()=>{V(!0),ne(null)},q.current.onresult=b=>{let y="",X="";for(let _=b.resultIndex;_<b.results.length;_++){const W=b.results[_][0].transcript;b.results[_].isFinal?y+=W:X+=W}y?(n(y),U(y)):U(X)},q.current.onerror=b=>{V(!1),ne(`Speech recognition error: ${b.error}`)},q.current.onend=()=>{V(!1)},Y(!0)}"speechSynthesis"in window&&(Z.current=window.speechSynthesis)},he=async()=>{try{j(!0);const m=await $s();m.data&&m.data.data?(l(m.data.data),B(null)):B("No questions available")}catch(m){console.error("Failed to load guide questions:",m),B("Failed to load interview questions")}finally{j(!1)}},$e=()=>{q.current&&!z&&(n(""),U(""),q.current.start())},re=()=>{q.current&&z&&q.current.stop()},ee=m=>{if(Z.current&&w){Z.current.cancel();const b=m.replace(/<[^>]*>/g,""),y=new SpeechSynthesisUtterance(b);return y.rate=.9,y.pitch=1,y.volume=.8,y.onstart=()=>S(!0),y.onend=()=>S(!1),y.onerror=()=>S(!1),Z.current.speak(y),y}return null},oe=()=>{Z.current&&(Z.current.cancel(),S(!1))},ye=()=>{const m=!w;K(m),m||(re(),oe())},G=async()=>{g(!0);const m={type:"ai",content:`
                <div>
                    <p><strong>Welcome to EmpireOne BPO Solutions Inc. AI Interview!</strong></p>
                    <p>I'm your AI interviewer today. I'll be asking you ${u.length} randomly selected questions to better understand your qualifications and fit for this position.</p>
                    <p>Please feel free to take your time with your responses. Let's begin!</p>
                </div>
            `,timestamp:new Date().toLocaleTimeString()};if(t([m]),w){const b=ee(m.content);b&&(b.onend=()=>{S(!1),setTimeout(()=>{T()},1e3)})}else setTimeout(()=>{T()},2e3)},T=async()=>{if(a===5&&u.length>5){const m={type:"ai",content:`
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="color: white; margin-bottom: 15px;">🎉 Halfway Point Reached!</h3>
                        <p style="margin-bottom: 10px;"><strong>Excellent progress!</strong> You've successfully completed 5 questions.</p>
                        <p style="margin-bottom: 10px;">You're doing great! Your responses show good insight and professionalism.</p>
                        <p style="margin-bottom: 0;"><strong>Let's continue with the remaining ${u.length-5} questions.</strong></p>
                    </div>
                `,timestamp:new Date().toLocaleTimeString()};if(t(b=>[...b,m]),w){const b=ee(m.content);b?b.onend=()=>{S(!1),setTimeout(()=>{Q()},1500)}:setTimeout(()=>{Q()},3e3)}else setTimeout(()=>{Q()},3e3);return}Q()},Q=()=>{if(a<u.length){const m=u[a];E(m);const b={type:"ai",content:`<p><strong>Question ${a+1}:</strong> ${m.guideqs}</p>`,timestamp:new Date().toLocaleTimeString()};t(y=>[...y,b]),d(y=>y+1),w&&setTimeout(()=>{ee(b.content)},500)}else{const m={type:"ai",content:`
                    <div style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 25px; border-radius: 10px; text-align: center;">
                        <h2 style="color: white; margin-bottom: 20px;">Interview Successfully Completed!</h2>
                        <p style="margin-bottom: 15px;"><strong>Congratulations!</strong> You have successfully answered all ${u.length} interview questions.</p>
                        <p style="margin-bottom: 15px;">Your responses have been thoroughly recorded and demonstrate your qualifications and experience.</p>
                        <p style="margin-bottom: 15px;"><strong>What happens next?</strong></p>
                        <ul style="text-align: left; margin-bottom: 15px; padding-left: 20px;">
                            <li>Our HR team will review your responses</li>
                            <li>You'll be contacted within 2-3 business days</li>
                            <li>Next steps will be communicated via email</li>
                        </ul>
                        <p style="margin-bottom: 0;"><strong>Thank you for your interest in EmpireOne BPO Solutions Inc.!</strong></p>
                    </div>
                `,timestamp:new Date().toLocaleTimeString()};t(b=>[...b,m]),E(null),N(!0),w&&setTimeout(()=>{ee(m.content)},500)}},be=async()=>{if(!s.trim())return;const m={type:"user",content:s,timestamp:new Date().toLocaleTimeString()};t(b=>[...b,m]),L(s),c(!0);try{const y=await Is({prompt:s,app_id:I});if(y.data&&y.data.result){const X={type:"ai",content:y.data.result,timestamp:new Date().toLocaleTimeString(),isFallback:y.data.fallback||!1};if(t(_=>[..._,X]),w){const _=ee(X.content);_?_.onend=()=>{S(!1),setTimeout(()=>{T()},1e3)}:setTimeout(()=>{T()},3e3)}else setTimeout(()=>{T()},3e3);if(y.data.fallback){const _={type:"ai",content:`<p style="color: orange; font-style: italic;">Note: AI service is currently unavailable, so I'm providing a general response. Your answer has still been recorded.</p>`,timestamp:new Date().toLocaleTimeString()};setTimeout(()=>{t(W=>[...W,_])},1e3)}if(h)try{await Je({app_id:I,question:h.guideqs,answer:s,ai_feedback:y.data.result}),v(_=>[..._,{question:h.guideqs,answer:s,ai_feedback:y.data.result}])}catch(_){console.error("Failed to save interview response:",_)}}}catch(b){console.error("Error sending message:",b);const y=["Thank you for your response. I've recorded your answer and we'll move on to the next question.","I appreciate your detailed answer. Your response has been noted.","Thank you for sharing that. Let's continue with the next question.","Your response has been recorded. That shows good insight.","I've noted your answer. Thank you for your thoughtful response."],X=y[Math.floor(Math.random()*y.length)],_={type:"ai",content:`<p>${X}</p><p style="color: orange; font-style: italic; font-size: 12px;">Note: AI service is temporarily unavailable. Your response has been recorded.</p>`,timestamp:new Date().toLocaleTimeString()};if(t(W=>[...W,_]),w){const W=ee(X);W?W.onend=()=>{S(!1),setTimeout(()=>{T()},1e3)}:setTimeout(()=>{T()},2e3)}else setTimeout(()=>{T()},2e3);if(h)try{await Je({app_id:I,question:h.guideqs,answer:s,ai_feedback:X}),v(W=>[...W,{question:h.guideqs,answer:s,ai_feedback:X}])}catch(W){console.error("Failed to save interview response:",W)}}finally{c(!1),n("")}},F=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),be())};return p?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col py-8",children:r.jsxs("div",{className:"flex-1 max-w-4xl mx-auto w-full px-4",children:[r.jsx(pe,{className:"mb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ae,{icon:r.jsx(le,{}),className:"bg-blue-500"}),r.jsxs("div",{children:[r.jsx(we,{level:4,className:"mb-0",children:"AI Interview Session"}),r.jsx(H,{type:"secondary",children:"EmpireOne BPO Solutions Inc."})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs(H,{strong:!0,children:["Progress: ",a,"/",u.length]}),r.jsx("br",{}),r.jsxs(H,{type:"secondary",children:["Applicant ID: ",I]}),w&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx(H,{type:"primary",children:"🎤 Voice Mode Active"})]}),k&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx(H,{type:"success",strong:!0,children:"✅ Interview Completed"})]})]})]})}),r.jsx(pe,{className:"flex-1 mb-4",style:{height:"500px",overflowY:"auto"},children:r.jsxs("div",{className:"space-y-4",children:[e.map((m,b)=>r.jsx("div",{className:`flex ${m.type==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`flex items-start space-x-2 max-w-3xl ${m.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(ae,{icon:m.type==="user"?r.jsx(Bt,{}):r.jsx(le,{}),className:m.type==="user"?"bg-green-500":"bg-blue-500",size:"small"}),w&&m.type==="ai"&&r.jsx(ge,{size:"small",type:"text",icon:C?r.jsx(Ue,{}):r.jsx(mn,{}),onClick:()=>C?oe():ee(m.content),className:"opacity-60 hover:opacity-100"}),r.jsxs("div",{className:`p-3 rounded-lg ${m.type==="user"?"bg-green-100 text-right":"bg-blue-50"}`,children:[m.type==="ai"?r.jsx("div",{dangerouslySetInnerHTML:{__html:m.content}}):r.jsx("p",{className:"mb-0",children:m.content}),r.jsx(H,{type:"secondary",className:"text-xs",children:m.timestamp})]})]})},b)),o&&r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{icon:r.jsx(le,{}),className:"bg-blue-500",size:"small"}),r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[r.jsx(qe,{size:"small"})," ",r.jsx("span",{className:"ml-2",children:"AI is thinking..."})]})]})})]})}),k&&r.jsx(pe,{className:"mb-4",title:"Interview Summary",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx(H,{strong:!0,className:"text-green-600",children:"Questions Answered"}),r.jsx("br",{}),r.jsx(we,{level:2,className:"text-green-600 mb-0",children:P.length})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx(H,{strong:!0,className:"text-blue-600",children:"Total Questions"}),r.jsx("br",{}),r.jsx(we,{level:2,className:"text-blue-600 mb-0",children:u.length})]})]}),r.jsx(me,{message:"Interview Completed Successfully",description:"All your responses have been recorded and will be reviewed by our HR team. Thank you for your time!",type:"success",showIcon:!0})]})}),r.jsxs(pe,{children:[w&&r.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{icon:z?r.jsx(Fe,{}):r.jsx(Ve,{}),className:z?"bg-red-500":"bg-gray-400",size:"small"}),r.jsx(H,{strong:!0,children:z?"Listening...":"Click to speak"})]}),C&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{icon:r.jsx(le,{}),className:"bg-blue-500",size:"small"}),r.jsx(H,{children:"AI is speaking..."}),r.jsx(ge,{size:"small",onClick:oe,icon:r.jsx(Ue,{}),children:"Stop"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ge,{type:z?"danger":"primary",icon:z?r.jsx(Ve,{}):r.jsx(Fe,{}),onClick:z?re:$e,disabled:o||C,children:z?"Stop":"Speak"}),r.jsx(Qe,{size:"small",checked:w,onChange:ye,checkedChildren:"Voice",unCheckedChildren:"Text"})]})]}),D&&r.jsxs("div",{className:"mt-2 p-2 bg-white rounded border",children:[r.jsx(H,{type:"secondary",className:"text-xs",children:"Live transcript:"}),r.jsx("br",{}),r.jsx(H,{children:D})]}),ie&&r.jsx(me,{message:ie,type:"error",closable:!0,className:"mt-2",onClose:()=>ne(null)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Os,{value:s,onChange:m=>n(m.target.value),onKeyPress:F,placeholder:w?"Your voice input will appear here... (You can also type manually)":"Type your response here... (Press Enter to send, Shift+Enter for new line)",autoSize:{minRows:2,maxRows:4},disabled:o,className:"flex-1"}),r.jsx(ge,{type:"primary",icon:r.jsx(Vt,{}),onClick:be,loading:o,disabled:!s.trim()||z,className:"h-full",children:"Send"})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-indigo-100 flex justify-center items-center py-8",children:r.jsx(pe,{className:"w-full max-w-2xl mx-4",children:r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx(ae,{size:80,icon:r.jsx(le,{}),className:"bg-blue-500 mx-auto"}),r.jsx(we,{level:2,children:"AI Interview System"}),r.jsx(Ts,{className:"text-gray-600",children:"Welcome to the EmpireOne BPO Solutions Inc. AI-powered interview system. This interview will use our predefined guide questions to evaluate your qualifications and fit for the position."}),$?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(qe,{}),r.jsx(H,{children:"Loading interview questions..."})]}):O?r.jsx(me,{message:"Error Loading Questions",description:O,type:"error",showIcon:!0}):u.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx(H,{strong:!0,children:"Interview Overview:"}),r.jsxs("ul",{className:"mt-2 text-left",children:[r.jsxs("li",{children:["• ",u.length," randomly selected questions"]}),r.jsx("li",{children:"• AI-powered evaluation and follow-up questions"}),r.jsx("li",{children:"• Professional interview environment"}),r.jsx("li",{children:"• Take your time with responses"})]})]}),R&&r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(H,{strong:!0,children:"Voice Interview Mode"}),r.jsx("br",{}),r.jsx(H,{type:"secondary",className:"text-sm",children:"Enable voice mode for hands-free interview experience"})]}),r.jsx(Qe,{checked:w,onChange:ye,checkedChildren:"Voice ON",unCheckedChildren:"Voice OFF"})]}),w&&r.jsx(me,{message:"Voice Mode Enabled",description:"The AI will speak questions and you can respond using voice. Make sure your microphone is working.",type:"info",showIcon:!0,className:"mt-3"})]})]}):r.jsx(me,{message:"No Questions Available",description:"There are no interview questions configured in the system.",type:"warning",showIcon:!0}),r.jsx(ge,{type:"primary",size:"large",onClick:G,icon:r.jsx(le,{}),className:"h-12 px-8",disabled:$||O||u.length===0,children:"Start Interview"}),r.jsx("div",{className:"mt-4",children:r.jsx(H,{type:"secondary",className:"text-sm",children:"Note: This interview uses AI to provide personalized responses. If AI is unavailable, you'll still receive standard acknowledgments and your responses will be recorded."})})]})})})}export{ji as default};
