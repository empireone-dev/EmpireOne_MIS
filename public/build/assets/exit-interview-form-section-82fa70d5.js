import{r as a,n as k,s as o,j as e}from"./store-9c50da1b.js";import{u as c,a as M}from"./app-87bf2fbc.js";import{s as P}from"./exit-interview-thunk-08e32142.js";import V from"./exit-factors-section-6b0c3eaf.js";import Y from"./rate-job-section-9510bdce.js";import K from"./rate-sup-worker-section-13da1648.js";import{g as L}from"./employee-section-thunk-930f77f2.js";import{a as X}from"./app-thunk-2a4f8cc1.js";import q from"./exit-interview-result-section-f93b28dd.js";import{M as D}from"./index-2f163259.js";import"./exit-interview-service-1f883a4f.js";import"./checkbox-input-component-2b273117.js";import"./table-row-component-383164ba.js";import"./employee-service-47a02884.js";import"./applicant-final-service-783dc1ef.js";import"./user-service-e0059145.js";import"./rate-job-section-526d7aab.js";import"./table-row-component-96ddc92a.js";import"./rate-sup-worker-section-b3da227e.js";import"./genStyleUtils-00917081.js";import"./typeof-7fd5df1e.js";import"./warning-8a11f3af.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-48194c30.js";import"./shadow-371a5539.js";import"./UnstableContext-831bce8a.js";import"./AntdIcon-936c2873.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-0bc9ae28.js";import"./CloseCircleFilled-8016b598.js";import"./InfoCircleFilled-754e7ccb.js";import"./useZIndex-485d43a8.js";import"./useId-3a4b41b8.js";import"./button-c8dca544.js";import"./omit-644b1847.js";import"./Compact-79398905.js";import"./useSize-0508f9de.js";import"./CloseOutlined-4e952bfd.js";import"./index-4ff35dc2.js";import"./KeyCode-548a7212.js";import"./pickAttrs-120b0d1f.js";import"./index-bd5286d6.js";import"./fade-6d78e234.js";import"./ContextIsolator-f7961577.js";import"./useClosable-8f79493c.js";import"./Skeleton-f309773d.js";import"./useLocale-ce7b4bc2.js";import"./PurePanel-3473def8.js";function Le(){var h,f,p,j,b,w,g,v,N,y,E,S,I,F,_;const{exitInterviewForm:i}=c(s=>s.exit_int),d=M(),{employee:l}=c(s=>s.employees),{user:T}=c(s=>s.app),x=window.location.pathname.split("/")[4],R=window.location.pathname.split("/")[3];window.location.pathname.split("/")[2];const[n,m]=a.useState(!1),[u,$]=a.useState(!1),r=(h=l==null?void 0:l.attrition)==null?void 0:h.ext_int,C=!((f=l==null?void 0:l.attrition)!=null&&f.ext_int);a.useEffect(()=>{d(k({...i,int_id:T.id,app_id:x,emp_id:R}))},[]),a.useEffect(()=>{o.dispatch(L(x)),o.dispatch(X())},[]);function t(s){d(k({...i,[s.target.name]:s.target.value}))}console.log("employee",l);async function O(s){s.preventDefault(),m(!0);try{await o.dispatch(P(i)),D.success({title:"Success!",content:"Exit Interview Successfully Recorded",okText:"OK",centered:!0,onOk(){$(!0),console.log("Exit interview recorded successfully")}})}catch(W){console.error("Error submitting exit interview:",W),D.error({title:"Error!",content:"Failed to record exit interview. Please try again.",okText:"OK",centered:!0})}finally{m(!1)}}return e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsxs("div",{className:"container mx-auto flex justify-center",children:[C&&!u&&e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"EXIT INTERVIEW"})})}),e.jsxs("form",{className:`border rounded-lg p-3.5 ${r?"opacity-50 pointer-events-none":""}`,onSubmit:O,children:[e.jsxs("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name:"})}),e.jsx("input",{type:"text",value:`${((p=l==null?void 0:l.applicant)==null?void 0:p.fname)||""} ${((j=l==null?void 0:l.applicant)==null?void 0:j.mname)||""} ${((b=l==null?void 0:l.applicant)==null?void 0:b.lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account / Department:"})}),e.jsx("input",{type:"text",value:l!=null&&l.account?l==null?void 0:l.account:(w=l==null?void 0:l.dept)==null?void 0:w.dept,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Hired:"})}),e.jsx("input",{type:"date",value:(l==null?void 0:l.hired)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Immediate Supervisor:"})}),e.jsx("input",{type:"text",value:`${((g=l==null?void 0:l.user)==null?void 0:g.employee_fname)||""} ${((v=l==null?void 0:l.user)==null?void 0:v.employee_mname)||""} ${((N=l==null?void 0:l.user)==null?void 0:N.employee_lname)||""}`,className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employment Status:"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.status)||"",className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"ID Number:"})}),e.jsx("input",{type:"text",name:"app_id",value:(l==null?void 0:l.app_id)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Position Title:"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.position)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Separated:"})}),e.jsx("input",{type:"date",value:((y=l==null?void 0:l.attrition)==null?void 0:y.separation)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department Manager:"})}),e.jsx("input",{type:"text",value:`${((S=(E=l==null?void 0:l.dept)==null?void 0:E.user)==null?void 0:S.employee_fname)||""} ${((F=(I=l==null?void 0:l.dept)==null?void 0:I.user)==null?void 0:F.employee_lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Reason for Separation::"})}),e.jsx("input",{type:"text",value:((_=l==null?void 0:l.attrition)==null?void 0:_.reas)||"",className:"border p-2 rounded w-full"})]})]})})]}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"1. Please describe the main reason for leaving your current position."})}),e.jsx("textarea",{onChange:t,type:"text",name:"mreas",placeholder:"",className:"border p-2 h-40 rounded w-full"})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(V,{}),e.jsx("label",{htmlFor:"",className:"mt-1",children:"Others:"}),e.jsx("input",{onChange:t,name:"factsOther",type:"text",placeholder:"",className:"border p-2 rounded w-full "})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"3. Is there anything you wish you had known before you took the job?"})}),e.jsx("textarea",{onChange:t,name:"wish",type:"text",placeholder:"",className:"border p-2 h-40  rounded w-full"})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"4. What would you suggest to the management to make our organization a better place to work?"})}),e.jsx("textarea",{onChange:t,name:"suggest",type:"text",placeholder:"",className:"border p-2 h-40  rounded w-full"})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"5. Do you feel you received adequate support to enable to do your job?"})}),e.jsx("textarea",{onChange:t,name:"apprec",type:"text",placeholder:"",className:"border p-2 rounded w-full"})]})})})}),e.jsx("p",{children:"Instructions: Please rate the following items based on your experience work in the company."}),e.jsxs("div",{className:"flex flex-1 w-full gap-8 mt-1",children:[e.jsx("h1",{children:e.jsx("b",{children:"1. Very Satisfied,"})}),e.jsx("h1",{children:e.jsx("b",{children:"2. Satisfied,"})}),e.jsx("h1",{children:e.jsx("b",{children:"3. Neutral,"})}),e.jsx("h1",{children:e.jsx("b",{children:"4. Dissatisfied,"})}),e.jsx("h1",{children:e.jsx("b",{children:"5. Very Dissatisfied"})})]}),e.jsx(Y,{}),e.jsx(K,{}),e.jsx("div",{className:"flex justify-end mt-2.5",children:e.jsx("button",{type:"submit",className:`px-4 py-2 rounded text-white focus:outline-none transition-colors ${n||r?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,disabled:n||r,children:n?"Submitting...":r?"INTERVIEW COMPLETED":"SUBMIT EXIT INTERVIEW"})})]})]}),u&&e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full max-w-2xl",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Thank You!"}),e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Your exit interview has been successfully submitted."}),e.jsx("p",{className:"text-md text-gray-600",children:"We appreciate your time and valuable feedback. Your responses will help us improve our workplace for future employees."})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800 font-medium",children:"ðŸŽ‰ Exit Interview Completed Successfully"})})]})]}),r&&e.jsx(e.Fragment,{children:e.jsx(q,{})})]})})})}export{Le as default};
