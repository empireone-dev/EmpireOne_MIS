import{r as v,s as E,j as e}from"./store-f8230777.js";import{u as C}from"./app-226f6c88.js";import a from"./upload-signature-section-f094d3ee.js";import{g as $}from"./app-thunk-cd8236fa.js";import{g as R}from"./app-thunk-5a1be4ab.js";import{m as F}from"./index-4f79d31f.js";import{L as I}from"./UnstableContext-fd5ff0c3.js";import"./index-635c1b09.js";import"./warning-617e1356.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./AntdIcon-eae4d69c.js";import"./index-8aff1b07.js";import"./useId-92c6ca7c.js";import"./index-52e41420.js";import"./createSuper-f29e89b0.js";import"./genStyleUtils-3eab3f42.js";import"./useSize-f5cd4e4a.js";import"./Compact-df515bf5.js";import"./ContextIsolator-b179cf16.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./useZIndex-accda9b4.js";import"./index-660962d0.js";import"./CheckCircleFilled-2b5af28c.js";import"./CloseCircleFilled-07936235.js";import"./InfoCircleFilled-626f5afd.js";import"./button-01b785fd.js";import"./omit-644b1847.js";import"./CloseOutlined-b63bbfd4.js";import"./index-89813bff.js";import"./KeyCode-66366edd.js";import"./pickAttrs-cd856d31.js";import"./fade-452b82fe.js";import"./useClosable-a6e5a248.js";import"./Skeleton-dda6e894.js";import"./useLocale-88b9e6aa.js";import"./PurePanel-44460df3.js";import"./SignatureOutlined-ec6559a9.js";import"./user-service-db4a3ef6.js";function ge(){var n,c,o,x,p,m,u,b,h,j,f,N,g;const{employee:r}=C(l=>l.employees),{user:s}=C(l=>l.app),[d,t]=v.useState();v.useEffect(()=>{E.dispatch(R()),console.log("waaaa",s),E.dispatch($())},[s.id]);const S=(s==null?void 0:s.department)==="Human Resource",D=async()=>{var l,y,w;t(!0);try{const i={employee_name:`${((l=r==null?void 0:r.applicant)==null?void 0:l.fname)||""} ${((y=r==null?void 0:r.applicant)==null?void 0:y.mname)||""} ${((w=r==null?void 0:r.applicant)==null?void 0:w.lname)||""}`,departments:["Immediate Supervisor","Employee Dept. Head","HR/Admin","IT (Biometrics, Laptop)"],clearance_date:new Date().toISOString().split("T")[0]},_=await axios.post("/api/send-clearance-email",i);F.success("Exit Clearance sent successfully"),console.log(_.data.message),t(!1)}catch(i){console.error("Error sending email:",i),F.error("Failed to send Exit Clearance"),t(!1)}};return console.log("usersss",s),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"EXIT CLEARANCE"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",children:[e.jsxs("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name:"})}),e.jsx("input",{type:"text",value:`${((n=r==null?void 0:r.applicant)==null?void 0:n.fname)||""} ${((c=r==null?void 0:r.applicant)==null?void 0:c.mname)||""} ${((o=r==null?void 0:r.applicant)==null?void 0:o.lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account / Department:"})}),e.jsx("input",{type:"text",value:r!=null&&r.account?r==null?void 0:r.account:(x=r==null?void 0:r.dept)==null?void 0:x.dept,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Hired:"})}),e.jsx("input",{type:"date",value:(r==null?void 0:r.hired)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Immediate Supervisor:"})}),e.jsx("input",{type:"text",value:`${((p=r==null?void 0:r.user)==null?void 0:p.employee_fname)||""} ${((m=r==null?void 0:r.user)==null?void 0:m.employee_mname)||""} ${((u=r==null?void 0:r.user)==null?void 0:u.employee_lname)||""}`,className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employment Status:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.status)||"",className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"ID Number:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.app_id)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Position Title:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.position)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Separated:"})}),e.jsx("input",{type:"date",value:((b=r==null?void 0:r.attrition)==null?void 0:b.separation)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department Manager:"})}),e.jsx("input",{type:"text",value:`${((j=(h=r==null?void 0:r.dept)==null?void 0:h.user)==null?void 0:j.employee_fname)||""} ${((N=(f=r==null?void 0:r.dept)==null?void 0:f.user)==null?void 0:N.employee_lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Reason for Separation::"})}),e.jsx("input",{type:"text",value:((g=r==null?void 0:r.attrition)==null?void 0:g.reas)||"",className:"border p-2 rounded w-full"})]})]})})]}),e.jsx("p",{className:"mt-5 mb-1",children:"We are here to certify that the above employee is cleared with any accountability or financial obligation to the following:"}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 mb-3",children:e.jsxs("table",{class:"table table-bordered text-center w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300 w-full",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 py-2",children:"Department"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Signature"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Date Signed"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Payables"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"Immediate Supervisor"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-24 h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"Employee Dept. Head"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-24 h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"HR/Admin"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-full h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"IT (Biometrics, Laptop)"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-full h-8"})}),e.jsx(a,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-3 mt-8",children:[e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Exit Clearance Conducted By:"})}),e.jsx("input",{type:"text",value:`${(s==null?void 0:s.employee_fname)||""} ${(s==null?void 0:s.employee_lname)||""}`,className:"border p-2 rounded w-full"})]})})}),e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Conforme:"})}),e.jsx("input",{type:"text",value:"Human Resource",className:"border p-2 rounded w-full",readOnly:!0})]})})})]}),S?e.jsxs("div",{className:"flex gap-2 justify-end mt-2.5",children:[e.jsx("button",{onClick:D,type:"button",className:`px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors ${d?"cursor-not-allowed opacity-75":""}`,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(I,{spin:!0})," SENDING..."]}):e.jsx(e.Fragment,{children:"FORWARD CLEARANCE"})}),e.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors",children:"SUBMIT EXIT CLEARANCE"})]}):e.jsx("div",{className:"flex gap-2 justify-end mt-2.5",children:e.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors",children:"DONE"})})]})]})})})})}export{ge as default};
