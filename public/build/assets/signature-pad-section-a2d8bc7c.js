import{g as M,k as O,R as U,r as D,j as P}from"./app-6d41dfca.js";import{b as N,c as j,_ as F,a as B}from"./createSuper-1fe814f3.js";import{P as x}from"./index-6a968b33.js";import T from"./button-a60b10a9.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";var R={exports:{}};(function(e){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(null,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(R);var A=R.exports;const I=M(A);var W={exports:{}},L={exports:{}};(function(e){function r(n,t){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(t.indexOf(o)!==-1)continue;i[o]=n[o]}return i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(L);var q=L.exports;(function(e){var r=q;function n(t,i){if(t==null)return{};var o,s,a=r(t,i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(s=0;s<h.length;s++)o=h[s],i.indexOf(o)===-1&&{}.propertyIsEnumerable.call(t,o)&&(a[o]=t[o])}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(W);var V=W.exports;const $=M(V);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function C(e,r,n){this.x=e,this.y=r,this.time=n||new Date().getTime()}C.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};C.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};C.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function S(e,r,n,t){this.startPoint=e,this.control1=r,this.control2=n,this.endPoint=t}S.prototype.length=function(){for(var e=10,r=0,n=void 0,t=void 0,i=0;i<=e;i+=1){var o=i/e,s=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var h=s-n,c=a-t;r+=Math.sqrt(h*h+c*c)}n=s,t=a}return r};S.prototype._point=function(e,r,n,t,i){return r*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*t*(1-e)*e*e+i*e*e*e};function H(e,r,n){var t,i,o,s=null,a=0;n||(n={});var h=function(){a=n.leading===!1?0:Date.now(),s=null,o=e.apply(t,i),s||(t=i=null)};return function(){var c=Date.now();!a&&n.leading===!1&&(a=c);var u=r-(c-a);return t=this,i=arguments,u<=0||u>r?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(t,i),s||(t=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(h,u)),o}}function v(e,r){var n=this,t=r||{};this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=H(v.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=v.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var o=i.changedTouches[0];n._strokeBegin(o)}},this._handleTouchMove=function(i){i.preventDefault();var o=i.targetTouches[0];n._strokeMoveUpdate(o)},this._handleTouchEnd=function(i){var o=i.target===n._canvas;o&&(i.preventDefault(),n._strokeEnd(i))},this.on()}v.prototype.clear=function(){var e=this._ctx,r=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,r.width,r.height),e.fillRect(0,0,r.width,r.height),this._data=[],this._reset(),this._isEmpty=!0};v.prototype.fromDataURL=function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=new Image,i=n.ratio||window.devicePixelRatio||1,o=n.width||this._canvas.width/i,s=n.height||this._canvas.height/i;this._reset(),t.src=e,t.onload=function(){r._ctx.drawImage(t,0,0,o,s)},this._isEmpty=!1};v.prototype.toDataURL=function(e){var r;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return(r=this._canvas).toDataURL.apply(r,[e].concat(t))}};v.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};v.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};v.prototype.isEmpty=function(){return this._isEmpty};v.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};v.prototype._strokeUpdate=function(e){var r=e.clientX,n=e.clientY,t=this._createPoint(r,n),i=this._data[this._data.length-1],o=i&&i[i.length-1],s=o&&t.distanceTo(o)<this.minDistance;if(!(o&&s)){var a=this._addPoint(t),h=a.curve,c=a.widths;h&&c&&this._drawCurve(h,c.start,c.end),this._data[this._data.length-1].push({x:t.x,y:t.y,time:t.time,color:this.penColor})}};v.prototype._strokeEnd=function(e){var r=this.points.length>2,n=this.points[0];if(!r&&n&&this._drawDot(n),n){var t=this._data[this._data.length-1],i=t[t.length-1];n.equals(i)||t.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};v.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};v.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};v.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};v.prototype._createPoint=function(e,r,n){var t=this._canvas.getBoundingClientRect();return new C(e-t.left,r-t.top,n||new Date().getTime())};v.prototype._addPoint=function(e){var r=this.points,n=void 0;if(r.push(e),r.length>2){r.length===3&&r.unshift(r[0]),n=this._calculateCurveControlPoints(r[0],r[1],r[2]);var t=n.c2;n=this._calculateCurveControlPoints(r[1],r[2],r[3]);var i=n.c1,o=new S(r[1],t,i,r[2]),s=this._calculateCurveWidths(o);return r.shift(),{curve:o,widths:s}}return{}};v.prototype._calculateCurveControlPoints=function(e,r,n){var t=e.x-r.x,i=e.y-r.y,o=r.x-n.x,s=r.y-n.y,a={x:(e.x+r.x)/2,y:(e.y+r.y)/2},h={x:(r.x+n.x)/2,y:(r.y+n.y)/2},c=Math.sqrt(t*t+i*i),u=Math.sqrt(o*o+s*s),l=a.x-h.x,d=a.y-h.y,p=u/(c+u),g={x:h.x+l*p,y:h.y+d*p},f=r.x-g.x,m=r.y-g.y;return{c1:new C(a.x+f,a.y+m),c2:new C(h.x+f,h.y+m)}};v.prototype._calculateCurveWidths=function(e){var r=e.startPoint,n=e.endPoint,t={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(r)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i);return t.start=this._lastWidth,t.end=o,this._lastVelocity=i,this._lastWidth=o,t};v.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};v.prototype._drawPoint=function(e,r,n){var t=this._ctx;t.moveTo(e,r),t.arc(e,r,n,0,2*Math.PI,!1),this._isEmpty=!1};v.prototype._drawCurve=function(e,r,n){var t=this._ctx,i=n-r,o=Math.floor(e.length());t.beginPath();for(var s=0;s<o;s+=1){var a=s/o,h=a*a,c=h*a,u=1-a,l=u*u,d=l*u,p=d*e.startPoint.x;p+=3*l*a*e.control1.x,p+=3*u*h*e.control2.x,p+=c*e.endPoint.x;var g=d*e.startPoint.y;g+=3*l*a*e.control1.y,g+=3*u*h*e.control2.y,g+=c*e.endPoint.y;var f=r+c*i;this._drawPoint(p,g,f)}t.closePath(),t.fill()};v.prototype._drawDot=function(e){var r=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;r.beginPath(),this._drawPoint(e.x,e.y,n),r.closePath(),r.fill()};v.prototype._fromData=function(e,r,n){for(var t=0;t<e.length;t+=1){var i=e[t];if(i.length>1)for(var o=0;o<i.length;o+=1){var s=i[o],a=new C(s.x,s.y,s.time),h=s.color;if(o===0)this.penColor=h,this._reset(),this._addPoint(a);else if(o!==i.length-1){var c=this._addPoint(a),u=c.curve,l=c.widths;u&&l&&r(u,l,h)}}else{this._reset();var d=i[0];n(d)}}};v.prototype._toSVG=function(){var e=this,r=this._data,n=this._canvas,t=Math.max(window.devicePixelRatio||1,1),i=0,o=0,s=n.width/t,a=n.height/t,h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttributeNS(null,"width",n.width),h.setAttributeNS(null,"height",n.height),this._fromData(r,function(_,y,b){var w=document.createElement("path");if(!isNaN(_.control1.x)&&!isNaN(_.control1.y)&&!isNaN(_.control2.x)&&!isNaN(_.control2.y)){var z="M "+_.startPoint.x.toFixed(3)+","+_.startPoint.y.toFixed(3)+" "+("C "+_.control1.x.toFixed(3)+","+_.control1.y.toFixed(3)+" ")+(_.control2.x.toFixed(3)+","+_.control2.y.toFixed(3)+" ")+(_.endPoint.x.toFixed(3)+","+_.endPoint.y.toFixed(3));w.setAttribute("d",z),w.setAttribute("stroke-width",(y.end*2.25).toFixed(3)),w.setAttribute("stroke",b),w.setAttribute("fill","none"),w.setAttribute("stroke-linecap","round"),h.appendChild(w)}},function(_){var y=document.createElement("circle"),b=typeof e.dotSize=="function"?e.dotSize():e.dotSize;y.setAttribute("r",b),y.setAttribute("cx",_.x),y.setAttribute("cy",_.y),y.setAttribute("fill",_.color),h.appendChild(y)});var c="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+o+" "+s+" "+a+'"')+(' width="'+s+'"')+(' height="'+a+'"')+">",l=h.innerHTML;if(l===void 0){var d=document.createElement("dummy"),p=h.childNodes;d.innerHTML="";for(var g=0;g<p.length;g+=1)d.appendChild(p[g].cloneNode(!0));l=d.innerHTML}var f="</svg>",m=u+l+f;return c+btoa(m)};v.prototype.fromData=function(e){var r=this;this.clear(),this._fromData(e,function(n,t){return r._drawCurve(n,t.start,t.end)},function(n){return r._drawDot(n)}),this._data=e};v.prototype.toData=function(){return this._data};var k={exports:{}};(function(e,r){(function(n,t){e.exports=t()})(O,function(){return function(n){function t(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return n[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t){function i(c){var u=c.getContext("2d"),l=c.width,d=c.height,p=u.getImageData(0,0,l,d).data,g=a(!0,l,d,p),f=a(!1,l,d,p),m=h(!0,l,d,p),_=h(!1,l,d,p),y=_-m+1,b=f-g+1,w=u.getImageData(m,g,y,b);return c.width=y,c.height=b,u.clearRect(0,0,y,b),u.putImageData(w,0,0),c}function o(c,u,l,d){return{red:d[4*(l*u+c)],green:d[4*(l*u+c)+1],blue:d[4*(l*u+c)+2],alpha:d[4*(l*u+c)+3]}}function s(c,u,l,d){return o(c,u,l,d).alpha}function a(c,u,l,d){for(var p=c?1:-1,g=c?0:l-1,f=g;c?f<l:f>-1;f+=p)for(var m=0;m<u;m++)if(s(m,f,u,d))return f;return null}function h(c,u,l,d){for(var p=c?1:-1,g=c?0:u-1,f=g;c?f<u:f>-1;f+=p)for(var m=0;m<l;m++)if(s(f,m,u,d))return f;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}])})})(k);var X=k.exports;const Y=M(X);var G=["canvasProps","clearOnResize"],E=function(e){N(n,e);var r=j(n);function n(){var t;B(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=r.call.apply(r,[this].concat(o)),t.staticThis=t.constructor,t._sigPad=null,t._canvas=null,t.setRef=function(a){t._canvas=a,t._canvas===null&&(t._sigPad=null)},t._excludeOurProps=function(){var a=t.props;a.canvasProps,a.clearOnResize;var h=$(a,G);return h},t.componentDidMount=function(){var a=t.getCanvas();t._sigPad=new v(a,t._excludeOurProps()),t._resizeCanvas(),t.on()},t.componentWillUnmount=function(){t.off()},t.componentDidUpdate=function(){Object.assign(t._sigPad,t._excludeOurProps())},t.getCanvas=function(){if(t._canvas===null)throw t.staticThis.refNullError;return t._canvas},t.getTrimmedCanvas=function(){var a=t.getCanvas(),h=document.createElement("canvas");return h.width=a.width,h.height=a.height,h.getContext("2d").drawImage(a,0,0),Y(h)},t.getSignaturePad=function(){if(t._sigPad===null)throw t.staticThis.refNullError;return t._sigPad},t._checkClearOnResize=function(){t.props.clearOnResize&&t._resizeCanvas()},t._resizeCanvas=function(){var a,h,c=(a=t.props.canvasProps)!==null&&a!==void 0?a:{},u=c.width,l=c.height;if(!(typeof u<"u"&&typeof l<"u")){var d=t.getCanvas(),p=Math.max((h=window.devicePixelRatio)!==null&&h!==void 0?h:1,1);typeof u>"u"&&(d.width=d.offsetWidth*p),typeof l>"u"&&(d.height=d.offsetHeight*p),d.getContext("2d").scale(p,p),t.clear()}},t.render=function(){var a=t.props.canvasProps;return U.createElement("canvas",I({ref:t.setRef},a))},t.on=function(){return window.addEventListener("resize",t._checkClearOnResize),t.getSignaturePad().on()},t.off=function(){return window.removeEventListener("resize",t._checkClearOnResize),t.getSignaturePad().off()},t.clear=function(){return t.getSignaturePad().clear()},t.isEmpty=function(){return t.getSignaturePad().isEmpty()},t.fromDataURL=function(a,h){return t.getSignaturePad().fromDataURL(a,h)},t.toDataURL=function(a,h){return t.getSignaturePad().toDataURL(a,h)},t.fromData=function(a){return t.getSignaturePad().fromData(a)},t.toData=function(){return t.getSignaturePad().toData()},t}return F(n)}(D.Component);E.propTypes={velocityFilterWeight:x.number,minWidth:x.number,maxWidth:x.number,minDistance:x.number,dotSize:x.oneOfType([x.number,x.func]),penColor:x.string,throttle:x.number,onEnd:x.func,onBegin:x.func,canvasProps:x.object,clearOnResize:x.bool};E.defaultProps={clearOnResize:!0};E.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");function nt({submit:e,data:r,setForm:n}){const t=D.useRef(null);D.useEffect(()=>{r.signature&&t.current&&t.current.fromDataURL(r.signature)},[r.signature]);const i=()=>{t.current.clear()},o=()=>{const s=t.current.toDataURL();e({...r,signature:s})};return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"border-2 rounded-md m-3",children:[P.jsx("div",{className:"p-2 font-bold capitalize",children:"Signature Pad"}),P.jsx(E,{className:"w-full",ref:t,penColor:"black",canvasProps:{style:{width:"100%",height:"300px"},className:"signature-canvas"}}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx(T,{className:"bg-red-500 hover:bg-red-600 text-white",onClick:i,children:"CLEAR"}),P.jsx(T,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:o,children:"SUBMIT"})]})]})})}export{nt as default};
