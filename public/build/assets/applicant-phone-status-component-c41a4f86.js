import{r as s,j as t,e as m}from"./app-37b639ad.js";import h from"./modal-218c59fa.js";import{c as x,g as f}from"./applicant-thunk-51533d41.js";import{T as j}from"./index-d8cf1d24.js";import{d as b}from"./presets-1ad270c1.js";import{A as g}from"./AntdIcon-8a8f9e79.js";import"./transition-1776efe7.js";import"./use-server-handoff-complete-ea59d161.js";import"./dialog-d7979c5e.js";import"./portal-c649b25e.js";import"./applicant-record-service-5626880f.js";import"./applicant-final-service-a1d04fab.js";import"./index-f9b91e4b.js";import"./useId-0ac3c4c9.js";import"./useZIndex-c3239d91.js";import"./createSuper-c7e84a61.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./genStyleUtils-15f4751b.js";import"./useSize-553b7f02.js";import"./Compact-a2c6ff44.js";import"./ContextIsolator-6d3b77a1.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";var v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.6 230.2L779.1 123.8a80.83 80.83 0 00-57.3-23.8c-21.7 0-42.1 8.5-57.4 23.8L549.8 238.4a80.83 80.83 0 00-23.8 57.3c0 21.7 8.5 42.1 23.8 57.4l83.8 83.8A393.82 393.82 0 01553.1 553 395.34 395.34 0 01437 633.8L353.2 550a80.83 80.83 0 00-57.3-23.8c-21.7 0-42.1 8.5-57.4 23.8L123.8 664.5a80.89 80.89 0 00-23.8 57.4c0 21.7 8.5 42.1 23.8 57.4l106.3 106.3c24.4 24.5 58.1 38.4 92.7 38.4 7.3 0 14.3-.6 21.2-1.8 134.8-22.2 268.5-93.9 376.4-201.7C828.2 612.8 899.8 479.2 922.3 344c6.8-41.3-6.9-83.8-36.7-113.8z"}}]},name:"phone",theme:"filled"};const C=v;var y=function(n,a){return s.createElement(g,b({},n,{ref:a,icon:C}))},S=s.forwardRef(y);const w=S;function W({record:e,open:n,setOpen:a}){const[o,c]=s.useState(!1),[i,d]=s.useState("");function p(){a(!1),d("")}async function u(r){if(r.preventDefault(),!i){alert("Please select a contact status");return}c(!0);try{m.dispatch(x({id:e.id,status:i})),m.dispatch(f()),await new Promise(l=>setTimeout(l,1e3)),p()}catch(l){console.error("Error update status:",l)}finally{c(!1)}}return t.jsxs("div",{className:"flex items-center justify-between font-semibold gap-2",children:[t.jsx("span",{className:`${e.call_status==="Answered"?"text-green-500":e.call_status==="Contacted"?"text-orange-500":e.call_status==="Cannot be reached"?"text-red-500":"text-gray-900"}`,children:e.phone}),t.jsxs("div",{children:[t.jsx(j,{title:"Contact Status",children:t.jsx("button",{type:"button",onClick:()=>a(!0),children:t.jsx(w,{})})}),t.jsx(h,{open:n,setOpen:a,title:"Contact Status",children:t.jsxs("div",{children:[t.jsxs("h3",{children:["Contact No.: ",e.phone]}),t.jsxs("h3",{children:["Applicant Status: ",e.status]}),t.jsxs("form",{onSubmit:u,children:[t.jsx("div",{className:"mt-2",children:t.jsxs("select",{className:"w-full rounded-md",value:i,onChange:r=>d(r.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Contact Status"}),t.jsx("option",{value:"Contacted",children:"Contacted"}),t.jsx("option",{value:"Answered",children:"Answered"}),t.jsx("option",{value:"Cannot be reached",children:"Cannot be reached"})]})}),t.jsxs("div",{className:"mt-2 flex items-center justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:p,className:"hover:bg-gray-200 px-4 py-2 rounded-md mt-2",disabled:o,children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md mt-2 disabled:opacity-50",disabled:o,children:o?"Updating...":"Update"})]})]})]})})]})]})}export{W as default};
