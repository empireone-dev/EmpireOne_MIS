import{_ as H,a as yt,b as nr,d as W}from"./warning-0cdcab93.js";import{g as ft,_ as jt}from"./shadow-315d28af.js";import{b as Vt,P as Dt}from"./useId-f90e7d1a.js";import{r as a}from"./store-be97c391.js";import{t as Ot}from"./useSize-58d4d66f.js";import{_ as qt}from"./typeof-7fd5df1e.js";import{i as vt,a as xt,u as Qe,j as dt}from"./index-415df34f.js";import{s as Tt,e as Lt,j as Nt,a as Me,d as Gt,v as It,_ as Ct}from"./genStyleUtils-1cea6b15.js";import{c as Ut,f as Kt,e as Jt,d as Qt}from"./createSuper-f29e89b0.js";import{b as Zt}from"./Compact-3a5130bc.js";var ht=a.createContext(null);function pt(e){var t=e.children,r=e.onBatchResize,n=a.useRef(0),i=a.useRef([]),o=a.useContext(ht),u=a.useCallback(function(c,v,h){n.current+=1;var k=n.current;i.current.push({size:c,element:v,data:h}),Promise.resolve().then(function(){k===n.current&&(r==null||r(i.current),i.current=[])}),o==null||o(c,v,h)},[r,o]);return a.createElement(ht.Provider,{value:u},t)}var Wt=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var u=o[i];r.call(n,u[1],u[0])}},t}()}(),mt=typeof window<"u"&&typeof document<"u"&&window.document===document,$r=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Yt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Xt=2;function en(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&c()}function u(){Yt(o)}function c(){var v=Date.now();if(r){if(v-i<Xt)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=v}return c}var rn=20,tn=["top","right","bottom","left","width","height","size","weight"],nn=typeof MutationObserver<"u",an=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=en(this.refresh.bind(this),rn)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!mt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),nn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!mt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=tn.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ht=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},ir=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||$r},At=jr(0,0,0,0);function Fr(e){return parseFloat(e)||0}function Mt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+Fr(o)},0)}function on(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],u=e["padding-"+o];r[o]=Fr(u)}return r}function sn(e){var t=e.getBBox();return jr(0,0,t.width,t.height)}function un(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return At;var n=ir(e).getComputedStyle(e),i=on(n),o=i.left+i.right,u=i.top+i.bottom,c=Fr(n.width),v=Fr(n.height);if(n.boxSizing==="border-box"&&(Math.round(c+o)!==t&&(c-=Mt(n,"left","right")+o),Math.round(v+u)!==r&&(v-=Mt(n,"top","bottom")+u)),!cn(e)){var h=Math.round(c+o)-t,k=Math.round(v+u)-r;Math.abs(h)!==1&&(c-=h),Math.abs(k)!==1&&(v-=k)}return jr(i.left,i.top,c,v)}var ln=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ir(e).SVGGraphicsElement}:function(e){return e instanceof ir(e).SVGElement&&typeof e.getBBox=="function"}}();function cn(e){return e===ir(e).document.documentElement}function vn(e){return mt?ln(e)?sn(e):un(e):At}function fn(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return Ht(u,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),u}function jr(e,t,r,n){return{x:e,y:t,width:r,height:n}}var dn=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jr(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=vn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),hn=function(){function e(t,r){var n=fn(r);Ht(this,{target:t,contentRect:n})}return e}(),mn=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Wt,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new dn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new hn(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Bt=typeof WeakMap<"u"?new WeakMap:new Wt,$t=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=an.getInstance(),n=new mn(t,r,this);Bt.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){$t.prototype[e]=function(){var t;return(t=Bt.get(this))[e].apply(t,arguments)}});var gn=function(){return typeof $r.ResizeObserver<"u"?$r.ResizeObserver:$t}(),Ae=new Map;function yn(e){e.forEach(function(t){var r,n=t.target;(r=Ae.get(n))===null||r===void 0||r.forEach(function(i){return i(n)})})}var Ft=new gn(yn);function bn(e,t){Ae.has(e)||(Ae.set(e,new Set),Ft.observe(e)),Ae.get(e).add(t)}function wn(e,t){Ae.has(e)&&(Ae.get(e).delete(t),Ae.get(e).size||(Ft.unobserve(e),Ae.delete(e)))}var Cn=function(e){Ut(r,e);var t=Kt(r);function r(){return Jt(this,r),t.apply(this,arguments)}return Qt(r,[{key:"render",value:function(){return this.props.children}}]),r}(a.Component);function Mn(e,t){var r=e.children,n=e.disabled,i=a.useRef(null),o=a.useRef(null),u=a.useContext(ht),c=typeof r=="function",v=c?r(i):r,h=a.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),k=!c&&a.isValidElement(v)&&Tt(v),g=k?Lt(v):null,w=Nt(g,i),d=function(){var b;return vt(i.current)||(i.current&&qt(i.current)==="object"?vt((b=i.current)===null||b===void 0?void 0:b.nativeElement):null)||vt(o.current)};a.useImperativeHandle(t,function(){return d()});var _=a.useRef(e);_.current=e;var D=a.useCallback(function(m){var b=_.current,x=b.onResize,E=b.data,A=m.getBoundingClientRect(),L=A.width,f=A.height,G=m.offsetWidth,I=m.offsetHeight,p=Math.floor(L),ie=Math.floor(f);if(h.current.width!==p||h.current.height!==ie||h.current.offsetWidth!==G||h.current.offsetHeight!==I){var de={width:p,height:ie,offsetWidth:G,offsetHeight:I};h.current=de;var ae=G===Math.round(L)?L:G,oe=I===Math.round(f)?f:I,U=H(H({},de),{},{offsetWidth:ae,offsetHeight:oe});u==null||u(U,m,E),x&&Promise.resolve().then(function(){x(U,m)})}},[]);return a.useEffect(function(){var m=d();return m&&!n&&bn(m,D),function(){return wn(m,D)}},[i.current,n]),a.createElement(Cn,{ref:o},k?a.cloneElement(v,{ref:w}):v)}var _n=a.forwardRef(Mn),Pn="rc-observer-key";function Rn(e,t){var r=e.children,n=typeof r=="function"?[r]:Ot(r);return n.map(function(i,o){var u=(i==null?void 0:i.key)||"".concat(Pn,"-").concat(o);return a.createElement(_n,yt({},e,{key:u,ref:o===0?t:void 0}),i)})}var bt=a.forwardRef(Rn);bt.Collection=pt;const kn=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function Sn(e){var t=e.prefixCls,r=e.align,n=e.arrow,i=e.arrowPos,o=n||{},u=o.className,c=o.content,v=i.x,h=v===void 0?0:v,k=i.y,g=k===void 0?0:k,w=a.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var _=r.points[0],D=r.points[1],m=_[0],b=_[1],x=D[0],E=D[1];m===x||!["t","b"].includes(m)?d.top=g:m==="t"?d.top=0:d.bottom=0,b===E||!["l","r"].includes(b)?d.left=h:b==="l"?d.left=0:d.right=0}return a.createElement("div",{ref:w,className:nr("".concat(t,"-arrow"),u),style:d},c)}function En(e){var t=e.prefixCls,r=e.open,n=e.zIndex,i=e.mask,o=e.motion;return i?a.createElement(xt,yt({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var c=u.className;return a.createElement("div",{style:{zIndex:n},className:nr("".concat(t,"-mask"),c)})}):null}var zn=a.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Dn=a.forwardRef(function(e,t){var r=e.popup,n=e.className,i=e.prefixCls,o=e.style,u=e.target,c=e.onVisibleChanged,v=e.open,h=e.keepDom,k=e.fresh,g=e.onClick,w=e.mask,d=e.arrow,_=e.arrowPos,D=e.align,m=e.motion,b=e.maskMotion,x=e.forceRender,E=e.getPopupContainer,A=e.autoDestroy,L=e.portal,f=e.zIndex,G=e.onMouseEnter,I=e.onMouseLeave,p=e.onPointerEnter,ie=e.onPointerDownCapture,de=e.ready,ae=e.offsetX,oe=e.offsetY,U=e.offsetR,_e=e.offsetB,K=e.onAlign,Pe=e.onPrepare,B=e.stretch,F=e.targetWidth,y=e.targetHeight,Be=typeof r=="function"?r():r,se=v||h,$=(E==null?void 0:E.length)>0,C=a.useState(!E||!$),J=W(C,2),$e=J[0],ar=J[1];if(Me(function(){!$e&&$&&u&&ar(!0)},[$e,$,u]),!$e)return null;var he="auto",Q={left:"-1000vw",top:"-1000vh",right:he,bottom:he};if(de||!v){var Ee,Fe=D.points,Y=D.dynamicInset||((Ee=D._experimental)===null||Ee===void 0?void 0:Ee.dynamicInset),me=Y&&Fe[0][1]==="r",ue=Y&&Fe[0][0]==="b";me?(Q.right=U,Q.left=he):(Q.left=ae,Q.right=he),ue?(Q.bottom=_e,Q.top=he):(Q.top=oe,Q.bottom=he)}var q={};return B&&(B.includes("height")&&y?q.height=y:B.includes("minHeight")&&y&&(q.minHeight=y),B.includes("width")&&F?q.width=F:B.includes("minWidth")&&F&&(q.minWidth=F)),v||(q.pointerEvents="none"),a.createElement(L,{open:x||se,getContainer:E&&function(){return E(u)},autoDestroy:A},a.createElement(En,{prefixCls:i,open:v,zIndex:f,mask:w,motion:b}),a.createElement(bt,{onResize:K,disabled:!v},function(or){return a.createElement(xt,yt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:x,leavedClassName:"".concat(i,"-hidden")},m,{onAppearPrepare:Pe,onEnterPrepare:Pe,visible:v,onVisibleChanged:function(X){var ge;m==null||(ge=m.onVisibleChanged)===null||ge===void 0||ge.call(m,X),c(X)}}),function(ze,X){var ge=ze.className,je=ze.style,j=nr(i,ge,n);return a.createElement("div",{ref:Gt(or,t,X),className:j,style:H(H(H(H({"--arrow-x":"".concat(_.x||0,"px"),"--arrow-y":"".concat(_.y||0,"px")},Q),q),je),{},{boxSizing:"border-box",zIndex:f},o),onMouseEnter:G,onMouseLeave:I,onPointerEnter:p,onClick:g,onPointerDownCapture:ie},d&&a.createElement(Sn,{prefixCls:i,arrow:d,arrowPos:_,align:D}),a.createElement(zn,{cache:!v&&!k},Be))})}))}),xn=a.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,i=Tt(r),o=a.useCallback(function(c){It(t,n?n(c):c)},[n]),u=Nt(o,Lt(r));return i?a.cloneElement(r,{ref:u}):r}),_t=a.createContext(null);function Pt(e){return e?Array.isArray(e)?e:[e]:[]}function Tn(e,t,r,n){return a.useMemo(function(){var i=Pt(r??t),o=Pt(n??t),u=new Set(i),c=new Set(o);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[u,c]},[e,t,r,n])}function Ln(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Nn(e,t,r,n){for(var i=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var c,v=o[u];if(Ln((c=e[v])===null||c===void 0?void 0:c.points,i,n))return"".concat(t,"-placement-").concat(v)}return""}function Rt(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function yr(e){return e.ownerDocument.defaultView}function gt(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var i=yr(r).getComputedStyle(r),o=i.overflowX,u=i.overflowY,c=i.overflow;[o,u,c].some(function(v){return n.includes(v)})&&t.push(r),r=r.parentElement}return t}function gr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function mr(e){return gr(parseFloat(e),0)}function kt(e,t){var r=H({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var i=yr(n).getComputedStyle(n),o=i.overflow,u=i.overflowClipMargin,c=i.borderTopWidth,v=i.borderBottomWidth,h=i.borderLeftWidth,k=i.borderRightWidth,g=n.getBoundingClientRect(),w=n.offsetHeight,d=n.clientHeight,_=n.offsetWidth,D=n.clientWidth,m=mr(c),b=mr(v),x=mr(h),E=mr(k),A=gr(Math.round(g.width/_*1e3)/1e3),L=gr(Math.round(g.height/w*1e3)/1e3),f=(_-D-x-E)*A,G=(w-d-m-b)*L,I=m*L,p=b*L,ie=x*A,de=E*A,ae=0,oe=0;if(o==="clip"){var U=mr(u);ae=U*A,oe=U*L}var _e=g.x+ie-ae,K=g.y+I-oe,Pe=_e+g.width+2*ae-ie-de-f,B=K+g.height+2*oe-I-p-G;r.left=Math.max(r.left,_e),r.top=Math.max(r.top,K),r.right=Math.min(r.right,Pe),r.bottom=Math.min(r.bottom,B)}}),r}function St(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function Et(e,t){var r=t||[],n=W(r,2),i=n[0],o=n[1];return[St(e.width,i),St(e.height,o)]}function zt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function tr(e,t){var r=t[0],n=t[1],i,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,n==="l"?i=e.x:n==="r"?i=e.x+e.width:i=e.x+e.width/2,{x:i,y:o}}function He(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,i){return i===t?r[n]||"c":n}).join("")}function Wn(e,t,r,n,i,o,u){var c=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[n]||{}}),v=W(c,2),h=v[0],k=v[1],g=a.useRef(0),w=a.useMemo(function(){return t?gt(t):[]},[t]),d=a.useRef({}),_=function(){d.current={}};e||_();var D=Qe(function(){if(t&&r&&e){let ne=function(rr,Ne){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:br,hr=C.x+rr,Hr=C.y+Ne,st=hr+me,ut=Hr+Y,lt=Math.max(hr,We.left),s=Math.max(Hr,We.top),l=Math.min(st,We.right),S=Math.min(ut,We.bottom);return Math.max(0,(l-lt)*(S-s))},Wr=function(){Ge=C.y+R,Ie=Ge+Y,ke=C.x+M,pe=ke+me};var x,E,A,L,f=t,G=f.ownerDocument,I=yr(f),p=I.getComputedStyle(f),ie=p.width,de=p.height,ae=p.position,oe=f.style.left,U=f.style.top,_e=f.style.right,K=f.style.bottom,Pe=f.style.overflow,B=H(H({},i[n]),o),F=G.createElement("div");(x=f.parentElement)===null||x===void 0||x.appendChild(F),F.style.left="".concat(f.offsetLeft,"px"),F.style.top="".concat(f.offsetTop,"px"),F.style.position=ae,F.style.height="".concat(f.offsetHeight,"px"),F.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden";var y;if(Array.isArray(r))y={x:r[0],y:r[1],width:0,height:0};else{var Be,se,$=r.getBoundingClientRect();$.x=(Be=$.x)!==null&&Be!==void 0?Be:$.left,$.y=(se=$.y)!==null&&se!==void 0?se:$.top,y={x:$.x,y:$.y,width:$.width,height:$.height}}var C=f.getBoundingClientRect();C.x=(E=C.x)!==null&&E!==void 0?E:C.left,C.y=(A=C.y)!==null&&A!==void 0?A:C.top;var J=G.documentElement,$e=J.clientWidth,ar=J.clientHeight,he=J.scrollWidth,Q=J.scrollHeight,Ee=J.scrollTop,Fe=J.scrollLeft,Y=C.height,me=C.width,ue=y.height,q=y.width,or={left:0,top:0,right:$e,bottom:ar},ze={left:-Fe,top:-Ee,right:he-Fe,bottom:Q-Ee},X=B.htmlRegion,ge="visible",je="visibleFirst";X!=="scroll"&&X!==je&&(X=ge);var j=X===je,Vr=kt(ze,w),P=kt(or,w),br=X===ge?P:Vr,Ve=j?P:br;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var V=f.getBoundingClientRect();f.style.left=oe,f.style.top=U,f.style.right=_e,f.style.bottom=K,f.style.overflow=Pe,(L=f.parentElement)===null||L===void 0||L.removeChild(F);var De=gr(Math.round(me/parseFloat(ie)*1e3)/1e3),Re=gr(Math.round(Y/parseFloat(de)*1e3)/1e3);if(De===0||Re===0||dt(r)&&!Zt(r))return;var Or=B.offset,qr=B.targetOffset,wr=Et(C,Or),le=W(wr,2),ce=le[0],ee=le[1],Gr=Et(y,qr),Oe=W(Gr,2),re=Oe[0],xe=Oe[1];y.x-=re,y.y-=xe;var Ir=B.points||[],Cr=W(Ir,2),Ur=Cr[0],Kr=Cr[1],ye=zt(Kr),Z=zt(Ur),sr=tr(y,ye),O=tr(C,Z),Te=H({},B),M=sr.x-O.x+ce,R=sr.y-O.y+ee,ve=ne(M,R),qe=ne(M,R,P),ur=tr(y,["t","l"]),te=tr(C,["t","l"]),Mr=tr(y,["b","r"]),lr=tr(C,["b","r"]),Le=B.overflow||{},_r=Le.adjustX,Jr=Le.adjustY,cr=Le.shiftX,Ze=Le.shiftY,vr=function(Ne){return typeof Ne=="boolean"?Ne:Ne>=0},Ge,Ie,ke,pe;Wr();var Ue=vr(Jr),Pr=Z[0]===ye[0];if(Ue&&Z[0]==="t"&&(Ie>Ve.bottom||d.current.bt)){var N=R;Pr?N-=Y-ue:N=ur.y-lr.y-ee;var Rr=ne(M,N),Qr=ne(M,N,P);Rr>ve||Rr===ve&&(!j||Qr>=qe)?(d.current.bt=!0,R=N,ee=-ee,Te.points=[He(Z,0),He(ye,0)]):d.current.bt=!1}if(Ue&&Z[0]==="b"&&(Ge<Ve.top||d.current.tb)){var Ke=R;Pr?Ke+=Y-ue:Ke=Mr.y-te.y-ee;var kr=ne(M,Ke),Zr=ne(M,Ke,P);kr>ve||kr===ve&&(!j||Zr>=qe)?(d.current.tb=!0,R=Ke,ee=-ee,Te.points=[He(Z,0),He(ye,0)]):d.current.tb=!1}var Sr=vr(_r),Er=Z[1]===ye[1];if(Sr&&Z[1]==="l"&&(pe>Ve.right||d.current.rl)){var Je=M;Er?Je-=me-q:Je=ur.x-lr.x-ce;var zr=ne(Je,R),Ye=ne(Je,R,P);zr>ve||zr===ve&&(!j||Ye>=qe)?(d.current.rl=!0,M=Je,ce=-ce,Te.points=[He(Z,1),He(ye,1)]):d.current.rl=!1}if(Sr&&Z[1]==="r"&&(ke<Ve.left||d.current.lr)){var Se=M;Er?Se+=me-q:Se=Mr.x-te.x-ce;var Dr=ne(Se,R),xr=ne(Se,R,P);Dr>ve||Dr===ve&&(!j||xr>=qe)?(d.current.lr=!0,M=Se,ce=-ce,Te.points=[He(Z,1),He(ye,1)]):d.current.lr=!1}Wr();var be=cr===!0?0:cr;typeof be=="number"&&(ke<P.left&&(M-=ke-P.left-ce,y.x+q<P.left+be&&(M+=y.x-P.left+q-be)),pe>P.right&&(M-=pe-P.right-ce,y.x>P.right-be&&(M+=y.x-P.right+be)));var fe=Ze===!0?0:Ze;typeof fe=="number"&&(Ge<P.top&&(R-=Ge-P.top-ee,y.y+ue<P.top+fe&&(R+=y.y-P.top+ue-fe)),Ie>P.bottom&&(R-=Ie-P.bottom-ee,y.y>P.bottom-fe&&(R+=y.y-P.bottom+fe)));var Xe=C.x+M,er=Xe+me,we=C.y+R,pr=we+Y,Tr=y.x,Yr=Tr+q,fr=y.y,Xr=fr+ue,et=Math.max(Xe,Tr),rt=Math.min(er,Yr),Lr=(et+rt)/2,tt=Lr-Xe,nt=Math.max(we,fr),Nr=Math.min(pr,Xr),it=(nt+Nr)/2,at=it-we;u==null||u(t,Te);var dr=V.right-C.x-(M+C.width),Ce=V.bottom-C.y-(R+C.height);De===1&&(M=Math.round(M),dr=Math.round(dr)),Re===1&&(R=Math.round(R),Ce=Math.round(Ce));var ot={ready:!0,offsetX:M/De,offsetY:R/Re,offsetR:dr/De,offsetB:Ce/Re,arrowX:tt/De,arrowY:at/Re,scaleX:De,scaleY:Re,align:Te};k(ot)}}),m=function(){g.current+=1;var E=g.current;Promise.resolve().then(function(){g.current===E&&D()})},b=function(){k(function(E){return H(H({},E),{},{ready:!1})})};return Me(b,[n]),Me(function(){e||b()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,m]}function Hn(e,t,r,n,i){Me(function(){if(e&&t&&r){let g=function(){n(),i()};var o=t,u=r,c=gt(o),v=gt(u),h=yr(u),k=new Set([h].concat(Ct(c),Ct(v)));return k.forEach(function(w){w.addEventListener("scroll",g,{passive:!0})}),h.addEventListener("resize",g,{passive:!0}),n(),function(){k.forEach(function(w){w.removeEventListener("scroll",g),h.removeEventListener("resize",g)})}}},[e,t,r])}function An(e,t,r,n,i,o,u,c){var v=a.useRef(e);v.current=e;var h=a.useRef(!1);a.useEffect(function(){if(t&&n&&(!i||o)){var g=function(){h.current=!1},w=function(m){var b;v.current&&!u(((b=m.composedPath)===null||b===void 0||(b=b.call(m))===null||b===void 0?void 0:b[0])||m.target)&&!h.current&&c(!1)},d=yr(n);d.addEventListener("pointerdown",g,!0),d.addEventListener("mousedown",w,!0),d.addEventListener("contextmenu",w,!0);var _=ft(r);return _&&(_.addEventListener("mousedown",w,!0),_.addEventListener("contextmenu",w,!0)),function(){d.removeEventListener("pointerdown",g,!0),d.removeEventListener("mousedown",w,!0),d.removeEventListener("contextmenu",w,!0),_&&(_.removeEventListener("mousedown",w,!0),_.removeEventListener("contextmenu",w,!0))}}},[t,r,n,i,o]);function k(){h.current=!0}return k}var Bn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function $n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dt,t=a.forwardRef(function(r,n){var i=r.prefixCls,o=i===void 0?"rc-trigger-popup":i,u=r.children,c=r.action,v=c===void 0?"hover":c,h=r.showAction,k=r.hideAction,g=r.popupVisible,w=r.defaultPopupVisible,d=r.onPopupVisibleChange,_=r.afterPopupVisibleChange,D=r.mouseEnterDelay,m=r.mouseLeaveDelay,b=m===void 0?.1:m,x=r.focusDelay,E=r.blurDelay,A=r.mask,L=r.maskClosable,f=L===void 0?!0:L,G=r.getPopupContainer,I=r.forceRender,p=r.autoDestroy,ie=r.destroyPopupOnHide,de=r.popup,ae=r.popupClassName,oe=r.popupStyle,U=r.popupPlacement,_e=r.builtinPlacements,K=_e===void 0?{}:_e,Pe=r.popupAlign,B=r.zIndex,F=r.stretch,y=r.getPopupClassNameFromAlign,Be=r.fresh,se=r.alignPoint,$=r.onPopupClick,C=r.onPopupAlign,J=r.arrow,$e=r.popupMotion,ar=r.maskMotion,he=r.popupTransitionName,Q=r.popupAnimation,Ee=r.maskTransitionName,Fe=r.maskAnimation,Y=r.className,me=r.getTriggerDOMNode,ue=jt(r,Bn),q=p||ie||!1,or=a.useState(!1),ze=W(or,2),X=ze[0],ge=ze[1];Me(function(){ge(kn())},[]);var je=a.useRef({}),j=a.useContext(_t),Vr=a.useMemo(function(){return{registerSubPopup:function(l,S){je.current[l]=S,j==null||j.registerSubPopup(l,S)}}},[j]),P=Vt(),br=a.useState(null),Ve=W(br,2),V=Ve[0],De=Ve[1],Re=a.useRef(null),Or=Qe(function(s){Re.current=s,dt(s)&&V!==s&&De(s),j==null||j.registerSubPopup(P,s)}),qr=a.useState(null),wr=W(qr,2),le=wr[0],ce=wr[1],ee=a.useRef(null),Gr=Qe(function(s){dt(s)&&le!==s&&(ce(s),ee.current=s)}),Oe=a.Children.only(u),re=(Oe==null?void 0:Oe.props)||{},xe={},Ir=Qe(function(s){var l,S,T=le;return(T==null?void 0:T.contains(s))||((l=ft(T))===null||l===void 0?void 0:l.host)===s||s===T||(V==null?void 0:V.contains(s))||((S=ft(V))===null||S===void 0?void 0:S.host)===s||s===V||Object.values(je.current).some(function(z){return(z==null?void 0:z.contains(s))||s===z})}),Cr=Rt(o,$e,Q,he),Ur=Rt(o,ar,Fe,Ee),Kr=a.useState(w||!1),ye=W(Kr,2),Z=ye[0],sr=ye[1],O=g??Z,Te=Qe(function(s){g===void 0&&sr(s)});Me(function(){sr(g||!1)},[g]);var M=a.useRef(O);M.current=O;var R=a.useRef([]);R.current=[];var ve=Qe(function(s){var l;Te(s),((l=R.current[R.current.length-1])!==null&&l!==void 0?l:O)!==s&&(R.current.push(s),d==null||d(s))}),qe=a.useRef(),ur=function(){clearTimeout(qe.current)},te=function(l){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),S===0?ve(l):qe.current=setTimeout(function(){ve(l)},S*1e3)};a.useEffect(function(){return ur},[]);var Mr=a.useState(!1),lr=W(Mr,2),Le=lr[0],_r=lr[1];Me(function(s){(!s||O)&&_r(!0)},[O]);var Jr=a.useState(null),cr=W(Jr,2),Ze=cr[0],vr=cr[1],Ge=a.useState(null),Ie=W(Ge,2),ke=Ie[0],pe=Ie[1],Ue=function(l){pe([l.clientX,l.clientY])},Pr=Wn(O,V,se&&ke!==null?ke:le,U,K,Pe,C),N=W(Pr,11),Rr=N[0],Qr=N[1],Ke=N[2],kr=N[3],Zr=N[4],Sr=N[5],Er=N[6],Je=N[7],zr=N[8],Ye=N[9],Se=N[10],Dr=Tn(X,v,h,k),xr=W(Dr,2),be=xr[0],fe=xr[1],Xe=be.has("click"),er=fe.has("click")||fe.has("contextMenu"),we=Qe(function(){Le||Se()}),pr=function(){M.current&&se&&er&&te(!1)};Hn(O,le,V,we,pr),Me(function(){we()},[ke,U]),Me(function(){O&&!(K!=null&&K[U])&&we()},[JSON.stringify(Pe)]);var Tr=a.useMemo(function(){var s=Nn(K,o,Ye,se);return nr(s,y==null?void 0:y(Ye))},[Ye,y,K,o,se]);a.useImperativeHandle(n,function(){return{nativeElement:ee.current,popupElement:Re.current,forceAlign:we}});var Yr=a.useState(0),fr=W(Yr,2),Xr=fr[0],et=fr[1],rt=a.useState(0),Lr=W(rt,2),tt=Lr[0],nt=Lr[1],Nr=function(){if(F&&le){var l=le.getBoundingClientRect();et(l.width),nt(l.height)}},it=function(){Nr(),we()},at=function(l){_r(!1),Se(),_==null||_(l)},dr=function(){return new Promise(function(l){Nr(),vr(function(){return l})})};Me(function(){Ze&&(Se(),Ze(),vr(null))},[Ze]);function Ce(s,l,S,T){xe[s]=function(z){var Ar;T==null||T(z),te(l,S);for(var ct=arguments.length,wt=new Array(ct>1?ct-1:0),Br=1;Br<ct;Br++)wt[Br-1]=arguments[Br];(Ar=re[s])===null||Ar===void 0||Ar.call.apply(Ar,[re,z].concat(wt))}}(Xe||er)&&(xe.onClick=function(s){var l;M.current&&er?te(!1):!M.current&&Xe&&(Ue(s),te(!0));for(var S=arguments.length,T=new Array(S>1?S-1:0),z=1;z<S;z++)T[z-1]=arguments[z];(l=re.onClick)===null||l===void 0||l.call.apply(l,[re,s].concat(T))});var ot=An(O,er,le,V,A,f,Ir,te),ne=be.has("hover"),Wr=fe.has("hover"),rr,Ne;ne&&(Ce("onMouseEnter",!0,D,function(s){Ue(s)}),Ce("onPointerEnter",!0,D,function(s){Ue(s)}),rr=function(l){(O||Le)&&V!==null&&V!==void 0&&V.contains(l.target)&&te(!0,D)},se&&(xe.onMouseMove=function(s){var l;(l=re.onMouseMove)===null||l===void 0||l.call(re,s)})),Wr&&(Ce("onMouseLeave",!1,b),Ce("onPointerLeave",!1,b),Ne=function(){te(!1,b)}),be.has("focus")&&Ce("onFocus",!0,x),fe.has("focus")&&Ce("onBlur",!1,E),be.has("contextMenu")&&(xe.onContextMenu=function(s){var l;M.current&&fe.has("contextMenu")?te(!1):(Ue(s),te(!0)),s.preventDefault();for(var S=arguments.length,T=new Array(S>1?S-1:0),z=1;z<S;z++)T[z-1]=arguments[z];(l=re.onContextMenu)===null||l===void 0||l.call.apply(l,[re,s].concat(T))}),Y&&(xe.className=nr(re.className,Y));var We=H(H({},re),xe),hr={},Hr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Hr.forEach(function(s){ue[s]&&(hr[s]=function(){for(var l,S=arguments.length,T=new Array(S),z=0;z<S;z++)T[z]=arguments[z];(l=We[s])===null||l===void 0||l.call.apply(l,[We].concat(T)),ue[s].apply(ue,T)})});var st=a.cloneElement(Oe,H(H({},We),hr)),ut={x:Sr,y:Er},lt=J?H({},J!==!0?J:{}):null;return a.createElement(a.Fragment,null,a.createElement(bt,{disabled:!O,ref:Gr,onResize:it},a.createElement(xn,{getTriggerDOMNode:me},st)),a.createElement(_t.Provider,{value:Vr},a.createElement(Dn,{portal:e,ref:Or,prefixCls:o,popup:de,className:nr(ae,Tr),style:oe,target:le,onMouseEnter:rr,onMouseLeave:Ne,onPointerEnter:rr,zIndex:B,open:O,keepDom:Le,fresh:Be,onClick:$,onPointerDownCapture:ot,mask:A,motion:Cr,maskMotion:Ur,onVisibleChanged:at,onPrepare:dr,forceRender:I,autoDestroy:q,getPopupContainer:G,align:Ye,arrow:lt,arrowPos:ut,ready:Rr,offsetX:Qr,offsetY:Ke,offsetR:kr,offsetB:Zr,onAlign:we,stretch:F,targetWidth:Xr/Je,targetHeight:tt/zr})))});return t}const Qn=$n(Dt);export{bt as R,Qn as T,kn as i};
