import{r,a as N,u as L,j as e,e as R,p as m}from"./app-220fb3ff.js";import U from"./working-experience-section-f362eda1.js";import{d as W}from"./applicant-thunk-7d7287cd.js";import i from"./input-faf7c135.js";import p from"./select-dce75d1a.js";import{p as w,r as B,c as H,b as V}from"./barangay-94589600.js";import"./moment-58e99d88.js";import K from"./upload-resume-section-cb1f51fe.js";import{U as Y}from"./UserPlusIcon-ead4b3e7.js";import{M as $}from"./index-e6d312cb.js";import{m as C}from"./index-79962a41.js";import"./CloseOutlined-339e4863.js";import"./presets-7bff4acd.js";import"./AntdIcon-9913e4f6.js";import"./PlusOutlined-ede189bc.js";import"./applicant-record-service-9cc9119a.js";import"./applicant-final-service-783dc1ef.js";import"./FilePdfOutlined-2b6fbbdc.js";import"./XMarkIcon-1f2db0d2.js";import"./genStyleUtils-f4e31a09.js";import"./useZIndex-9fdc5668.js";import"./UnstableContext-599b94dd.js";import"./asyncToGenerator-f52ac301.js";import"./CheckCircleFilled-76ccd37b.js";import"./CloseCircleFilled-e576ba37.js";import"./InfoCircleFilled-22064e26.js";import"./useId-9b21714b.js";import"./button-2b4d01f0.js";import"./Compact-23f56252.js";import"./useSize-254cadc9.js";import"./index-b41ffe93.js";import"./KeyCode-3e897ad6.js";import"./pickAttrs-cbfc5e6d.js";import"./fade-3a920e20.js";import"./ContextIsolator-fb1a8dd9.js";import"./useClosable-41dc2fed.js";import"./useLocale-3b055dc7.js";import"./PurePanel-f0402d95.js";function Oe(){const[S,h]=r.useState(!1),[z,k]=r.useState(0),{applicantForm:n}=N(a=>a.applicants),{user:u}=N(a=>a.app),[_,F]=r.useState([]),[A,I]=r.useState([]),[D,E]=r.useState([]),[t,J]=r.useState({});console.log("applicants",n);const d=L();console.log("user",u),r.useEffect(()=>{(async()=>{k(0)})()},[]);function M(a){const l=new Date(a),o=new Date;let c=o.getFullYear()-l.getFullYear();const y=o.getMonth()-l.getMonth();return(y<0||y===0&&o.getDate()<l.getDate())&&c--,c??0}async function f(a){a.preventDefault(),v(!0),M(n.dob??new Date);const l=new FormData;l.append("files",j),l.append("site",u.site??""),l.append("fname",n.fname??""),l.append("mname",n.mname??""),l.append("lname",n.lname??""),l.append("suffix",n.suffix??""),l.append("dob",n.dob??""),l.append("religion",n.religion??""),l.append("email",n.email??""),l.append("nationality",n.nationality??""),l.append("phone",n.phone??""),l.append("mmname",n.mmname??""),l.append("ffname",n.ffname??""),l.append("educ",n.educ??""),l.append("courset",n.courset??""),l.append("hired",n.hired??""),l.append("lot",n.lot??""),l.append("sss",n.sss??""),l.append("pagibig",n.pagibig??""),l.append("tin",n.tin??""),l.append("philh",n.philh??""),l.append("ename",n.ename??""),l.append("eaddress",n.eaddress??""),l.append("relationship",n.relationship??""),l.append("ephone",n.ephone??""),l.append("marital",n.marital??""),l.append("gender",n.gender??""),l.append("region",n.region??""),l.append("city",n.city??""),l.append("brgy",n.brgy??""),l.append("province",n.province??""),n.work_experience.forEach(o=>{l.append("work_experience[]",JSON.stringify({company:o.company,position:o.position,started_at:o.started_at,end_at:o.end_at}))});try{const o=await R.dispatch(W(l));o.status===200?C.success("Application has been submitted successfully"):(J(o.response.data.errors),C.error("Failed to submit Application"))}catch(o){console.error(o)}finally{v(!1)}}console.log("province",w);const[x,g]=r.useState(!1),[O,b]=r.useState(!1),[j,P]=r.useState(null),[q,v]=r.useState(null),T=a=>{g(a.target.checked),b(!1)},G=a=>{b(a.target.checked),g(!1)};function s(a){if(console.log("dadwa",a.target.value),a.target.name=="region"){const l=JSON.parse(a.target.value),o=w.filter(c=>c.region_code===l.region_code);F(o),d(m({...n,[a.target.name]:l.name}))}else if(a.target.name=="province"){const l=JSON.parse(a.target.value),o=H.filter(c=>c.province_code===l.province_code);I(o),d(m({...n,[a.target.name]:l.name}))}else if(a.target.name=="city"){const l=JSON.parse(a.target.value),o=V.filter(c=>c.city_code===l.city_code);E(o),d(m({...n,[a.target.name]:l.name}))}else d(m({...n,[a.target.name]:a.target.value}))}return console.log("applicantForm",n),e.jsxs("div",{className:"my-3",children:[e.jsx("div",{class:"inline-flex rounded-md shadow-sm",role:"group",children:e.jsxs("button",{type:"button",onClick:()=>h(!0),class:"inline-flex items-center px-4 py-2 text-sm font-medium bg-blue-500 hover:bg-blue-700 text-white border rounded-lg gap-1",children:[e.jsx(Y,{className:"h-5"}),"Add New Applicant"]})}),e.jsxs($,{title:" ",open:S,onOk:f,onCancel:()=>h(!1),confirmLoading:q,width:1500,okText:"Submit",cancelText:"Cancel",children:[e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"APPLICATION FORM"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:f,children:[e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Personal Information"}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx(i,{onChange:a=>s(a),value:n.fname??"",required:!!(t!=null&&t.fname),name:"fname",label:"First Name",type:"text"}),e.jsx(i,{onChange:a=>s(a),value:n.mname??"",required:!!(t!=null&&t.mname),name:"mname",label:"Middle Name",type:"text"}),e.jsx(i,{onChange:a=>s(a),value:n.lname??"",required:!!(t!=null&&t.lname),name:"lname",label:"Last Name",type:"text"}),e.jsxs("select",{onChange:a=>s(a),name:"suffix",className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Suffix"}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"})]})]})})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("select",{onChange:a=>s(a),name:"gender",className:`border p-2 rounded w-full ${t!=null&&t.gender?"border-red-500":""}`,children:[e.jsx("option",{className:"",disabled:!0,selected:!0,children:"  Gender"}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]}),(t==null?void 0:t.gender)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.dob??"",required:!!(t!=null&&t.dob),name:"dob",label:"Date of Birth",type:"date"})}),e.jsx("div",{className:" w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.email??"",required:!!(t!=null&&t.email),name:"email",label:"Email",type:"email"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.phone??"",required:!!(t!=null&&t.phone),name:"phone",label:"Phone Number",type:"number"})})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("select",{onChange:a=>s(a),name:"marital",className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"  Marital Status"}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]}),(t==null?void 0:t.marital)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.religion??"",required:!!(t!=null&&t.religion),name:"religion",label:"Religion",type:"text"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.nationality??"",required:!!(t!=null&&t.nationality),name:"nationality",label:"Nationality",type:"text"})})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(i,{onChange:a=>s(a),value:n.mmname??"",name:"mmname",label:"Mothers maiden name",type:"text"})}),e.jsx("div",{className:"mb-4",children:e.jsx(i,{onChange:a=>s(a),value:n.ffname??"",name:"ffname",label:"Fathers fullname",type:"text"})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsxs("select",{name:"educ",className:"border p-2.5 rounded w-full",onChange:a=>s(a),children:[e.jsx("option",{disabled:!0,selected:!0,children:"  Highest Educational Attainment"}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.courset??"",name:"courset",label:"Course taken",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4 w-full",children:[e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(p,{onChange:a=>s(a),options:B.map(a=>({label:a.region_name,value:JSON.stringify({name:a.region_name,region_code:a.region_code})})),name:"region",label:"Region"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(p,{onChange:a=>s(a),options:_.map(a=>({label:a.province_name,value:JSON.stringify({name:a.province_name,province_code:a.province_code})})),name:"province",label:"Province"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(p,{onChange:a=>s(a),options:A.map(a=>({label:a.city_name,value:JSON.stringify({name:a.city_name,city_code:a.city_code})})),name:"city",label:"City/Municipality"})})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"flex flex-col  w-1/2",children:e.jsx(p,{onChange:a=>s(a),options:D.map(a=>({label:a.brgy_name,value:a.brgy_name})),name:"brgy",label:"Barangay"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.lot??"",name:"lot",label:"House/Lot No., Street, Purok/Sitio",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.sss??"",name:"sss",label:"SSS No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.pagibig??"",name:"pagibig",label:"Pag-IBIG No.",type:"text"})})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.tin??"",name:"tin",label:"Tin No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.philh??"",name:"philh",label:"Philhealth No.",type:"text"})})]}),e.jsxs("div",{className:"flex items-center mb-4 mt-6",children:[e.jsx("input",{id:"with-working-experience-checkbox",type:"checkbox",value:"",checked:x,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  "}),e.jsx("label",{htmlFor:"with-working-experience-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"with Working Experience"})})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{id:"first-time-jobseeker-checkbox",type:"checkbox",value:"",checked:O,onChange:G,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  ",disabled:x}),e.jsx("label",{htmlFor:"first-time-jobseeker-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"First Time Jobseeker"})})]}),x&&e.jsx(U,{}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-7",children:"Emergency Contact Information"}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.ename??"",name:"ename",label:"Emergency Contact Fullname",type:"text"})}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.eaddress??"",name:"eaddress",label:"Address",type:"text"})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.relationship??"",name:"relationship",label:"Relationship",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>s(a),value:n.ephone??"",name:"ephone",label:"Contact No.",type:"number"})})]}),e.jsx(K,{files:j,setFiles:P})]})]})]})}export{Oe as default};
