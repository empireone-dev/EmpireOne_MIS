import{r as m,j as e,s as me}from"./store-bb4697b2.js";import r from"./input2-6c810a47.js";import p from"./select-12495e4c.js";import $ from"./select2-f0aa5e96.js";import{u as de,a as xe}from"./index.esm-b4814a1e.js";import{r as pe,p as ue,c as ge,b as fe}from"./barangay-94589600.js";import he from"./checkbox-5f9197ba.js";import{u as be}from"./app-b5a84c7a.js";import{j as je}from"./applicant-thunk-59020b0a.js";import{M as ye}from"./index-581daa4a.js";import{P as ve}from"./PlusIcon-236dc33d.js";import{U as Ne}from"./index-edae0ad9.js";import{m as u}from"./index-22b5d80a.js";import{I as we}from"./InboxOutlined-fa760a36.js";import"./applicant-record-service-beee2717.js";import"./applicant-final-service-a1d04fab.js";import"./genStyleUtils-9f5b0f7b.js";import"./typeof-7fd5df1e.js";import"./warning-b41e9706.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-7dbe148b.js";import"./AntdIcon-5ca1d8c5.js";import"./UnstableContext-8e14ccb4.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-aeb54b4f.js";import"./CloseCircleFilled-2a808e41.js";import"./InfoCircleFilled-94d744db.js";import"./useZIndex-97d4a6ee.js";import"./useId-1c693379.js";import"./button-15396024.js";import"./omit-644b1847.js";import"./Compact-e616daf7.js";import"./useSize-d258a147.js";import"./CloseOutlined-31158bc2.js";import"./index-b0e71e10.js";import"./KeyCode-7727409c.js";import"./pickAttrs-d89df3bc.js";import"./fade-9908404a.js";import"./ContextIsolator-258193a1.js";import"./useClosable-e4728bab.js";import"./Skeleton-79d3651f.js";import"./useLocale-bacb6881.js";import"./PurePanel-f7165cfe.js";import"./Dragger-c5fc0c30.js";import"./collapse-97de76d4.js";import"./useForceUpdate-49ebc743.js";import"./DeleteOutlined-ade45a5b.js";import"./EyeOutlined-85fb1f5b.js";import"./CheckOutlined-79c3aeff.js";import"./index-c97817de.js";import"./index-df2a1aee.js";const{Dragger:Se}=Ne;function qs(){var P,M,A,I,F,E,D,O,L,V,H,U,G;be(s=>s.app);const[W,T]=m.useState([]),[K,Z]=m.useState([]),[Y,Q]=m.useState([]),[N,w]=m.useState({});m.useState(!1);const[S,X]=m.useState(!1),[g,q]=m.useState([]),[ee,C]=m.useState(!1),[_,f]=m.useState(0),[h,k]=m.useState(!1),{register:a,handleSubmit:se,formState:{errors:l,isSubmitting:b},reset:le,control:ae}=de({defaultValues:{work_experience:[{company:"",position:"",started_at:"",end_at:""}]}}),{fields:ie,append:re,remove:te}=xe({control:ae,name:"work_experience"}),ne=async s=>{const i=n=>new Promise((d,y)=>{const x=new FileReader;x.onload=()=>d(x.result),x.onerror=v=>y(v),x.readAsDataURL(n)}),o=Array.from(s).filter(n=>!g.some(d=>d.file.name===n.name&&d.file.size===n.size&&d.file.lastModified===n.lastModified)),c=await Promise.all(o.map(async n=>({file:n,files:await i(n)})));q(n=>[...n,...c])};console.log("files",g);const oe={name:"file",multiple:!1,accept:"application/pdf",method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",onChange(s){const{status:i}=s.file;if(i!=="uploading"&&console.log(s.file,s.fileList),i==="done"){const t=s.fileList.map(o=>o.originFileObj).filter(Boolean);ne(t),u.success(`${s.file.name} file uploaded successfully.`)}else i==="error"&&u.error(`${s.file.name} file upload failed.`)},onRemove(s){return q(i=>i.filter(t=>t.file.name!==s.name)),!0}},ce=async s=>{var i;if(g.length===0){u.error("CV file is required. Please upload your CV.");return}k(!0),f(0);try{const t=[{step:10,message:"Validating form data..."},{step:30,message:"Processing files..."},{step:50,message:"Uploading application..."},{step:80,message:"Finalizing submission..."},{step:85,message:"Finalizing submission..."},{step:90,message:"Finalizing submission..."},{step:95,message:"Finalizing submission..."},{step:96,message:"Finalizing submission..."},{step:97,message:"Finalizing submission..."},{step:98,message:"Finalizing submission..."},{step:100,message:"Complete!"}];for(let c=0;c<t.length-1;c++)f(t[c].step),await new Promise(n=>setTimeout(n,800));const o=await me.dispatch(je({...s,province:JSON.parse(s==null?void 0:s.province).name,city:JSON.parse(s==null?void 0:s.city).name,region:JSON.parse(s==null?void 0:s.region).name,files:g.map(c=>c.files),is_experience:S}));f(100),await new Promise(c=>setTimeout(c,500)),le(),q([]),f(0),k(!1),C(!0),u.success("Application has been submitted successfully! Please check your email regularly for updates on your application status.")}catch(t){f(0),k(!1),((i=t==null?void 0:t.response)==null?void 0:i.status)===422?u.error("Application failed: Data validation error or already exists"):u.error("Something went wrong. Please try again later.")}};function j(s){if(console.log("dadwa",s.target.value),s.target.name=="region"){const i=JSON.parse(s.target.value),t=ue.filter(o=>o.region_code===i.region_code);T(t),w({...N,[s.target.name]:i.name})}else if(s.target.name=="province"){const i=JSON.parse(s.target.value),t=ge.filter(o=>o.province_code===i.province_code);Z(t),w({...N,[s.target.name]:i.name})}else if(s.target.name=="city"){const i=JSON.parse(s.target.value),t=fe.filter(o=>o.city_code===i.city_code);Q(t),w({...N,[s.target.name]:i.name})}}return e.jsxs(e.Fragment,{children:[e.jsx(ye,{title:null,open:ee,onCancel:()=>C(!1),footer:null,centered:!0,width:600,children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100",children:e.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ðŸŽ‰ Application Submitted Successfully!"}),e.jsxs("div",{className:"text-left bg-blue-50 p-4 rounded-lg mb-6",children:[e.jsx("p",{className:"text-gray-700 mb-3",children:e.jsx("strong",{children:"Dear Applicant,"})}),e.jsxs("p",{className:"text-gray-700 mb-3",children:["Thank you for your interest in joining ",e.jsx("strong",{children:"EmpireOne"}),"! Your application has been successfully submitted and is now being reviewed by our HR team."]}),e.jsx("p",{className:"text-gray-700 mb-3",children:e.jsx("strong",{children:"What happens next:"})}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 mb-3",children:[e.jsx("li",{children:"Our HR team will review your application"}),e.jsx("li",{children:"You'll receive email updates about your application status"}),e.jsx("li",{children:"If shortlisted, we'll contact you for the next steps"})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded border-l-4 border-yellow-400",children:e.jsxs("p",{className:"text-yellow-800 text-sm",children:[e.jsx("strong",{children:"ðŸ“§ Important:"})," Please check your email regularly (including spam/junk folder) for updates and further instructions."]})})]}),e.jsx("button",{onClick:()=>C(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})}),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto px-2 flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{className:"text-center",children:e.jsx("b",{children:"ONLINE APPLICATION FORM"})})}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mt-6 mb-6",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Welcome to EmpireOne!"})," Thank you for your interest in joining our team. Please fill out this application form completely and accurately. After submission, please check your email regularly for updates on your application status."]})})})}),e.jsxs("form",{onSubmit:se(ce),className:"space-y-4 px-1 py-8",children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Site Information"}),e.jsx("div",{className:"w-full lg:w-1/2 lg:flex-row flex-none",children:e.jsx($,{register:{...a("site",{required:"Site is required"})},options:[{label:"San Carlos",value:"San Carlos"},{label:"Carcar",value:"Carcar"}],errorMessage:(P=l==null?void 0:l.site)==null?void 0:P.message,label:"Site",name:"site"})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Personal Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("fname",{required:"First Name is required"})},errorMessage:(M=l==null?void 0:l.fname)==null?void 0:M.message,name:"fname",label:"First Name",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("mname",{required:"Middle Name is required"})},errorMessage:(A=l==null?void 0:l.mname)==null?void 0:A.message,name:"mname",label:"Middle Name",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("lname",{required:"Last Name is required"})},errorMessage:(I=l==null?void 0:l.lname)==null?void 0:I.message,name:"lname",label:"Last Name",type:"text"})}),e.jsx("div",{className:"flex-none lg:w-24 lg:flex-row",children:e.jsx(p,{register:{...a("suffix",{required:!1})},options:[{label:"--",value:""},{label:"Sr.",value:"Sr."},{label:"Jr.",value:"Jr."},{label:"II",value:"II"},{label:"III",value:"III"},{label:"IV",value:"IV"},{label:"V",value:"V"}],label:"Suffix",name:"name"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx($,{register:{...a("gender",{required:"Gender is required"})},options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"}],errorMessage:(F=l==null?void 0:l.gender)==null?void 0:F.message,label:"Gender",name:"gender"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("dob",{required:"Date of Birth is required"})},errorMessage:(E=l==null?void 0:l.dob)==null?void 0:E.message,name:"dob",label:"Date of Birth",type:"date"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})},errorMessage:(D=l==null?void 0:l.email)==null?void 0:D.message,name:"email",label:"Email",type:"email"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("phone",{required:"Phone is required"})},errorMessage:(O=l==null?void 0:l.phone)==null?void 0:O.message,name:"phone",label:"Phone",type:"number"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...a("marital",{required:!1})},options:[{label:"Single",value:"Single"},{label:"Married",value:"Married"},{label:"Widowed",value:"Widowed"},{label:"Divorced",value:"Divorced"}],label:"Marital Status",name:"marital"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("religion",{required:!1})},name:"religion",label:"Religion",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("nationality",{required:!1})},name:"nationality",label:"Nationality",type:"text"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("mmname",{required:!1})},name:"mmname",label:"Mother's maiden name",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("ffname",{required:!1})},name:"ffname",label:"Father's fullname",type:"text"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...a("educ",{required:!1})},options:[{label:"Highest Educational Attainmen",value:"Highest Educational Attainmen"},{label:"Elementary Undergraduate",value:"Elementary Undergraduate"},{label:"Elementary Graduate",value:"Elementary Graduate"},{label:"Highschool/K-12 Undergraduate",value:"Highschool/K-12 Undergraduate"},{label:"Highschool/K-12 Graduate",value:"Highschool/K-12 Graduate"},{label:"College Level",value:"College Level"},{label:"College Graduate",value:"College Graduate"},{label:"Vocational Graduate",value:"Vocational Graduate"},{label:"Masteral Degree",value:"Masteral Degree"},{label:"Doctoral Degree",value:"Doctoral Degree"}],label:"Highest Educational Attainment",name:"educ"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("courset",{required:!1})},name:"courset",label:"Course taken",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Address Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...a("region",{required:"Please Select Region"})},onChange:s=>j(s),options:pe.map(s=>({label:s.region_name,value:JSON.stringify({name:s.region_name,region_code:s.region_code})})),errorMessage:(L=l==null?void 0:l.region)==null?void 0:L.message,label:"Region",name:"region"})}),e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...a("province",{required:"Please Select Province"})},onChange:s=>j(s),options:W.map(s=>({label:s.province_name,value:JSON.stringify({name:s.province_name,province_code:s.province_code})})),errorMessage:(V=l==null?void 0:l.province)==null?void 0:V.message,label:"Province",name:"province"})}),e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...a("city",{required:"Please Select City"})},onChange:s=>j(s),options:K.map(s=>({label:s.city_name,value:JSON.stringify({name:s.city_name,city_code:s.city_code})})),errorMessage:(H=l==null?void 0:l.city)==null?void 0:H.message,name:"city",label:"City/Municipality"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{register:{...a("brgy",{required:"Please Select Barangay"})},onChange:s=>j(s),options:Y.map(s=>({label:s.brgy_name,value:s.brgy_name})),errorMessage:(U=l==null?void 0:l.brgy)==null?void 0:U.message,name:"brgy",label:"Barangay"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("lot",{required:"House/Lot No., Street, Purok/Sitio is required"})},errorMessage:(G=l==null?void 0:l.lot)==null?void 0:G.message,name:"lot",label:"House/Lot No., Street, Purok/Sitio",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("sss",{})},name:"sss",label:"SSS",type:"number"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("pagibig",{})},name:"pagibig",label:"Pagibig",type:"number"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("tin",{})},name:"tin",label:"Tin",type:"number"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("philh",{})},name:"philh",label:"Philhealth No.",type:"number"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Working Experience"}),e.jsxs("div",{className:"flex-col",children:[e.jsx("div",{className:"flex items-center mb-3 justify-between",children:e.jsx(he,{label:"With Working Experience?",name:"hasExperience",onChange:s=>X(s.target.checked)})}),S&&e.jsx("div",{className:"flex flex-col gap-3 w-full",children:ie.map((s,i)=>{var t,o,c,n,d,y,x,v,R,z,J,B;return e.jsxs("div",{className:"flex flex-col border border-blue-500 rounded-lg p-4 w-full gap-4",children:[i!==0&&e.jsx("div",{className:"flex w-full justify-end",children:e.jsx("button",{type:"button",onClick:()=>te(i),className:"bg-red-500 text-white px-2 py-1 rounded",children:"âœ•"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full",children:[e.jsx(r,{register:{...a(`work_experience.${i}.company`,{required:"Company is required"})},errorMessage:(c=(o=(t=l==null?void 0:l.work_experience)==null?void 0:t[i])==null?void 0:o.company)==null?void 0:c.message,name:"company",label:"Company",type:"text",className:"w-full"}),e.jsx(r,{register:{...a(`work_experience.${i}.position`,{required:"Position is required"})},errorMessage:(y=(d=(n=l==null?void 0:l.work_experience)==null?void 0:n[i])==null?void 0:d.position)==null?void 0:y.message,name:"position",label:"Position",type:"text",className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full",children:[e.jsx(r,{register:{...a(`work_experience.${i}.started_at`,{required:"Started at is required"})},errorMessage:(R=(v=(x=l==null?void 0:l.work_experience)==null?void 0:x[i])==null?void 0:v.started_at)==null?void 0:R.message,label:"Started At",type:"date",className:"w-full"}),e.jsx(r,{register:{...a(`work_experience.${i}.end_at`,{required:"End at is required"})},errorMessage:(B=(J=(z=l==null?void 0:l.work_experience)==null?void 0:z[i])==null?void 0:J.end_at)==null?void 0:B.message,label:"End At",type:"date",className:"w-full"})]})]},s.id)})}),S&&e.jsxs("button",{type:"button",onClick:()=>re({name:""}),className:"bg-blue-600 text-white justify-center items-center px-4 flex gap-2 py-2 rounded-md w-full mt-4",children:[e.jsx(ve,{className:"h-6"})," Experience"]})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 ",children:"Emergency Contact Information"}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("ename",{required:!1})},name:"ename",label:"Emergency Contact Fullname",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("eaddress",{required:!1})},name:"eaddress",label:"Address",type:"text"})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("relationship",{required:!1})},name:"relationship",label:"Relationship",type:"text"})}),e.jsx("div",{className:"flex-1",children:e.jsx(r,{register:{...a("ephone",{required:!1})},name:"ephone",label:"Contact No.",type:"number"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["CV Upload ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Se,{...oe,children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(we,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag PDF file to this area to upload your CV"}),e.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Only PDF files are allowed."})]}),g.length===0&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please upload your CV or resume here in PDF format."})]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsx("strong",{children:"Important Reminder:"})," Please ensure your email address is correct. After submitting your application, regularly check your email (including spam/junk folder) for updates regarding your application status and any further instructions."]})})})}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("div",{className:"w-full",children:[(b||h)&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Submitting Application..."}),e.jsxs("span",{children:[_,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${_}%`}})})]}),e.jsxs("button",{disabled:b||h,type:"submit",className:`w-full text-white px-4 py-2 rounded flex items-center justify-center gap-2 transition-all duration-200 ${b||h?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 active:bg-blue-700"}`,children:[(b||h)&&e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b||h?`Submitting Application... (${_}%)`:"Submit Application"]})]})})]})]})})})})]})}export{qs as default};
