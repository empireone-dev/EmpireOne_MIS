import{r as s,X as fe,j as o,h as xe}from"./app-0d4b5c13.js";import{h as q}from"./moment-a9aaa855.js";import{S as ve}from"./index-1a864d01.js";import{A as Z,C as B}from"./index-3394ea9d.js";import{B as ee}from"./button-dc20185c.js";import{A as ye}from"./ArrowLeftOutlined-3ff85d0f.js";import{c as k}from"./presets-19338a5d.js";import{R as be}from"./index-bef1966a.js";import{g as oe,m as ne,y as re,u as Ne,G as je,C as J,a as Ce}from"./genStyleUtils-880fb4de.js";import{u as Se,r as Ie}from"./useBreakpoint-f34292f9.js";import"./useZIndex-275736d6.js";import{u as ae,K as Oe}from"./KeyCode-c92e6b80.js";import{u as Pe,t as Ae}from"./useSize-1a68c571.js";import{P as Ee,c as se}from"./Compact-bb6002a1.js";import{i as $e,u as we,g as ze}from"./useId-9919cc0a.js";import{g as De,b as Be,a as ke,P as Re,T as Te}from"./index-44958cdf.js";import{D as i}from"./index-49e6c93a.js";import{U as _e}from"./UserOutlined-504d9f98.js";import"./CheckCircleFilled-f4a52839.js";import"./AntdIcon-cff25000.js";import"./typeof-7fd5df1e.js";import"./CloseCircleFilled-b9c2fb2c.js";import"./CloseOutlined-9274c258.js";import"./InfoCircleFilled-e5eeb79b.js";import"./pickAttrs-f7ec3094.js";import"./createSuper-c7e84a61.js";import"./toPropertyKey-d8419463.js";import"./omit-644b1847.js";import"./Skeleton-cbca03ad.js";import"./EllipsisOutlined-b103c91f.js";import"./PlusOutlined-a9be53ba.js";import"./Dropdown-9de2a040.js";import"./useVariants-257e556f.js";import"./ContextIsolator-325d9081.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./UnstableContext-2e7f8ad1.js";import"./useForceUpdate-387ca0c5.js";const Me=s.createContext({}),Q=Me,We=e=>{const{antCls:n,componentCls:r,iconCls:t,avatarBg:l,avatarColor:d,containerSize:f,containerSizeLG:u,containerSizeSM:h,textFontSize:x,textFontSizeLG:p,textFontSizeSM:m,borderRadius:a,borderRadiusLG:g,borderRadiusSM:C,lineWidth:y,lineType:I}=e,A=(c,S,w)=>({width:c,height:c,borderRadius:"50%",[`&${r}-square`]:{borderRadius:w},[`&${r}-icon`]:{fontSize:S,[`> ${t}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},re(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:d,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:l,border:`${Ne(y)} ${I} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),A(f,x,a)),{"&-lg":Object.assign({},A(u,p,g)),"&-sm":Object.assign({},A(h,m,C)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Le=e=>{const{componentCls:n,groupBorderColor:r,groupOverlapping:t,groupSpace:l}=e;return{[`${n}-group`]:{display:"inline-flex",[n]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:t}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:l}}}},Ge=e=>{const{controlHeight:n,controlHeightLG:r,controlHeightSM:t,fontSize:l,fontSizeLG:d,fontSizeXL:f,fontSizeHeading3:u,marginXS:h,marginXXS:x,colorBorderBg:p}=e;return{containerSize:n,containerSizeLG:r,containerSizeSM:t,textFontSize:Math.round((d+f)/2),textFontSizeLG:u,textFontSizeSM:l,groupSpace:x,groupOverlapping:-h,groupBorderColor:p}},le=oe("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:r}=e,t=ne(e,{avatarBg:r,avatarColor:n});return[We(t),Le(t)]},Ge);var Fe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(r[t[l]]=e[t[l]]);return r};const He=(e,n)=>{const[r,t]=s.useState(1),[l,d]=s.useState(!1),[f,u]=s.useState(!0),h=s.useRef(null),x=s.useRef(null),p=je(n,h),{getPrefixCls:m,avatar:a}=s.useContext(J),g=s.useContext(Q),C=()=>{if(!x.current||!h.current)return;const b=x.current.offsetWidth,N=h.current.offsetWidth;if(b!==0&&N!==0){const{gap:D=4}=e;D*2<N&&t(N-D*2<b?(N-D*2)/b:1)}};s.useEffect(()=>{d(!0)},[]),s.useEffect(()=>{u(!0),t(1)},[e.src]),s.useEffect(C,[e.gap]);const y=()=>{const{onError:b}=e;(b==null?void 0:b())!==!1&&u(!1)},{prefixCls:I,shape:A,size:c,src:S,srcSet:w,icon:P,className:R,rootClassName:T,alt:Y,draggable:M,children:E,crossOrigin:z}=e,$=Fe(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),v=Pe(b=>{var N,D;return(D=(N=c??(g==null?void 0:g.size))!==null&&N!==void 0?N:b)!==null&&D!==void 0?D:"default"}),_=Object.keys(typeof v=="object"?v||{}:{}).some(b=>["xs","sm","md","lg","xl","xxl"].includes(b)),W=Se(_),L=s.useMemo(()=>{if(typeof v!="object")return{};const b=Ie.find(D=>W[D]),N=v[b];return N?{width:N,height:N,fontSize:N&&(P||E)?N/2:18}:{}},[W,v]),j=m("avatar",I),G=ae(j),[X,U,O]=le(j,G),F=k({[`${j}-lg`]:v==="large",[`${j}-sm`]:v==="small"}),H=s.isValidElement(S),ge=A||(g==null?void 0:g.shape)||"circle",ue=k(j,F,a==null?void 0:a.className,`${j}-${ge}`,{[`${j}-image`]:H||S&&f,[`${j}-icon`]:!!P},O,G,R,T,U),he=typeof v=="number"?{width:v,height:v,fontSize:P?v/2:18}:{};let V;if(typeof S=="string"&&f)V=s.createElement("img",{src:S,draggable:M,srcSet:w,onError:y,alt:Y,crossOrigin:z});else if(H)V=S;else if(P)V=P;else if(l||r!==1){const b=`scale(${r})`,N={msTransform:b,WebkitTransform:b,transform:b};V=s.createElement(be,{onResize:C},s.createElement("span",{className:`${j}-string`,ref:x,style:Object.assign({},N)},E))}else V=s.createElement("span",{className:`${j}-string`,style:{opacity:0},ref:x},E);return delete $.onError,delete $.gap,X(s.createElement("span",Object.assign({},$,{style:Object.assign(Object.assign(Object.assign(Object.assign({},he),L),a==null?void 0:a.style),$.style),className:ue,ref:p}),V))},Ve=s.forwardRef(He),ie=Ve,K=e=>e?typeof e=="function"?e():e:null,Ye=e=>{const{componentCls:n,popoverColor:r,titleMinWidth:t,fontWeightStrong:l,innerPadding:d,boxShadowSecondary:f,colorTextHeading:u,borderRadiusLG:h,zIndexPopup:x,titleMarginBottom:p,colorBgElevated:m,popoverBg:a,titleBorderBottom:g,innerContentPadding:C,titlePadding:y}=e;return[{[n]:Object.assign(Object.assign({},re(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:x,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":m,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:a,backgroundClip:"padding-box",borderRadius:h,boxShadow:f,padding:d},[`${n}-title`]:{minWidth:t,marginBottom:p,color:u,fontWeight:l,borderBottom:g,padding:y},[`${n}-inner-content`]:{color:r,padding:C}})},De(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Xe=e=>{const{componentCls:n}=e;return{[n]:Ee.map(r=>{const t=e[`${r}6`];return{[`&${n}-${r}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},Ue=e=>{const{lineWidth:n,controlHeight:r,fontHeight:t,padding:l,wireframe:d,zIndexPopupBase:f,borderRadiusLG:u,marginXS:h,lineType:x,colorSplit:p,paddingSM:m}=e,a=r-t,g=a/2,C=a/2-n,y=l;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:f+30},Be(e)),ke({contentRadius:u,limitVerticalRadius:!0})),{innerPadding:d?0:12,titleMarginBottom:d?0:h,titlePadding:d?`${g}px ${y}px ${C}px`:0,titleBorderBottom:d?`${n}px ${x} ${p}`:"none",innerContentPadding:d?`${m}px ${y}px`:0})},ce=oe("Popover",e=>{const{colorBgElevated:n,colorText:r}=e,t=ne(e,{popoverBg:n,popoverColor:r});return[Ye(t),Xe(t),$e(t,"zoom-big")]},Ue,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Ke=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(r[t[l]]=e[t[l]]);return r};const de=e=>{let{title:n,content:r,prefixCls:t}=e;return!n&&!r?null:s.createElement(s.Fragment,null,n&&s.createElement("div",{className:`${t}-title`},n),r&&s.createElement("div",{className:`${t}-inner-content`},r))},Qe=e=>{const{hashId:n,prefixCls:r,className:t,style:l,placement:d="top",title:f,content:u,children:h}=e,x=K(f),p=K(u),m=k(n,r,`${r}-pure`,`${r}-placement-${d}`,t);return s.createElement("div",{className:m,style:l},s.createElement("div",{className:`${r}-arrow`}),s.createElement(Re,Object.assign({},e,{className:n,prefixCls:r}),h||s.createElement(de,{prefixCls:r,title:x,content:p})))},Je=e=>{const{prefixCls:n,className:r}=e,t=Ke(e,["prefixCls","className"]),{getPrefixCls:l}=s.useContext(J),d=l("popover",n),[f,u,h]=ce(d);return f(s.createElement(Qe,Object.assign({},t,{prefixCls:d,hashId:u,className:k(r,h)})))},qe=Je;var Ze=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(r[t[l]]=e[t[l]]);return r};const et=s.forwardRef((e,n)=>{var r,t;const{prefixCls:l,title:d,content:f,overlayClassName:u,placement:h="top",trigger:x="hover",children:p,mouseEnterDelay:m=.1,mouseLeaveDelay:a=.1,onOpenChange:g,overlayStyle:C={},styles:y,classNames:I}=e,A=Ze(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:c,className:S,style:w,classNames:P,styles:R}=Ce("popover"),T=c("popover",l),[Y,M,E]=ce(T),z=c(),$=k(u,M,E,S,P.root,I==null?void 0:I.root),v=k(P.body,I==null?void 0:I.body),[_,W]=we(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),L=(O,F)=>{W(O,!0),g==null||g(O,F)},j=O=>{O.keyCode===Oe.ESC&&L(!1,O)},G=O=>{L(O)},X=K(d),U=K(f);return Y(s.createElement(Te,Object.assign({placement:h,trigger:x,mouseEnterDelay:m,mouseLeaveDelay:a},A,{prefixCls:T,classNames:{root:$,body:v},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},R.root),w),C),y==null?void 0:y.root),body:Object.assign(Object.assign({},R.body),y==null?void 0:y.body)},ref:n,open:_,onOpenChange:G,overlay:X||U?s.createElement(de,{prefixCls:T,title:X,content:U}):null,transitionName:ze(z,"zoom-big",A.transitionName),"data-popover-inject":!0}),se(p,{onKeyDown:O=>{var F,H;s.isValidElement(p)&&((H=p==null?void 0:(F=p.props).onKeyDown)===null||H===void 0||H.call(F,O)),j(O)}})))}),me=et;me._InternalPanelDoNotUseOrYouWillBeFired=qe;const tt=me,te=e=>{const{size:n,shape:r}=s.useContext(Q),t=s.useMemo(()=>({size:e.size||n,shape:e.shape||r}),[e.size,e.shape,n,r]);return s.createElement(Q.Provider,{value:t},e.children)},ot=e=>{var n,r,t,l;const{getPrefixCls:d,direction:f}=s.useContext(J),{prefixCls:u,className:h,rootClassName:x,style:p,maxCount:m,maxStyle:a,size:g,shape:C,maxPopoverPlacement:y,maxPopoverTrigger:I,children:A,max:c}=e,S=d("avatar",u),w=`${S}-group`,P=ae(S),[R,T,Y]=le(S,P),M=k(w,{[`${w}-rtl`]:f==="rtl"},Y,P,h,x,T),E=Ae(A).map((v,_)=>se(v,{key:`avatar-key-${_}`})),z=(c==null?void 0:c.count)||m,$=E.length;if(z&&z<$){const v=E.slice(0,z),_=E.slice(z,$),W=(c==null?void 0:c.style)||a,L=((n=c==null?void 0:c.popover)===null||n===void 0?void 0:n.trigger)||I||"hover",j=((r=c==null?void 0:c.popover)===null||r===void 0?void 0:r.placement)||y||"top",G=Object.assign(Object.assign({content:_},c==null?void 0:c.popover),{classNames:{root:k(`${w}-popover`,(l=(t=c==null?void 0:c.popover)===null||t===void 0?void 0:t.classNames)===null||l===void 0?void 0:l.root)},placement:j,trigger:L});return v.push(s.createElement(tt,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},G),s.createElement(ie,{style:W},`+${$-z}`))),R(s.createElement(te,{shape:C,size:g},s.createElement("div",{className:M,style:p},v)))}return R(s.createElement(te,{shape:C,size:g},s.createElement("div",{className:M,style:p},E)))},nt=ot,pe=ie;pe.Group=nt;const rt=pe;function Ft(){const[e,n]=s.useState(null),[r,t]=s.useState(!0),[l,d]=s.useState(null),{props:f}=fe(),u=f.emp_id;s.useEffect(()=>{(async()=>{try{if(u){const m=(await xe.get(`/api/employee/${u}`)).data.data;if(m&&m.applicant){const a=m.applicant,g={employeeId:m.emp_id||"N/A",applicationId:a.app_id||"N/A",fullName:`${a.fname||""} ${a.mname||""} ${a.lname||""} ${a.suffix||""}`.trim(),dateOfBirth:a.dob?q(a.dob).format("YYYY-MM-DD"):"N/A",age:a.age||"N/A",gender:a.gender||"N/A",maritalStatus:a.marital||"N/A",religion:a.religion||"N/A",nationality:a.nationality||"N/A",email:a.email||"N/A",phone:a.phone||"N/A",currentAddress:a.caddress||"N/A",permanentAddress:a.paddress||"N/A",sss:a.sss||"N/A",tin:a.tin||"N/A",philhealth:a.philh||"N/A",pagibig:a.pagibig||"N/A",motherName:a.mmname||"N/A",fatherName:a.ffname||"N/A",emergencyContactName:a.ename||"N/A",emergencyContactAddress:a.eaddress||"N/A",emergencyContactPhone:a.ephone||"N/A",relationship:a.relationship||"N/A",position:m.position||"N/A",department:m.dept||"N/A",account:m.account||"N/A",site:a.site||"N/A",hiredDate:m.hired?q(m.hired).format("YYYY-MM-DD"):"N/A",status:m.status||"N/A",education:a.educ||"N/A",course:a.courset||"N/A"};n(g)}else d("Employee not found.")}else{const m=new URLSearchParams(window.location.search).get("data");if(m){const a=decodeURIComponent(m),g=JSON.parse(a);n(g)}else{const a=localStorage.getItem("scannedEmployeeData");a?(n(JSON.parse(a)),localStorage.removeItem("scannedEmployeeData")):d("No employee data found. Please scan a valid QR code or provide an employee ID.")}}}catch(p){console.error("Error fetching employee data:",p),p.response&&p.response.status===404?d("Employee not found. Please check the employee ID."):d("Failed to load employee data. Please try again.")}finally{t(!1)}})()},[u]);const h=()=>{window.history.back()};return r?o.jsx("div",{className:"flex justify-center items-center min-h-screen",children:o.jsx(ve,{size:"large"})}):l?o.jsx("div",{className:"container mx-auto p-6",children:o.jsx(Z,{message:"Error",description:l,type:"error",showIcon:!0,action:o.jsx(ee,{onClick:h,type:"primary",children:"Go Back"})})}):e?o.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(ee,{onClick:h,icon:o.jsx(ye,{}),className:"mb-4",children:"Back"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Employee Information"}),o.jsx("p",{className:"text-gray-600",children:"Scanned QR Code Data"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(B,{className:"text-center",children:[o.jsx(rt,{size:120,icon:o.jsx(_e,{}),className:"mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:e.fullName}),o.jsxs("p",{className:"text-gray-600 mb-1",children:["Employee ID: ",e.employeeId]}),o.jsxs("p",{className:"text-gray-600 mb-1",children:["Position: ",e.position]}),o.jsxs("p",{className:"text-gray-600",children:["Department: ",e.department]})]})}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(B,{title:"Personal Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Full Name",children:e.fullName}),o.jsx(i.Item,{label:"Application ID",children:e.applicationId}),o.jsx(i.Item,{label:"Date of Birth",children:e.dateOfBirth}),o.jsx(i.Item,{label:"Age",children:e.age}),o.jsx(i.Item,{label:"Gender",children:e.gender}),o.jsx(i.Item,{label:"Marital Status",children:e.maritalStatus}),o.jsx(i.Item,{label:"Religion",children:e.religion}),o.jsx(i.Item,{label:"Nationality",children:e.nationality})]})}),o.jsx(B,{title:"Contact Information",className:"shadow-sm",children:o.jsxs(i,{column:1,size:"small",children:[o.jsx(i.Item,{label:"Email",children:e.email}),o.jsx(i.Item,{label:"Phone",children:e.phone}),o.jsx(i.Item,{label:"Current Address",children:e.currentAddress}),o.jsx(i.Item,{label:"Permanent Address",children:e.permanentAddress})]})}),o.jsx(B,{title:"Government IDs",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"SSS",children:e.sss}),o.jsx(i.Item,{label:"TIN",children:e.tin}),o.jsx(i.Item,{label:"PhilHealth",children:e.philhealth}),o.jsx(i.Item,{label:"Pag-IBIG",children:e.pagibig})]})}),o.jsx(B,{title:"Work Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Employee ID",children:e.employeeId}),o.jsx(i.Item,{label:"Position",children:e.position}),o.jsx(i.Item,{label:"Department",children:e.department}),o.jsx(i.Item,{label:"Account",children:e.account}),o.jsx(i.Item,{label:"Site",children:e.site}),o.jsx(i.Item,{label:"Hired Date",children:e.hiredDate}),o.jsx(i.Item,{label:"Status",span:2,children:e.status})]})}),o.jsx(B,{title:"Family Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Mother's Name",children:e.motherName}),o.jsx(i.Item,{label:"Father's Name",children:e.fatherName})]})}),o.jsx(B,{title:"Emergency Contact",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Name",children:e.emergencyContactName}),o.jsx(i.Item,{label:"Phone",children:e.emergencyContactPhone}),o.jsx(i.Item,{label:"Relationship",children:e.relationship}),o.jsx(i.Item,{label:"Address",span:2,children:e.emergencyContactAddress})]})}),o.jsx(B,{title:"Education Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Education Level",children:e.education}),o.jsx(i.Item,{label:"Course/Field",children:e.course})]})})]})]})]}):o.jsx("div",{className:"container mx-auto p-6",children:o.jsx(Z,{message:"No Data",description:"No employee information available.",type:"warning",showIcon:!0})})}export{Ft as default};
