import{r as a,X as fe,j as o,h as ve}from"./app-6119f8fc.js";import{h as J}from"./moment-a9aaa855.js";import{S as xe}from"./index-8c9c9fa4.js";import{A as Z,C as k}from"./index-b0fcf54a.js";import{B as ee}from"./button-e1c852ee.js";import{A as ye}from"./ArrowLeftOutlined-9625ff63.js";import{c as B}from"./presets-7e3a9717.js";import{R as be}from"./index-78283a10.js";import{g as oe,m as ne,y as re,u as Ne,G as je,C as Q,a as Ce}from"./genStyleUtils-3ddec2d3.js";import{u as Se,r as Ie}from"./useBreakpoint-c4542e7d.js";import"./useZIndex-6366aaf8.js";import{u as se,K as Pe}from"./KeyCode-a913c7f8.js";import{u as Oe,t as Ae}from"./useSize-6de14c19.js";import{P as $e,c as ae}from"./Compact-2b035737.js";import{i as we,u as Ee,g as ze}from"./useId-b824f34f.js";import{g as De,b as ke,a as Be,P as Re,T as Te}from"./index-9520690e.js";import{D as i}from"./index-0b49e7dd.js";import{U as _e}from"./UserOutlined-8f5fb8fa.js";import"./CheckCircleFilled-a2ae10bd.js";import"./AntdIcon-d973cfe5.js";import"./typeof-7fd5df1e.js";import"./CloseCircleFilled-624828f7.js";import"./CloseOutlined-6db826ea.js";import"./InfoCircleFilled-cc2f42c3.js";import"./pickAttrs-4316d859.js";import"./createSuper-c7e84a61.js";import"./toPropertyKey-d8419463.js";import"./omit-644b1847.js";import"./Skeleton-fcdba104.js";import"./EllipsisOutlined-a67b6893.js";import"./PlusOutlined-0aa650ba.js";import"./Dropdown-f878ae59.js";import"./useVariants-490c18c0.js";import"./ContextIsolator-13bb524c.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./UnstableContext-f28a5f9f.js";import"./useForceUpdate-eee8e6be.js";const Me=a.createContext({}),K=Me,We=e=>{const{antCls:n,componentCls:r,iconCls:t,avatarBg:l,avatarColor:c,containerSize:f,containerSizeLG:u,containerSizeSM:h,textFontSize:v,textFontSizeLG:g,textFontSizeSM:m,borderRadius:d,borderRadiusLG:s,borderRadiusSM:y,lineWidth:b,lineType:I}=e,A=(p,S,E)=>({width:p,height:p,borderRadius:"50%",[`&${r}-square`]:{borderRadius:E},[`&${r}-icon`]:{fontSize:S,[`> ${t}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},re(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:c,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:l,border:`${Ne(b)} ${I} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),A(f,v,d)),{"&-lg":Object.assign({},A(u,g,s)),"&-sm":Object.assign({},A(h,m,y)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Le=e=>{const{componentCls:n,groupBorderColor:r,groupOverlapping:t,groupSpace:l}=e;return{[`${n}-group`]:{display:"inline-flex",[n]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:t}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:l}}}},Fe=e=>{const{controlHeight:n,controlHeightLG:r,controlHeightSM:t,fontSize:l,fontSizeLG:c,fontSizeXL:f,fontSizeHeading3:u,marginXS:h,marginXXS:v,colorBorderBg:g}=e;return{containerSize:n,containerSizeLG:r,containerSizeSM:t,textFontSize:Math.round((c+f)/2),textFontSizeLG:u,textFontSizeSM:l,groupSpace:v,groupOverlapping:-h,groupBorderColor:g}},le=oe("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:r}=e,t=ne(e,{avatarBg:r,avatarColor:n});return[We(t),Le(t)]},Fe);var Ge=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(r[t[l]]=e[t[l]]);return r};const He=(e,n)=>{const[r,t]=a.useState(1),[l,c]=a.useState(!1),[f,u]=a.useState(!0),h=a.useRef(null),v=a.useRef(null),g=je(n,h),{getPrefixCls:m,avatar:d}=a.useContext(Q),s=a.useContext(K),y=()=>{if(!v.current||!h.current)return;const N=v.current.offsetWidth,j=h.current.offsetWidth;if(N!==0&&j!==0){const{gap:D=4}=e;D*2<j&&t(j-D*2<N?(j-D*2)/N:1)}};a.useEffect(()=>{c(!0)},[]),a.useEffect(()=>{u(!0),t(1)},[e.src]),a.useEffect(y,[e.gap]);const b=()=>{const{onError:N}=e;(N==null?void 0:N())!==!1&&u(!1)},{prefixCls:I,shape:A,size:p,src:S,srcSet:E,icon:O,className:R,rootClassName:T,alt:Y,draggable:M,children:$,crossOrigin:z}=e,w=Ge(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),x=Oe(N=>{var j,D;return(D=(j=p??(s==null?void 0:s.size))!==null&&j!==void 0?j:N)!==null&&D!==void 0?D:"default"}),_=Object.keys(typeof x=="object"?x||{}:{}).some(N=>["xs","sm","md","lg","xl","xxl"].includes(N)),W=Se(_),L=a.useMemo(()=>{if(typeof x!="object")return{};const N=Ie.find(D=>W[D]),j=x[N];return j?{width:j,height:j,fontSize:j&&(O||$)?j/2:18}:{}},[W,x]),C=m("avatar",I),F=se(C),[U,X,P]=le(C,F),G=B({[`${C}-lg`]:x==="large",[`${C}-sm`]:x==="small"}),H=a.isValidElement(S),ue=A||(s==null?void 0:s.shape)||"circle",ge=B(C,G,d==null?void 0:d.className,`${C}-${ue}`,{[`${C}-image`]:H||S&&f,[`${C}-icon`]:!!O},P,F,R,T,X),he=typeof x=="number"?{width:x,height:x,fontSize:O?x/2:18}:{};let V;if(typeof S=="string"&&f)V=a.createElement("img",{src:S,draggable:M,srcSet:E,onError:b,alt:Y,crossOrigin:z});else if(H)V=S;else if(O)V=O;else if(l||r!==1){const N=`scale(${r})`,j={msTransform:N,WebkitTransform:N,transform:N};V=a.createElement(be,{onResize:y},a.createElement("span",{className:`${C}-string`,ref:v,style:Object.assign({},j)},$))}else V=a.createElement("span",{className:`${C}-string`,style:{opacity:0},ref:v},$);return delete w.onError,delete w.gap,U(a.createElement("span",Object.assign({},w,{style:Object.assign(Object.assign(Object.assign(Object.assign({},he),L),d==null?void 0:d.style),w.style),className:ge,ref:g}),V))},Ve=a.forwardRef(He),ie=Ve,q=e=>e?typeof e=="function"?e():e:null,Ye=e=>{const{componentCls:n,popoverColor:r,titleMinWidth:t,fontWeightStrong:l,innerPadding:c,boxShadowSecondary:f,colorTextHeading:u,borderRadiusLG:h,zIndexPopup:v,titleMarginBottom:g,colorBgElevated:m,popoverBg:d,titleBorderBottom:s,innerContentPadding:y,titlePadding:b}=e;return[{[n]:Object.assign(Object.assign({},re(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:v,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":m,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:h,boxShadow:f,padding:c},[`${n}-title`]:{minWidth:t,marginBottom:g,color:u,fontWeight:l,borderBottom:s,padding:b},[`${n}-inner-content`]:{color:r,padding:y}})},De(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Ue=e=>{const{componentCls:n}=e;return{[n]:$e.map(r=>{const t=e[`${r}6`];return{[`&${n}-${r}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},Xe=e=>{const{lineWidth:n,controlHeight:r,fontHeight:t,padding:l,wireframe:c,zIndexPopupBase:f,borderRadiusLG:u,marginXS:h,lineType:v,colorSplit:g,paddingSM:m}=e,d=r-t,s=d/2,y=d/2-n,b=l;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:f+30},ke(e)),Be({contentRadius:u,limitVerticalRadius:!0})),{innerPadding:c?0:12,titleMarginBottom:c?0:h,titlePadding:c?`${s}px ${b}px ${y}px`:0,titleBorderBottom:c?`${n}px ${v} ${g}`:"none",innerContentPadding:c?`${m}px ${b}px`:0})},ce=oe("Popover",e=>{const{colorBgElevated:n,colorText:r}=e,t=ne(e,{popoverBg:n,popoverColor:r});return[Ye(t),Ue(t),we(t,"zoom-big")]},Xe,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var qe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(r[t[l]]=e[t[l]]);return r};const de=e=>{let{title:n,content:r,prefixCls:t}=e;return!n&&!r?null:a.createElement(a.Fragment,null,n&&a.createElement("div",{className:`${t}-title`},n),r&&a.createElement("div",{className:`${t}-inner-content`},r))},Ke=e=>{const{hashId:n,prefixCls:r,className:t,style:l,placement:c="top",title:f,content:u,children:h}=e,v=q(f),g=q(u),m=B(n,r,`${r}-pure`,`${r}-placement-${c}`,t);return a.createElement("div",{className:m,style:l},a.createElement("div",{className:`${r}-arrow`}),a.createElement(Re,Object.assign({},e,{className:n,prefixCls:r}),h||a.createElement(de,{prefixCls:r,title:v,content:g})))},Qe=e=>{const{prefixCls:n,className:r}=e,t=qe(e,["prefixCls","className"]),{getPrefixCls:l}=a.useContext(Q),c=l("popover",n),[f,u,h]=ce(c);return f(a.createElement(Ke,Object.assign({},t,{prefixCls:c,hashId:u,className:B(r,h)})))},Je=Qe;var Ze=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(r[t[l]]=e[t[l]]);return r};const et=a.forwardRef((e,n)=>{var r,t;const{prefixCls:l,title:c,content:f,overlayClassName:u,placement:h="top",trigger:v="hover",children:g,mouseEnterDelay:m=.1,mouseLeaveDelay:d=.1,onOpenChange:s,overlayStyle:y={},styles:b,classNames:I}=e,A=Ze(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:p,className:S,style:E,classNames:O,styles:R}=Ce("popover"),T=p("popover",l),[Y,M,$]=ce(T),z=p(),w=B(u,M,$,S,O.root,I==null?void 0:I.root),x=B(O.body,I==null?void 0:I.body),[_,W]=Ee(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),L=(P,G)=>{W(P,!0),s==null||s(P,G)},C=P=>{P.keyCode===Pe.ESC&&L(!1,P)},F=P=>{L(P)},U=q(c),X=q(f);return Y(a.createElement(Te,Object.assign({placement:h,trigger:v,mouseEnterDelay:m,mouseLeaveDelay:d},A,{prefixCls:T,classNames:{root:w,body:x},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},R.root),E),y),b==null?void 0:b.root),body:Object.assign(Object.assign({},R.body),b==null?void 0:b.body)},ref:n,open:_,onOpenChange:F,overlay:U||X?a.createElement(de,{prefixCls:T,title:U,content:X}):null,transitionName:ze(z,"zoom-big",A.transitionName),"data-popover-inject":!0}),ae(g,{onKeyDown:P=>{var G,H;a.isValidElement(g)&&((H=g==null?void 0:(G=g.props).onKeyDown)===null||H===void 0||H.call(G,P)),C(P)}})))}),me=et;me._InternalPanelDoNotUseOrYouWillBeFired=Je;const tt=me,te=e=>{const{size:n,shape:r}=a.useContext(K),t=a.useMemo(()=>({size:e.size||n,shape:e.shape||r}),[e.size,e.shape,n,r]);return a.createElement(K.Provider,{value:t},e.children)},ot=e=>{var n,r,t,l;const{getPrefixCls:c,direction:f}=a.useContext(Q),{prefixCls:u,className:h,rootClassName:v,style:g,maxCount:m,maxStyle:d,size:s,shape:y,maxPopoverPlacement:b,maxPopoverTrigger:I,children:A,max:p}=e,S=c("avatar",u),E=`${S}-group`,O=se(S),[R,T,Y]=le(S,O),M=B(E,{[`${E}-rtl`]:f==="rtl"},Y,O,h,v,T),$=Ae(A).map((x,_)=>ae(x,{key:`avatar-key-${_}`})),z=(p==null?void 0:p.count)||m,w=$.length;if(z&&z<w){const x=$.slice(0,z),_=$.slice(z,w),W=(p==null?void 0:p.style)||d,L=((n=p==null?void 0:p.popover)===null||n===void 0?void 0:n.trigger)||I||"hover",C=((r=p==null?void 0:p.popover)===null||r===void 0?void 0:r.placement)||b||"top",F=Object.assign(Object.assign({content:_},p==null?void 0:p.popover),{classNames:{root:B(`${E}-popover`,(l=(t=p==null?void 0:p.popover)===null||t===void 0?void 0:t.classNames)===null||l===void 0?void 0:l.root)},placement:C,trigger:L});return x.push(a.createElement(tt,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},F),a.createElement(ie,{style:W},`+${w-z}`))),R(a.createElement(te,{shape:y,size:s},a.createElement("div",{className:M,style:g},x)))}return R(a.createElement(te,{shape:y,size:s},a.createElement("div",{className:M,style:g},$)))},nt=ot,pe=ie;pe.Group=nt;const rt=pe;function Gt(){const[e,n]=a.useState(null),[r,t]=a.useState(!0),[l,c]=a.useState(null),{props:f}=fe(),u=f.emp_id;a.useEffect(()=>{(async()=>{var g;try{if(u){console.log("Fetching employee data for ID:",u);const m=await ve.get(`/api/employee/${u}`);console.log("API Response:",m.data);const d=m.data.data;if(d&&d.applicant){const s=d.applicant,y={employeeId:d.emp_id||"N/A",applicationId:s.app_id||"N/A",fullName:`${s.fname||""} ${s.mname||""} ${s.lname||""} ${s.suffix||""}`.trim(),dateOfBirth:s.dob?J(s.dob).format("YYYY-MM-DD"):"N/A",age:s.age||"N/A",gender:s.gender||"N/A",maritalStatus:s.marital||"N/A",religion:s.religion||"N/A",nationality:s.nationality||"N/A",email:s.email||"N/A",phone:s.phone||"N/A",currentAddress:s.caddress||"N/A",permanentAddress:s.paddress||"N/A",sss:s.sss||"N/A",tin:s.tin||"N/A",philhealth:s.philh||"N/A",pagibig:s.pagibig||"N/A",motherName:s.mmname||"N/A",fatherName:s.ffname||"N/A",emergencyContactName:s.ename||"N/A",emergencyContactAddress:s.eaddress||"N/A",emergencyContactPhone:s.ephone||"N/A",relationship:s.relationship||"N/A",position:d.position||"N/A",department:d.dept||"N/A",account:d.account||"N/A",site:s.site||"N/A",hiredDate:d.hired?J(d.hired).format("YYYY-MM-DD"):"N/A",status:d.status||"N/A",education:s.educ||"N/A",course:s.courset||"N/A"};n(y)}else c("Employee not found.")}else{const d=new URLSearchParams(window.location.search).get("data");if(d){const s=decodeURIComponent(d),y=JSON.parse(s);n(y)}else{const s=localStorage.getItem("scannedEmployeeData");s?(n(JSON.parse(s)),localStorage.removeItem("scannedEmployeeData")):c("No employee data found. Please scan a valid QR code or provide an employee ID.")}}}catch(m){console.error("Error fetching employee data:",m),console.error("Error response:",m.response),console.error("Error request:",m.request),m.response?m.response.status===404?c(`Employee with ID "${u}" not found. Please check the employee ID.`):m.response.status===401?c("Authentication required. Please log in to view employee data."):m.response.status===403?c("Access denied. You do not have permission to view this employee data."):c(`Server error (${m.response.status}): ${((g=m.response.data)==null?void 0:g.message)||"Failed to load employee data"}`):m.request?c("Network error: Unable to connect to the server. Please check your internet connection."):c("Failed to load employee data. Please try again.")}finally{t(!1)}})()},[u]);const h=()=>{window.history.back()};return r?o.jsx("div",{className:"flex justify-center items-center min-h-screen",children:o.jsx(xe,{size:"large"})}):l?o.jsx("div",{className:"container mx-auto p-6",children:o.jsx(Z,{message:"Error",description:l,type:"error",showIcon:!0,action:o.jsx(ee,{onClick:h,type:"primary",children:"Go Back"})})}):e?o.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(ee,{onClick:h,icon:o.jsx(ye,{}),className:"mb-4",children:"Back"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Employee Information"}),o.jsx("p",{className:"text-gray-600",children:"Scanned QR Code Data"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(k,{className:"text-center",children:[o.jsx(rt,{size:120,icon:o.jsx(_e,{}),className:"mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:e.fullName}),o.jsxs("p",{className:"text-gray-600 mb-1",children:["Employee ID: ",e.employeeId]}),o.jsxs("p",{className:"text-gray-600 mb-1",children:["Position: ",e.position]}),o.jsxs("p",{className:"text-gray-600",children:["Department: ",e.department]})]})}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(k,{title:"Personal Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Full Name",children:e.fullName}),o.jsx(i.Item,{label:"Application ID",children:e.applicationId}),o.jsx(i.Item,{label:"Date of Birth",children:e.dateOfBirth}),o.jsx(i.Item,{label:"Age",children:e.age}),o.jsx(i.Item,{label:"Gender",children:e.gender}),o.jsx(i.Item,{label:"Marital Status",children:e.maritalStatus}),o.jsx(i.Item,{label:"Religion",children:e.religion}),o.jsx(i.Item,{label:"Nationality",children:e.nationality})]})}),o.jsx(k,{title:"Contact Information",className:"shadow-sm",children:o.jsxs(i,{column:1,size:"small",children:[o.jsx(i.Item,{label:"Email",children:e.email}),o.jsx(i.Item,{label:"Phone",children:e.phone}),o.jsx(i.Item,{label:"Current Address",children:e.currentAddress}),o.jsx(i.Item,{label:"Permanent Address",children:e.permanentAddress})]})}),o.jsx(k,{title:"Government IDs",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"SSS",children:e.sss}),o.jsx(i.Item,{label:"TIN",children:e.tin}),o.jsx(i.Item,{label:"PhilHealth",children:e.philhealth}),o.jsx(i.Item,{label:"Pag-IBIG",children:e.pagibig})]})}),o.jsx(k,{title:"Work Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Employee ID",children:e.employeeId}),o.jsx(i.Item,{label:"Position",children:e.position}),o.jsx(i.Item,{label:"Department",children:e.department}),o.jsx(i.Item,{label:"Account",children:e.account}),o.jsx(i.Item,{label:"Site",children:e.site}),o.jsx(i.Item,{label:"Hired Date",children:e.hiredDate}),o.jsx(i.Item,{label:"Status",span:2,children:e.status})]})}),o.jsx(k,{title:"Family Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Mother's Name",children:e.motherName}),o.jsx(i.Item,{label:"Father's Name",children:e.fatherName})]})}),o.jsx(k,{title:"Emergency Contact",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Name",children:e.emergencyContactName}),o.jsx(i.Item,{label:"Phone",children:e.emergencyContactPhone}),o.jsx(i.Item,{label:"Relationship",children:e.relationship}),o.jsx(i.Item,{label:"Address",span:2,children:e.emergencyContactAddress})]})}),o.jsx(k,{title:"Education Information",className:"shadow-sm",children:o.jsxs(i,{column:2,size:"small",children:[o.jsx(i.Item,{label:"Education Level",children:e.education}),o.jsx(i.Item,{label:"Course/Field",children:e.course})]})})]})]})]}):o.jsx("div",{className:"container mx-auto p-6",children:o.jsx(Z,{message:"No Data",description:"No employee information available.",type:"warning",showIcon:!0})})}export{Gt as default};
