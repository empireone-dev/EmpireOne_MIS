import{r as h,j as e,s as m}from"./store-a55f681c.js";import M from"./input-5c560fb4.js";import{u as d}from"./app-752b43d4.js";import E from"./update-employee-address-section-d265ee8c.js";import{b as T}from"./applicant-thunk-ec024b39.js";import{g as L}from"./final-rate-thunk-24c28fd3.js";import{g as P}from"./employee-section-thunk-fada38ca.js";import{m as _}from"./index-46ab96fe.js";import{L as H}from"./UnstableContext-f26e2a42.js";import"./barangay-94589600.js";import"./select-e449adbe.js";import"./index-adf33267.js";import"./warning-53117f39.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./shadow-0179b362.js";import"./index-e9047005.js";import"./useId-09de217a.js";import"./index-f0947d3e.js";import"./createSuper-f29e89b0.js";import"./genStyleUtils-ae124b60.js";import"./useSize-3e0c31bc.js";import"./Compact-b7ea577c.js";import"./ContextIsolator-6ea3fdcc.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./useZIndex-f0b939d2.js";import"./AntdIcon-d7012edb.js";import"./index-64018f48.js";import"./CheckCircleFilled-aa27478c.js";import"./CloseCircleFilled-c59cb59e.js";import"./InfoCircleFilled-de35a45c.js";import"./button-6864e422.js";import"./omit-644b1847.js";import"./CloseOutlined-adb2771a.js";import"./index-f1f69dd1.js";import"./KeyCode-2bfbb103.js";import"./pickAttrs-36913342.js";import"./index-b264c970.js";import"./fade-8f31d254.js";import"./useClosable-68ab5813.js";import"./Skeleton-c3806f73.js";import"./useLocale-cc159d11.js";import"./PurePanel-fd1e15ff.js";import"./applicant-record-service-47d7feef.js";import"./applicant-final-service-783dc1ef.js";import"./employee-service-fab2ebc4.js";function Me(){const{employee:n}=d(t=>t.employees),{applicant:s}=d(t=>t.final_rate),{job_positions:F}=d(t=>t.job_positions),{departments:S}=d(t=>t.departments),{accounts:D}=d(t=>t.accounts),{user:a}=d(t=>t.app),{users:I}=d(t=>t.app),[c,j]=h.useState(null),[l,i]=h.useState({}),b=window.location.pathname.split("/")[5],A=window.location.pathname.split("/")[6];h.useEffect(()=>{var t,r,u,x,g,f,v,N,w,y,C;i({app_id:s==null?void 0:s.app_id,id:s==null?void 0:s.id,emp_id:((t=s==null?void 0:s.employee)==null?void 0:t.emp_id)||"",fname:(s==null?void 0:s.fname)||"",mname:(s==null?void 0:s.mname)||"",lname:(s==null?void 0:s.lname)||"",suffix:(s==null?void 0:s.suffix)||"",gender:(s==null?void 0:s.gender)||"",dob:(s==null?void 0:s.dob)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",marital:(s==null?void 0:s.marital)||"",religion:(s==null?void 0:s.religion)||"",nationality:(s==null?void 0:s.nationality)||"",mmname:(s==null?void 0:s.mmname)||"",ffname:(s==null?void 0:s.ffname)||"",educ:(s==null?void 0:s.educ)||"",courset:(s==null?void 0:s.courset)||"",position:((u=(r=s==null?void 0:s.joboffer)==null?void 0:r.find(o=>o.status==="Hired"))==null?void 0:u.jobPos)||(n==null?void 0:n.position)||"",dept:((g=(x=s==null?void 0:s.joboffer)==null?void 0:x.find(o=>o.status==="Hired"))==null?void 0:g.department)||((f=n==null?void 0:n.dept)==null?void 0:f.dept)||"",account:((N=(v=s==null?void 0:s.joboffer)==null?void 0:v.find(o=>o.status==="Hired"))==null?void 0:N.account)||(n==null?void 0:n.account)||"",sup_id:((w=s==null?void 0:s.employee)==null?void 0:w.sup_id)||(n==null?void 0:n.sup_id)||"",hired:((y=s==null?void 0:s.employee)==null?void 0:y.hired)||(n==null?void 0:n.hired)||"",status:((C=s==null?void 0:s.employee)==null?void 0:C.status)||(n==null?void 0:n.status)||"",sss:(s==null?void 0:s.sss)||"",tin:(s==null?void 0:s.tin)||"",pagibig:(s==null?void 0:s.pagibig)||"",philh:(s==null?void 0:s.philh)||"",ename:(s==null?void 0:s.ename)||"",eaddress:(s==null?void 0:s.eaddress)||"",relationship:(s==null?void 0:s.relationship)||"",ephone:(s==null?void 0:s.ephone)||""})},[s,n]),console.log("emploeesss",s);async function p(t){t.preventDefault(),j(!0);try{await m.dispatch(T({...l,employee_id:A,fname:l.fname,mname:l.mname,lname:l.lname,suffix:l.suffix})),await m.dispatch(L(b)),await m.dispatch(P(b)),_.success("Updated Successfully")}catch(r){_.error(r.message||"Error updating changes")}finally{j(!1)}}return console.log("applicant",s),e.jsxs("div",{children:[e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"Personal Information"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:p,children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  text-center"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employee No."})}),e.jsx("input",{type:"text",onChange:t=>i({...l,emp_id:t.target.value}),value:(l==null?void 0:l.emp_id)??""})]})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsxs("div",{className:"flex flex-col w-full mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name"})}),e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx("input",{type:"text",onChange:t=>i({...l,fname:t.target.value}),value:l==null?void 0:l.fname,name:"fname",className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:t=>i({...l,mname:t.target.value}),value:l==null?void 0:l.mname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:t=>i({...l,lname:t.target.value}),value:l==null?void 0:l.lname,className:"border p-2 rounded w-full"}),e.jsxs("select",{value:(l==null?void 0:l.suffix)??"",onChange:t=>i({...l,suffix:t.target.value}),className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.suffix}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Gender"})}),e.jsxs("select",{value:(l==null?void 0:l.gender)??"",onChange:t=>i({...l,gender:t.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.gender}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date of Birth"})}),e.jsx("input",{type:"date",value:(l==null?void 0:l.dob)??"",onChange:t=>i({...l,dob:t.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Email"})}),e.jsx("input",{type:"email",value:(l==null?void 0:l.email)??"",onChange:t=>i({...l,email:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Phone Number"})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.phone)??"",onChange:t=>i({...l,phone:t.target.value}),className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Marital Status"})}),e.jsxs("select",{value:(l==null?void 0:l.marital)??"",onChange:t=>i({...l,marital:t.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.marital}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Religion"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.religion)??"",onChange:t=>i({...l,religion:t.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Nationality"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.nationality)??"",onChange:t=>i({...l,nationality:t.target.value}),className:"border p-2 rounded w-full"})]})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Mother's Maiden Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.mmname)??"",onChange:t=>i({...l,mmname:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Father's Full Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ffname)??"",onChange:t=>i({...l,ffname:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Highest Educational Attainment"})}),e.jsxs("select",{value:(l==null?void 0:l.educ)??"",onChange:t=>i({...l,educ:t.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.educ}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Course Taken (Only if Applicable)"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.courset)??"",onChange:t=>i({...l,courset:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Job Position"})}),e.jsxs("select",{value:(l==null?void 0:l.position)??"",onChange:t=>i({...l,position:t.target.value}),name:"position",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Job Position"}),F.filter(t=>(a==null?void 0:a.role_id)===1||(a==null?void 0:a.role_id)===2||t.site===(a==null?void 0:a.site)).map((t,r)=>e.jsx("option",{value:t.jPosition,children:t.jPosition},r))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department"})}),e.jsxs("select",{value:(l==null?void 0:l.dept)??"",onChange:t=>i({...l,dept:t.target.value}),name:"dept",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Department"}),S.filter(t=>(a==null?void 0:a.role_id)===1||(a==null?void 0:a.role_id)===2||t.site===(a==null?void 0:a.site)).map((t,r)=>e.jsx("option",{value:t.dept,children:t.dept},r))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account (If Applicable)"})}),e.jsxs("select",{value:(l==null?void 0:l.account)??"",onChange:t=>i({...l,account:t.target.value}),name:"account",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Account (If Applicable)"}),e.jsx("option",{value:"",children:"--"}),D.map((t,r)=>e.jsx("option",{value:t.acc,children:t.acc},r))]})]})]})})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Supervisor"})}),e.jsxs("select",{value:(l==null?void 0:l.sup_id)??"",onChange:t=>i({...l,sup_id:t.target.value}),name:"sup_id",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Supervisor"}),I.filter(t=>(!(a!=null&&a.site)||t.site===a.site||!t.site)&&["Manager","Account Manager","Supervisor","Team Leader","Director","CEO","HR Lead","Accounting Head","TQA Manager","TQA Director","IT Manager","I.T Manager","IT Lead","I.T Lead","Compliance Officer","Site Admin","Talent Acquisition Manager","HR Director","Director of Operations","Operations Manager","Site Director","Site Manager","Director, Learning Leadership & Development","Director, Accounting & Finance","Director, Marketing & Communications","Director, Quality & Training"].includes(t.position)).sort((t,r)=>{const u=`${t.employee_fname} ${t.employee_lname}`.toLowerCase(),x=`${r.employee_fname} ${r.employee_lname}`.toLowerCase();return u.localeCompare(x)}).map(t=>e.jsxs("option",{value:t.id,children:[t.employee_fname," ",t.employee_lname]},t.id))]})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{})}),e.jsx(M,{value:(l==null?void 0:l.hired)??"",onChange:t=>i({...l,hired:t.target.value}),name:"hired",label:"Hired Date",type:"date"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Status"})}),e.jsxs("select",{value:(l==null?void 0:l.status)??"",onChange:t=>i({...l,status:t.target.value}),name:"status",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:n==null?void 0:n.status}),e.jsx("option",{children:" Probationary"}),e.jsx("option",{children:" Regular"}),e.jsx("option",{children:" Contractual"}),e.jsx("option",{children:" Trainee"}),e.jsx("option",{children:" Fallout"}),e.jsx("option",{children:" Fixed Term"})]})]})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsx("div",{className:"flex flex-1 gap-1 mb-4 w-full",children:e.jsx("div",{className:"flex flex-col w-full",children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:s==null?void 0:s.caddress,className:"border p-2 rounded w-full",readOnly:!0}),e.jsx(E,{})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"SSS No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.sss)??"",onChange:t=>i({...l,sss:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Pag-IBIG No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.pagibig)??"",onChange:t=>i({...l,pagibig:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Tin No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.tin)??"",onChange:t=>i({...l,tin:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Philhealth No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.philh)??"",onChange:t=>i({...l,philh:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Emergency Contact Information"}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Emergency Contact Fullname"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ename)??"",onChange:t=>i({...l,ename:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Address"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.eaddress)??"",onChange:t=>i({...l,eaddress:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Relationship"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.relationship)??"",onChange:t=>i({...l,relationship:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Contact No."})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.ephone)??"",onChange:t=>i({...l,ephone:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex gap-2 justify-end items-center mt-6",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg ${c?"cursor-not-allowed opacity-75":""}`,onClick:p,disabled:c,children:[c?e.jsx(H,{spin:!0}):e.jsx(e.Fragment,{}),c?" UPDATING...":"  Save Changes"]})})]})]})}export{Me as default};
