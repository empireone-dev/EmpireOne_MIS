import{r as s,u as tn,j as n}from"./store-9c50da1b.js";import{c as nn,a as ct,C as He,R as Ge,P as sn,d as rn,s as jt,e as on}from"./open-ai-service-feafc66f.js";import{C as Le}from"./index-896f8d3c.js";import{a as Ne,d as an,b as Ve,F as ln,i as cn}from"./warning-8a11f3af.js";import{A as ze}from"./AntdIcon-936c2873.js";import{W as dn,B as he}from"./button-9ea3955a.js";import{A as Ee}from"./index-ca9b0a33.js";import{S as dt}from"./index-5e42011a.js";import{L as At}from"./UnstableContext-1babe129.js";import{_ as Et}from"./defineProperty-83f36300.js";import{_ as un}from"./shadow-371a5539.js";import{u as tt}from"./useId-f473e58b.js";import{K as nt}from"./KeyCode-548a7212.js";import{D as mn,u as pn}from"./index-cae7d5bd.js";import{u as gn,t as Vt}from"./useSize-0508f9de.js";import{g as zt,m as fn,u as xe,r as hn,j as yn,C as Dt,N as _t,c as vn,d as qt,a as Ae,_ as bn}from"./genStyleUtils-00917081.js";import{A as Fe}from"./index-d857fc5e.js";import{T as xn,I as wn}from"./index-5f18ec04.js";import{E as Sn}from"./EditOutlined-44724981.js";import{R as Cn}from"./index-4b3113d3.js";import{o as Ht}from"./omit-644b1847.js";import{i as Nt}from"./styleChecker-e74b8545.js";import{u as jn}from"./useLocale-4b2addb1.js";import{T as yt}from"./index-667ddc64.js";import{c as En}from"./Compact-bc97c7c9.js";import{C as Nn}from"./CheckOutlined-f2177a54.js";import{C as In}from"./CopyOutlined-a7df096a.js";import{U as kn}from"./UserOutlined-1a65c324.js";import{S as Tn}from"./SendOutlined-e196b944.js";import"./index-bd5286d6.js";import"./responsiveObserver-b31c8f0b.js";import"./Skeleton-ec25cf14.js";import"./index-0564894f.js";import"./CloseOutlined-4e952bfd.js";import"./index-a34211cb.js";import"./app-95876617.js";import"./createSuper-f29e89b0.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./PlusOutlined-4a5ed35b.js";import"./Dropdown-e9eddb98.js";import"./useVariants-102cd228.js";import"./ContextIsolator-64100e2b.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-0bc9ae28.js";import"./CloseCircleFilled-8016b598.js";import"./InfoCircleFilled-754e7ccb.js";import"./pickAttrs-120b0d1f.js";import"./useBreakpoint-f3738828.js";import"./useForceUpdate-1fd08af1.js";import"./Input-cf4bbc2e.js";import"./EyeOutlined-8119b4ba.js";import"./useZIndex-485d43a8.js";var $n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92a95.8 95.8 0 01-52-15l-54 55c29.1 22.4 65.9 36 106 36 93.8 0 170-75.1 170-168z"}},{tag:"path",attrs:{d:"M833 446h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254-63 0-120.7-23-165-61l-54 54a334.01 334.01 0 00179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328 0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9a8 8 0 00-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68A252.33 252.33 0 01258 454c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8 0 53 12.5 103 34.6 147.4l-137 137a8.03 8.03 0 000 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92 46 0 84.1 32.3 92.3 74.7L417 401z"}}]},name:"audio-muted",theme:"outlined"};const On=$n;var Rn=function(t,o){return s.createElement(ze,Ne({},t,{ref:o,icon:On}))},Mn=s.forwardRef(Rn);const Je=Mn;var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"};const Ln=Pn;var An=function(t,o){return s.createElement(ze,Ne({},t,{ref:o,icon:Ln}))},Vn=s.forwardRef(An);const It=Vn;var zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const Dn=zn;var _n=function(t,o){return s.createElement(ze,Ne({},t,{ref:o,icon:Dn}))},qn=s.forwardRef(_n);const Hn=qn;var Fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"};const Un=Fn;var Bn=function(t,o){return s.createElement(ze,Ne({},t,{ref:o,icon:Un}))},Wn=s.forwardRef(Bn);const kt=Wn;var Kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M368 724H252V608c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v116H72c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h116v116c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V788h116c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v352h72V232h576v560H448v72h272c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM888 625l-104-59.8V458.9L888 399v226z"}},{tag:"path",attrs:{d:"M320 360c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112z"}}]},name:"video-camera-add",theme:"outlined"};const Qn=Kn;var Yn=function(t,o){return s.createElement(ze,Ne({},t,{ref:o,icon:Qn}))},Xn=s.forwardRef(Yn);const Tt=Xn;var Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"};const Jn=Gn;var Zn=function(t,o){return s.createElement(ze,Ne({},t,{ref:o,icon:Jn}))},es=s.forwardRef(Zn);const $t=es;function ts(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}var ns=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Ft=s.forwardRef(function(e,t){var o,r=e.prefixCls,l=r===void 0?"rc-switch":r,m=e.className,g=e.checked,u=e.defaultChecked,d=e.disabled,p=e.loadingIcon,h=e.checkedChildren,x=e.unCheckedChildren,w=e.onClick,k=e.onChange,A=e.onKeyDown,V=un(e,ns),F=tt(!1,{value:g,defaultValue:u}),C=an(F,2),q=C[0],H=C[1];function j(M,J){var $=q;return d||($=M,H($),k==null||k($,J)),$}function z(M){M.which===nt.LEFT?j(!1,M):M.which===nt.RIGHT&&j(!0,M),A==null||A(M)}function O(M){var J=j(!q,M);w==null||w(J,M)}var T=Ve(l,m,(o={},Et(o,"".concat(l,"-checked"),q),Et(o,"".concat(l,"-disabled"),d),o));return s.createElement("button",Ne({},V,{type:"button",role:"switch","aria-checked":q,disabled:d,className:T,ref:t,onKeyDown:z,onClick:O}),p,s.createElement("span",{className:"".concat(l,"-inner")},s.createElement("span",{className:"".concat(l,"-inner-checked")},h),s.createElement("span",{className:"".concat(l,"-inner-unchecked")},x)))});Ft.displayName="Switch";const ss=e=>{const{componentCls:t,trackHeightSM:o,trackPadding:r,trackMinWidthSM:l,innerMinMarginSM:m,innerMaxMarginSM:g,handleSizeSM:u,calc:d}=e,p=`${t}-inner`,h=xe(d(u).add(d(r).mul(2)).equal()),x=xe(d(g).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:l,height:o,lineHeight:xe(o),[`${t}-inner`]:{paddingInlineStart:g,paddingInlineEnd:m,[`${p}-checked, ${p}-unchecked`]:{minHeight:o},[`${p}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${x})`,marginInlineEnd:`calc(100% - ${h} + ${x})`},[`${p}-unchecked`]:{marginTop:d(o).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:u,height:u},[`${t}-loading-icon`]:{top:d(d(u).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:m,paddingInlineEnd:g,[`${p}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${p}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${x})`,marginInlineEnd:`calc(-100% + ${h} - ${x})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${xe(d(u).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${p}`]:{[`${p}-unchecked`]:{marginInlineStart:d(e.marginXXS).div(2).equal(),marginInlineEnd:d(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${p}`]:{[`${p}-checked`]:{marginInlineStart:d(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:d(e.marginXXS).div(2).equal()}}}}}}},rs=e=>{const{componentCls:t,handleSize:o,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(o).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},os=e=>{const{componentCls:t,trackPadding:o,handleBg:r,handleShadow:l,handleSize:m,calc:g}=e,u=`${t}-handle`;return{[t]:{[u]:{position:"absolute",top:o,insetInlineStart:o,width:m,height:m,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:g(m).div(2).equal(),boxShadow:l,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${u}`]:{insetInlineStart:`calc(100% - ${xe(g(m).add(o).equal())})`},[`&:not(${t}-disabled):active`]:{[`${u}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${u}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},as=e=>{const{componentCls:t,trackHeight:o,trackPadding:r,innerMinMargin:l,innerMaxMargin:m,handleSize:g,calc:u}=e,d=`${t}-inner`,p=xe(u(g).add(u(r).mul(2)).equal()),h=xe(u(m).mul(2).equal());return{[t]:{[d]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:m,paddingInlineEnd:l,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${d}-checked, ${d}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:o},[`${d}-checked`]:{marginInlineStart:`calc(-100% + ${p} - ${h})`,marginInlineEnd:`calc(100% - ${p} + ${h})`},[`${d}-unchecked`]:{marginTop:u(o).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${d}`]:{paddingInlineStart:l,paddingInlineEnd:m,[`${d}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${d}-unchecked`]:{marginInlineStart:`calc(100% - ${p} + ${h})`,marginInlineEnd:`calc(-100% + ${p} - ${h})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${d}`]:{[`${d}-unchecked`]:{marginInlineStart:u(r).mul(2).equal(),marginInlineEnd:u(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${d}`]:{[`${d}-checked`]:{marginInlineStart:u(r).mul(-1).mul(2).equal(),marginInlineEnd:u(r).mul(2).equal()}}}}}},is=e=>{const{componentCls:t,trackHeight:o,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},hn(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:o,lineHeight:xe(o),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),yn(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},ls=e=>{const{fontSize:t,lineHeight:o,controlHeight:r,colorWhite:l}=e,m=t*o,g=r/2,u=2,d=m-u*2,p=g-u*2;return{trackHeight:m,trackHeightSM:g,trackMinWidth:d*2+u*4,trackMinWidthSM:p*2+u*2,trackPadding:u,handleBg:l,handleSize:d,handleSizeSM:p,handleShadow:`0 2px 4px 0 ${new ln("#00230b").setA(.2).toRgbString()}`,innerMinMargin:d/2,innerMaxMargin:d+u+u*2,innerMinMarginSM:p/2,innerMaxMarginSM:p+u+u*2}},cs=zt("Switch",e=>{const t=fn(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[is(t),as(t),os(t),rs(t),ss(t)]},ls);var ds=globalThis&&globalThis.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};const us=s.forwardRef((e,t)=>{const{prefixCls:o,size:r,disabled:l,loading:m,className:g,rootClassName:u,style:d,checked:p,value:h,defaultChecked:x,defaultValue:w,onChange:k}=e,A=ds(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[V,F]=tt(!1,{value:p??h,defaultValue:x??w}),{getPrefixCls:C,direction:q,switch:H}=s.useContext(Dt),j=s.useContext(mn),z=(l??j)||m,O=C("switch",o),T=s.createElement("div",{className:`${O}-handle`},m&&s.createElement(At,{className:`${O}-loading-icon`})),[M,J,$]=cs(O),le=gn(r),U=Ve(H==null?void 0:H.className,{[`${O}-small`]:le==="small",[`${O}-loading`]:m,[`${O}-rtl`]:q==="rtl"},g,u,J,$),Z=Object.assign(Object.assign({},H==null?void 0:H.style),d),I=function(){F(arguments.length<=0?void 0:arguments[0]),k==null||k.apply(void 0,arguments)};return M(s.createElement(dn,{component:"Switch"},s.createElement(Ft,Object.assign({},A,{checked:V,onChange:I,prefixCls:O,className:U,style:Z,disabled:z,ref:t,loadingIcon:T}))))}),Ut=us;Ut.__ANT_SWITCH=!0;const Ot=Ut,ms=(e,t,o,r)=>{const{titleMarginBottom:l,fontWeightStrong:m}=r;return{marginBottom:l,color:o,fontWeight:m,fontSize:e,lineHeight:t}},ps=e=>{const t=[1,2,3,4,5],o={};return t.forEach(r=>{o[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=ms(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),o},gs=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},_t(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},fs=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:cn[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),hs=e=>{const{componentCls:t,paddingSM:o}=e,r=o;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${xe(r)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},ys=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),vs=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),bs=e=>{const{componentCls:t,titleMarginTop:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},ps(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:o},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:o}}}),fs(e)),gs(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},_t(e)),{marginInlineStart:e.marginXXS})}),hs(e)),ys(e)),vs()),{"&-rtl":{direction:"rtl"}})}},xs=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),Bt=zt("Typography",e=>[bs(e)],xs),ws=e=>{const{prefixCls:t,"aria-label":o,className:r,style:l,direction:m,maxLength:g,autoSize:u=!0,value:d,onSave:p,onCancel:h,onEnd:x,component:w,enterIcon:k=s.createElement(Hn,null)}=e,A=s.useRef(null),V=s.useRef(!1),F=s.useRef(null),[C,q]=s.useState(d);s.useEffect(()=>{q(d)},[d]),s.useEffect(()=>{var I;if(!((I=A.current)===null||I===void 0)&&I.resizableTextArea){const{textArea:E}=A.current.resizableTextArea;E.focus();const{length:D}=E.value;E.setSelectionRange(D,D)}},[]);const H=I=>{let{target:E}=I;q(E.value.replace(/[\n\r]/g,""))},j=()=>{V.current=!0},z=()=>{V.current=!1},O=I=>{let{keyCode:E}=I;V.current||(F.current=E)},T=()=>{p(C.trim())},M=I=>{let{keyCode:E,ctrlKey:D,altKey:pe,metaKey:B,shiftKey:re}=I;F.current!==E||V.current||D||pe||B||re||(E===nt.ENTER?(T(),x==null||x()):E===nt.ESC&&h())},J=()=>{T()},[$,le,U]=Bt(t),Z=Ve(t,`${t}-edit-content`,{[`${t}-rtl`]:m==="rtl",[`${t}-${w}`]:!!w},r,le,U);return $(s.createElement("div",{className:Z,style:l},s.createElement(xn,{ref:A,maxLength:g,value:C,onChange:H,onKeyDown:O,onKeyUp:M,onCompositionStart:j,onCompositionEnd:z,onBlur:J,"aria-label":o,rows:1,autoSize:u}),k!==null?En(k,{className:`${t}-edit-content-confirm`}):null))},Ss=ws;var Cs=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],r=0;r<e.rangeCount;r++)o.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||o.forEach(function(l){e.addRange(l)}),t&&t.focus()}},js=Cs,Rt={"text/plain":"Text","text/html":"Url",default:"Text"},Es="Copy to clipboard: #{key}, Enter";function Ns(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Is(e,t){var o,r,l,m,g,u,d=!1;t||(t={}),o=t.debug||!1;try{l=js(),m=document.createRange(),g=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(h){if(h.stopPropagation(),t.format)if(h.preventDefault(),typeof h.clipboardData>"u"){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var x=Rt[t.format]||Rt.default;window.clipboardData.setData(x,e)}else h.clipboardData.clearData(),h.clipboardData.setData(t.format,e);t.onCopy&&(h.preventDefault(),t.onCopy(h.clipboardData))}),document.body.appendChild(u),m.selectNodeContents(u),g.addRange(m);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");d=!0}catch(h){o&&console.error("unable to copy using execCommand: ",h),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(x){o&&console.error("unable to copy using clipboardData: ",x),o&&console.error("falling back to prompt"),r=Ns("message"in t?t.message:Es),window.prompt(r,e)}}finally{g&&(typeof g.removeRange=="function"?g.removeRange(m):g.removeAllRanges()),u&&document.body.removeChild(u),l()}return d}var ks=Is;const Ts=tn(ks);var $s=globalThis&&globalThis.__awaiter||function(e,t,o,r){function l(m){return m instanceof o?m:new o(function(g){g(m)})}return new(o||(o=Promise))(function(m,g){function u(h){try{p(r.next(h))}catch(x){g(x)}}function d(h){try{p(r.throw(h))}catch(x){g(x)}}function p(h){h.done?m(h.value):l(h.value).then(u,d)}p((r=r.apply(e,t||[])).next())})};const Os=e=>{let{copyConfig:t,children:o}=e;const[r,l]=s.useState(!1),[m,g]=s.useState(!1),u=s.useRef(null),d=()=>{u.current&&clearTimeout(u.current)},p={};t.format&&(p.format=t.format),s.useEffect(()=>d,[]);const h=pn(x=>$s(void 0,void 0,void 0,function*(){var w;x==null||x.preventDefault(),x==null||x.stopPropagation(),g(!0);try{const k=typeof t.text=="function"?yield t.text():t.text;Ts(k||ts(o,!0).join("")||"",p),g(!1),l(!0),d(),u.current=setTimeout(()=>{l(!1)},3e3),(w=t.onCopy)===null||w===void 0||w.call(t,x)}catch(k){throw g(!1),k}}));return{copied:r,copyLoading:m,onClick:h}},Rs=Os;function ut(e,t){return s.useMemo(()=>{const o=!!e;return[o,Object.assign(Object.assign({},t),o&&typeof e=="object"?e:null)]},[e])}const Ms=e=>{const t=s.useRef(void 0);return s.useEffect(()=>{t.current=e}),t.current},Ps=Ms,Ls=(e,t,o)=>s.useMemo(()=>e===!0?{title:t??o}:s.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??o},e):{title:e},[e,t,o]),As=Ls;var Vs=globalThis&&globalThis.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};const zs=s.forwardRef((e,t)=>{const{prefixCls:o,component:r="article",className:l,rootClassName:m,setContentRef:g,children:u,direction:d,style:p}=e,h=Vs(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:x,direction:w,className:k,style:A}=vn("typography"),V=d??w,F=g?qt(t,g):t,C=x("typography",o),[q,H,j]=Bt(C),z=Ve(C,k,{[`${C}-rtl`]:V==="rtl"},l,m,H,j),O=Object.assign(Object.assign({},A),p);return q(s.createElement(r,Object.assign({className:z,style:O,ref:F},h),u))}),Wt=zs;function Mt(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function mt(e,t,o){return e===!0||e===void 0?t:e||o&&t}function Ds(e){const t=document.createElement("em");e.appendChild(t);const o=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),o.left>r.left||r.right>o.right||o.top>r.top||r.bottom>o.bottom}const vt=e=>["string","number"].includes(typeof e),_s=e=>{let{prefixCls:t,copied:o,locale:r,iconOnly:l,tooltips:m,icon:g,tabIndex:u,onCopy:d,loading:p}=e;const h=Mt(m),x=Mt(g),{copied:w,copy:k}=r??{},A=o?w:k,V=mt(h[o?1:0],A),F=typeof V=="string"?V:A;return s.createElement(yt,{title:V},s.createElement("button",{type:"button",className:Ve(`${t}-copy`,{[`${t}-copy-success`]:o,[`${t}-copy-icon-only`]:l}),onClick:d,"aria-label":F,tabIndex:u},o?mt(x[1],s.createElement(Nn,null),!0):mt(x[0],p?s.createElement(At,null):s.createElement(In,null),!0)))},qs=_s,Ze=s.forwardRef((e,t)=>{let{style:o,children:r}=e;const l=s.useRef(null);return s.useImperativeHandle(t,()=>({isExceed:()=>{const m=l.current;return m.scrollHeight>m.clientHeight},getHeight:()=>l.current.clientHeight})),s.createElement("span",{"aria-hidden":!0,ref:l,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},o)},r)}),Hs=e=>e.reduce((t,o)=>t+(vt(o)?String(o).length:1),0);function Pt(e,t){let o=0;const r=[];for(let l=0;l<e.length;l+=1){if(o===t)return r;const m=e[l],u=vt(m)?String(m).length:1,d=o+u;if(d>t){const p=t-o;return r.push(String(m).slice(0,p)),r}r.push(m),o=d}return e}const pt=0,gt=1,ft=2,ht=3,Lt=4,et={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function Fs(e){const{enableMeasure:t,width:o,text:r,children:l,rows:m,expanded:g,miscDeps:u,onEllipsis:d}=e,p=s.useMemo(()=>Vt(r),[r]),h=s.useMemo(()=>Hs(p),[r]),x=s.useMemo(()=>l(p,!1),[r]),[w,k]=s.useState(null),A=s.useRef(null),V=s.useRef(null),F=s.useRef(null),C=s.useRef(null),q=s.useRef(null),[H,j]=s.useState(!1),[z,O]=s.useState(pt),[T,M]=s.useState(0),[J,$]=s.useState(null);Ae(()=>{O(t&&o&&h?gt:pt)},[o,r,m,t,p]),Ae(()=>{var I,E,D,pe;if(z===gt){O(ft);const B=V.current&&getComputedStyle(V.current).whiteSpace;$(B)}else if(z===ft){const B=!!(!((I=F.current)===null||I===void 0)&&I.isExceed());O(B?ht:Lt),k(B?[0,h]:null),j(B);const re=((E=F.current)===null||E===void 0?void 0:E.getHeight())||0,Ie=m===1?0:((D=C.current)===null||D===void 0?void 0:D.getHeight())||0,we=((pe=q.current)===null||pe===void 0?void 0:pe.getHeight())||0,Q=Math.max(re,Ie+we);M(Q+1),d(B)}},[z]);const le=w?Math.ceil((w[0]+w[1])/2):0;Ae(()=>{var I;const[E,D]=w||[0,0];if(E!==D){const B=(((I=A.current)===null||I===void 0?void 0:I.getHeight())||0)>T;let re=le;D-E===1&&(re=B?E:D),k(B?[E,re]:[re,D])}},[w,le]);const U=s.useMemo(()=>{if(!t)return l(p,!1);if(z!==ht||!w||w[0]!==w[1]){const I=l(p,!1);return[Lt,pt].includes(z)?I:s.createElement("span",{style:Object.assign(Object.assign({},et),{WebkitLineClamp:m})},I)}return l(g?p:Pt(p,w[0]),H)},[g,z,w,p].concat(bn(u))),Z={width:o,margin:0,padding:0,whiteSpace:J==="nowrap"?"normal":"inherit"};return s.createElement(s.Fragment,null,U,z===ft&&s.createElement(s.Fragment,null,s.createElement(Ze,{style:Object.assign(Object.assign(Object.assign({},Z),et),{WebkitLineClamp:m}),ref:F},x),s.createElement(Ze,{style:Object.assign(Object.assign(Object.assign({},Z),et),{WebkitLineClamp:m-1}),ref:C},x),s.createElement(Ze,{style:Object.assign(Object.assign(Object.assign({},Z),et),{WebkitLineClamp:1}),ref:q},l([],!0))),z===ht&&w&&w[0]!==w[1]&&s.createElement(Ze,{style:Object.assign(Object.assign({},Z),{top:400}),ref:A},l(Pt(p,le),!0)),z===gt&&s.createElement("span",{style:{whiteSpace:"inherit"},ref:V}))}const Us=e=>{let{enableEllipsis:t,isEllipsis:o,children:r,tooltipProps:l}=e;return!(l!=null&&l.title)||!t?r:s.createElement(yt,Object.assign({open:o?void 0:!1},l),r)},Bs=Us;var Ws=globalThis&&globalThis.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};function Ks(e,t){let{mark:o,code:r,underline:l,delete:m,strong:g,keyboard:u,italic:d}=e,p=t;function h(x,w){w&&(p=s.createElement(x,{},p))}return h("strong",g),h("u",l),h("del",m),h("code",r),h("mark",o),h("kbd",u),h("i",d),p}const Qs="...",Ys=s.forwardRef((e,t)=>{var o;const{prefixCls:r,className:l,style:m,type:g,disabled:u,children:d,ellipsis:p,editable:h,copyable:x,component:w,title:k}=e,A=Ws(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:V,direction:F}=s.useContext(Dt),[C]=jn("Text"),q=s.useRef(null),H=s.useRef(null),j=V("typography",r),z=Ht(A,["mark","code","delete","underline","strong","keyboard","italic"]),[O,T]=ut(h),[M,J]=tt(!1,{value:T.editing}),{triggerType:$=["icon"]}=T,le=b=>{var S;b&&((S=T.onStart)===null||S===void 0||S.call(T)),J(b)},U=Ps(M);Ae(()=>{var b;!M&&U&&((b=H.current)===null||b===void 0||b.focus())},[M]);const Z=b=>{b==null||b.preventDefault(),le(!0)},I=b=>{var S;(S=T.onChange)===null||S===void 0||S.call(T,b),le(!1)},E=()=>{var b;(b=T.onCancel)===null||b===void 0||b.call(T),le(!1)},[D,pe]=ut(x),{copied:B,copyLoading:re,onClick:Ie}=Rs({copyConfig:pe,children:d}),[we,Q]=s.useState(!1),[ke,P]=s.useState(!1),[Te,$e]=s.useState(!1),[_,Oe]=s.useState(!1),[We,oe]=s.useState(!0),[ue,L]=ut(p,{expandable:!1,symbol:b=>b?C==null?void 0:C.collapse:C==null?void 0:C.expand}),[ee,Se]=tt(L.defaultExpanded||!1,{value:L.expanded}),W=ue&&(!ee||L.expandable==="collapsible"),{rows:me=1}=L,ye=s.useMemo(()=>W&&(L.suffix!==void 0||L.onEllipsis||L.expandable||O||D),[W,L,O,D]);Ae(()=>{ue&&!ye&&(Q(Nt("webkitLineClamp")),P(Nt("textOverflow")))},[ye,ue]);const[Y,De]=s.useState(W),rt=s.useMemo(()=>ye?!1:me===1?ke:we,[ye,ke,we]);Ae(()=>{De(rt&&W)},[rt,W]);const Ke=W&&(Y?_:Te),Qe=W&&me===1&&Y,K=W&&me>1&&Y,ot=(b,S)=>{var ie;Se(S.expanded),(ie=L.onExpand)===null||ie===void 0||ie.call(L,b,S)},[_e,ae]=s.useState(0),ve=b=>{let{offsetWidth:S}=b;ae(S)},N=b=>{var S;$e(b),Te!==b&&((S=L.onEllipsis)===null||S===void 0||S.call(L,b))};s.useEffect(()=>{const b=q.current;if(ue&&Y&&b){const S=Ds(b);_!==S&&Oe(S)}},[ue,Y,d,K,We,_e]),s.useEffect(()=>{const b=q.current;if(typeof IntersectionObserver>"u"||!b||!Y||!W)return;const S=new IntersectionObserver(()=>{oe(!!b.offsetParent)});return S.observe(b),()=>{S.disconnect()}},[Y,W]);const X=As(L.tooltip,T.text,d),ce=s.useMemo(()=>{if(!(!ue||Y))return[T.text,d,k,X.title].find(vt)},[ue,Y,k,X.title,Ke]);if(M)return s.createElement(Ss,{value:(o=T.text)!==null&&o!==void 0?o:typeof d=="string"?d:"",onSave:I,onCancel:E,onEnd:T.onEnd,prefixCls:j,className:l,style:m,direction:F,component:w,maxLength:T.maxLength,autoSize:T.autoSize,enterIcon:T.enterIcon});const Ce=()=>{const{expandable:b,symbol:S}=L;return b?s.createElement("button",{type:"button",key:"expand",className:`${j}-${ee?"collapse":"expand"}`,onClick:ie=>ot(ie,{expanded:!ee}),"aria-label":ee?C.collapse:C==null?void 0:C.expand},typeof S=="function"?S(ee):S):null},de=()=>{if(!O)return;const{icon:b,tooltip:S,tabIndex:ie}=T,ge=Vt(S)[0]||(C==null?void 0:C.edit),Re=typeof ge=="string"?ge:"";return $.includes("icon")?s.createElement(yt,{key:"edit",title:S===!1?"":ge},s.createElement("button",{type:"button",ref:H,className:`${j}-edit`,onClick:Z,"aria-label":Re,tabIndex:ie},b||s.createElement(Sn,{role:"button"}))):null},te=()=>D?s.createElement(qs,Object.assign({key:"copy"},pe,{prefixCls:j,copied:B,locale:C,onCopy:Ie,loading:re,iconOnly:d==null})):null,qe=b=>[b&&Ce(),de(),te()],at=b=>[b&&!ee&&s.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Qs),L.suffix,qe(b)];return s.createElement(Cn,{onResize:ve,disabled:!W},b=>s.createElement(Bs,{tooltipProps:X,enableEllipsis:W,isEllipsis:Ke},s.createElement(Wt,Object.assign({className:Ve({[`${j}-${g}`]:g,[`${j}-disabled`]:u,[`${j}-ellipsis`]:ue,[`${j}-ellipsis-single-line`]:Qe,[`${j}-ellipsis-multiple-line`]:K},l),prefixCls:r,style:Object.assign(Object.assign({},m),{WebkitLineClamp:K?me:void 0}),component:w,ref:qt(b,q,t),direction:F,onClick:$.includes("text")?Z:void 0,"aria-label":ce==null?void 0:ce.toString(),title:k},z),s.createElement(Fs,{enableMeasure:W&&!Y,text:d,rows:me,width:_e,onEllipsis:N,expanded:ee,miscDeps:[B,ee,re,O,D,C]},(S,ie)=>Ks(e,s.createElement(s.Fragment,null,S.length>0&&ie&&!ee&&ce?s.createElement("span",{key:"show-content","aria-hidden":!0},S):S,at(ie)))))))}),st=Ys;var Xs=globalThis&&globalThis.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};const Gs=s.forwardRef((e,t)=>{var{ellipsis:o,rel:r}=e,l=Xs(e,["ellipsis","rel"]);const m=Object.assign(Object.assign({},l),{rel:r===void 0&&l.target==="_blank"?"noopener noreferrer":r});return delete m.navigate,s.createElement(st,Object.assign({},m,{ref:t,ellipsis:!!o,component:"a"}))}),Js=Gs,Zs=s.forwardRef((e,t)=>s.createElement(st,Object.assign({ref:t},e,{component:"div"}))),er=Zs;var tr=globalThis&&globalThis.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};const nr=(e,t)=>{var{ellipsis:o}=e,r=tr(e,["ellipsis"]);const l=s.useMemo(()=>o&&typeof o=="object"?Ht(o,["expandable","rows"]):o,[o]);return s.createElement(st,Object.assign({ref:t},r,{ellipsis:l,component:"span"}))},sr=s.forwardRef(nr);var rr=globalThis&&globalThis.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};const or=[1,2,3,4,5],ar=s.forwardRef((e,t)=>{const{level:o=1}=e,r=rr(e,["level"]),l=or.includes(o)?`h${o}`:"h1";return s.createElement(st,Object.assign({ref:t},r,{component:l}))}),ir=ar,Be=Wt;Be.Text=sr;Be.Link=Js;Be.Title=ir;Be.Paragraph=er;const lr=Be;function cr({title:e,titleId:t,...o},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},o),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const dr=s.forwardRef(cr),ur=dr,{TextArea:mr}=wn,{Title:Ue,Text:R,Paragraph:go}=lr;function fo(){const[e,t]=s.useState([]),[o,r]=s.useState(""),[l,m]=s.useState(!1),[g,u]=s.useState([]),[d,p]=s.useState(0),[h,x]=s.useState(!1),[w,k]=s.useState(null),[A,V]=s.useState(!1),[F,C]=s.useState([]),[q,H]=s.useState(""),[j,z]=s.useState(""),[O,T]=s.useState(!0),[M,J]=s.useState(null),[$,le]=s.useState(!0),[U,Z]=s.useState(!1),[I,E]=s.useState(!1),[D,pe]=s.useState(!1),[B,re]=s.useState(""),[Ie,we]=s.useState(null),[Q,ke]=s.useState(!1),[P,Te]=s.useState(null),[$e,_]=s.useState(null),[Oe,We]=s.useState(!1),[oe,ue]=s.useState(!1),[L,ee]=s.useState(0);s.useState(null);const[Se,W]=s.useState(!1),[me,ye]=s.useState(!1),[Y,De]=s.useState(null),[rt,Ke]=s.useState(null);s.useState([]);const[Qe,K]=s.useState(null),[ot,_e]=s.useState(!1),ae=s.useRef(null),ve=s.useRef(null),N=s.useRef(null),X=s.useRef(null),ce=s.useRef(null),Ce=s.useRef(null),de=s.useRef(null),te=s.useRef([]),qe=s.useRef(null);s.useEffect(()=>{const i=window.location.pathname.split("/"),a=i[i.length-1];console.log("Extracted app ID from URL:",a),console.log("Full URL path:",window.location.pathname),console.log("URL parts:",i),a&&a.trim()!==""?(z(a.trim()),console.log("Set applicant ID to:",a.trim())):console.error("No valid app ID found in URL")},[]),s.useEffect(()=>{b(),at()},[]),s.useEffect(()=>{qe.current&&qe.current.scrollIntoView({behavior:"smooth"})},[e,l]);const at=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const i=window.SpeechRecognition||window.webkitSpeechRecognition;ae.current=new i,ae.current.continuous=!1,ae.current.interimResults=!0,ae.current.lang="en-US",ae.current.onstart=()=>{Z(!0),we(null)},ae.current.onresult=a=>{let c="",v="";for(let f=a.resultIndex;f<a.results.length;f++){const y=a.results[f][0].transcript;a.results[f].isFinal?c+=y:v+=y}c?(r(c),re(c)):re(v)},ae.current.onerror=a=>{Z(!1),we(`Speech recognition error: ${a.error}`)},ae.current.onend=()=>{Z(!1)},pe(!0)}"speechSynthesis"in window&&(ve.current=window.speechSynthesis)},b=async()=>{try{T(!0);const i=await nn();i.data&&i.data.data?(u(i.data.data),J(null)):J("No questions available")}catch(i){console.error("Failed to load guide questions:",i),J("Failed to load interview questions")}finally{T(!1)}},S=()=>{ae.current&&!U&&(r(""),re(""),ae.current.start())},ie=()=>{ae.current&&U&&ae.current.stop()},ge=i=>{if(ve.current&&$){ve.current.cancel();const a=i.replace(/<[^>]*>/g,""),c=new SpeechSynthesisUtterance(a),v=ve.current.getVoices();let f=null;return f=v.find(y=>y.name.toLowerCase().includes("female")||y.name.toLowerCase().includes("woman")||y.name.toLowerCase().includes("samantha")||y.name.toLowerCase().includes("susan")||y.name.toLowerCase().includes("karen")||y.name.toLowerCase().includes("zira")||y.name.toLowerCase().includes("eva")||y.name.toLowerCase().includes("fiona")),f||(f=v.find(y=>y.lang&&y.lang.startsWith("en"))),!f&&v.length>0&&(f=v[0]),f&&(c.voice=f),c.rate=1.1,c.pitch=1.2,c.volume=.9,c.onstart=()=>E(!0),c.onend=()=>E(!1),c.onerror=()=>E(!1),ve.current.speak(c),c}return null},Re=()=>{ve.current&&(ve.current.cancel(),E(!1))},bt=()=>{const i=!$;le(i),i||(ie(),Re())},it=async()=>{try{_(null),console.log("Requesting camera permission..."),P&&(console.log("Stopping existing camera stream..."),P.getTracks().forEach(a=>a.stop()),Te(null),await new Promise(a=>setTimeout(a,100)));const i=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});if(console.log("Camera stream obtained:",i),console.log("Video tracks:",i.getVideoTracks()),Te(i),We(!0),ke(!0),N.current){console.log("Setting video source..."),N.current.srcObject=i,N.current.load();const a=async()=>{try{console.log("Attempting to play video..."),N.current&&N.current.srcObject&&(await N.current.play(),console.log("Video is now playing"))}catch(c){console.error("Error playing video:",c),_("Failed to start video playback: "+c.message)}};N.current.onloadedmetadata=a,N.current.oncanplay=a,setTimeout(a,100)}return!0}catch(i){console.error("Camera permission error:",i);let a="Camera access denied. ";return i.name==="NotAllowedError"?a+="Please allow camera access and refresh the page.":i.name==="NotFoundError"?a+="No camera found on this device.":i.name==="NotReadableError"?a+="Camera is being used by another application.":a+="Unable to access camera. Please check your device settings.",_(a),We(!1),ke(!1),!1}},xt=()=>{P&&(P.getTracks().forEach(i=>i.stop()),Te(null)),ke(!1),N.current&&(N.current.srcObject=null,N.current.pause())},wt=async()=>{Q?xt():await it()};s.useEffect(()=>{(async()=>{if(P&&N.current&&Q){console.log("Setting up video element with stream...");const a=N.current;a.srcObject=P;try{a.load(),await new Promise(G=>setTimeout(G,50)),await a.play(),console.log("Video play successful - immediate")}catch(G){console.error("Immediate video play failed:",G);const be=async()=>{try{await a.play(),console.log("Video play successful - event listener"),a.removeEventListener("canplay",be)}catch(Me){console.error("Event listener play failed:",Me)}};a.addEventListener("canplay",be),setTimeout(async()=>{try{a.paused&&(await a.play(),console.log("Video play successful - delayed"))}catch(Me){console.error("Delayed play failed:",Me),_("Failed to start video playback: "+Me.message)}},500)}const c=()=>console.log("Video load started"),v=()=>console.log("Video data loaded"),f=()=>console.log("Video can play"),y=()=>console.log("Video started playing"),ne=G=>{console.error("Video element error:",G),_("Video element error occurred")};return a.addEventListener("loadstart",c),a.addEventListener("loadeddata",v),a.addEventListener("canplay",f),a.addEventListener("play",y),a.addEventListener("error",ne),()=>{a.removeEventListener("loadstart",c),a.removeEventListener("loadeddata",v),a.removeEventListener("canplay",f),a.removeEventListener("play",y),a.removeEventListener("error",ne)}}})()},[P,Q]),s.useEffect(()=>{if(h&&P&&N.current&&Q){console.log("Interview started - ensuring video continues playing...");const i=async()=>{try{const c=N.current;c&&c.paused&&(console.log("Video is paused during interview, attempting to resume..."),await c.play(),console.log("Video resumed successfully during interview")),c&&!c.paused&&c.readyState<2&&(console.log("Video appears to be playing but has no data - triggering automatic force play..."),await lt())}catch(c){console.error("Failed to resume video during interview:",c),_("Failed to resume video during interview: "+c.message),console.log("Normal play failed, attempting automatic force play...");try{await lt()}catch(v){console.error("Automatic force play also failed:",v)}}};i();const a=setInterval(i,2e3);return()=>clearInterval(a)}},[h,P,Q]);const lt=async()=>{if(N.current&&P){console.log("Performing automatic force play with complete reset...");const i=N.current;try{return i.pause(),i.srcObject=null,await new Promise(a=>setTimeout(a,100)),i.srcObject=P,i.load(),await new Promise(a=>setTimeout(a,100)),await i.play(),console.log("Automatic force play successful!"),_(null),!0}catch(a){return console.error("Automatic force play failed:",a),_("Automatic force play failed: "+a.message),!1}}return!1},Kt=async()=>{if(oe){if(ue(!1),ee(0),Ce.current&&(Ce.current.getTracks().forEach(i=>i.stop()),Ce.current=null),X.current&&X.current.state!=="closed"){try{X.current.close()}catch{console.log("Audio context already closed")}X.current=null,ce.current=null}return}try{ue(!0),_(null),console.log("Requesting microphone access...");const i=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});console.log("Microphone stream obtained:",i),console.log("Audio tracks:",i.getAudioTracks()),Ce.current=i;try{X.current=new(window.AudioContext||window.webkitAudioContext),X.current.state==="suspended"&&await X.current.resume();const a=X.current.createMediaStreamSource(i);if(X.current.createAnalyser){ce.current=X.current.createAnalyser(),ce.current.fftSize=256,ce.current.smoothingTimeConstant=.5,a.connect(ce.current);const c=new Uint8Array(ce.current.frequencyBinCount),v=()=>{if(!oe||!ce.current)return;ce.current.getByteFrequencyData(c);let f=0;for(let G=0;G<c.length;G++)f+=c[G];const y=f/c.length,ne=Math.min(100,y/128*100);console.log("Mic level update:",ne,"from average:",y),ee(ne),oe&&setTimeout(v,100)};v()}else{console.log("Analyser not supported, showing basic mic test");let c=0;const v=()=>{if(!oe)return;const f=10+Math.sin(c*.1)*20+Math.random()*10;ee(Math.max(0,Math.min(100,f))),c++,oe&&setTimeout(v,200)};v()}}catch(a){console.error("Audio context error:",a);let c=0;const v=()=>{oe&&(c=(c+5)%50+10,ee(c),oe&&setTimeout(v,300))};v()}}catch(i){console.error("Microphone test error:",i),ue(!1),ee(0);let a="Microphone test failed. ";i.name==="NotAllowedError"?a+="Please allow microphone access in your browser and try again.":i.name==="NotFoundError"?a+="No microphone found. Please check your microphone is connected.":i.name==="NotReadableError"?a+="Microphone is being used by another application. Please close other apps using your microphone.":a+=`Error: ${i.message}`,_(a)}},Qt=async()=>{if(!Se){W(!0);try{const i=new(window.AudioContext||window.webkitAudioContext),a=i.createOscillator(),c=i.createGain();a.connect(c),c.connect(i.destination),a.frequency.setValueAtTime(800,i.currentTime),c.gain.setValueAtTime(.1,i.currentTime),a.start(),a.stop(i.currentTime+1),setTimeout(()=>{W(!1),i.close()},1100)}catch(i){console.error("Sound test error:",i),W(!1),_("Failed to play test sound. Please check your audio settings.")}}},Yt=async()=>{try{K(null),console.log("Starting interview recording...");let i;Q&&P?P.getAudioTracks().length===0?(console.log("Camera stream has no audio, getting combined stream..."),i=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})):i=P:(console.log("Getting audio-only stream for recording..."),i=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0})),console.log("Recording stream tracks:",{video:i.getVideoTracks().length,audio:i.getAudioTracks().length}),De(i),te.current=[];let a;i.getVideoTracks().length>0?MediaRecorder.isTypeSupported("video/webm; codecs=vp8,opus")?a="video/webm; codecs=vp8,opus":MediaRecorder.isTypeSupported("video/webm")?a="video/webm":MediaRecorder.isTypeSupported("video/mp4")?a="video/mp4":a="video/webm":MediaRecorder.isTypeSupported("audio/webm; codecs=opus")?a="audio/webm; codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?a="audio/webm":MediaRecorder.isTypeSupported("audio/mp4")?a="audio/mp4":a="audio/webm",console.log("Using MIME type for recording:",a);const c=new MediaRecorder(i,{mimeType:a});de.current=c,Ke(c),c.ondataavailable=v=>{v.data&&v.data.size>0&&(te.current.push(v.data),console.log("Recording chunk received:",v.data.size,"bytes"))},c.onstop=()=>{console.log("Recording stopped, total chunks collected:",te.current.length);const v=te.current.reduce((f,y)=>f+y.size,0);console.log("Total recording data size:",v,"bytes"),ye(!1)},c.onerror=v=>{console.error("Recording error:",v.error),K("Recording error: "+v.error),ye(!1)},c.onstart=()=>{console.log("MediaRecorder started successfully"),ye(!0)},c.start(500),console.log("MediaRecorder.start() called, state:",c.state),setTimeout(()=>{var v,f;console.log("Recording status check:"),console.log("- MediaRecorder state:",(v=de.current)==null?void 0:v.state),console.log("- isRecording:",me),console.log("- Chunks collected so far:",te.current.length),((f=de.current)==null?void 0:f.state)!=="recording"&&(console.error("MediaRecorder is not in recording state!"),K("Recording failed to start properly"))},2e3)}catch(i){console.error("Failed to start recording:",i),K("Failed to start recording: "+i.message)}},Xt=async()=>new Promise(i=>{de.current&&me?(console.log("Stopping recording..."),de.current.onstop=()=>{console.log("Recording stopped completely, chunks:",te.current.length),ye(!1),Y&&Y!==P&&(console.log("Stopping recording stream tracks..."),Y.getTracks().forEach(a=>a.stop())),De(null),i()},de.current.stop()):(console.log("No active recording to stop"),i())}),Gt=async()=>{var i,a,c,v;try{if(_e(!0),!te.current||te.current.length===0)return console.warn("No recording data to save"),K("No recording data available to save"),null;console.log("Preparing to save recording..."),console.log("Chunks available:",te.current.length);const f=te.current.reduce((se,Pe)=>se+(Pe.size||0),0);if(console.log("Total recording size:",f,"bytes"),f===0)return console.warn("Recording chunks have no data"),K("Recording contains no data"),null;let y,ne;if(de.current&&de.current.mimeType){const se=de.current.mimeType;console.log("Original recorder MIME type:",se),se.includes("webm")?(y="video/webm",ne=".webm"):se.includes("mp4")?(y="video/mp4",ne=".mp4"):se.includes("audio/webm")?(y="video/webm",ne=".webm"):(console.warn("Unknown MIME type, defaulting to webm:",se),y="video/webm",ne=".webm")}else console.warn("No recorder MIME type available, using default webm"),y="video/webm",ne=".webm";console.log("Final MIME type for upload:",y),console.log("File extension:",ne);const G=new Blob(te.current,{type:y});if(console.log("Recording blob created:",{size:G.size,type:G.type,chunks:te.current.length}),G.size===0)return console.error("Created blob has zero size"),K("Failed to create recording file - no data"),null;if(!j||j.trim()==="")return console.error("No applicant ID available"),K("No applicant ID available for recording save"),null;const be=new FormData,Me=new Date().toISOString().replace(/[:.]/g,"-"),Ct=`interview_${j}_${Me}${ne}`;if(be.append("recording",G,Ct),be.append("app_id",j.toString()),Ye){const se=Math.floor((Date.now()-Ye)/1e3);be.append("interview_duration",se.toString()),console.log("Interview duration:",se,"seconds")}else be.append("interview_duration","0"),console.warn("No interview start time available, using duration 0");console.log("FormData prepared:",{filename:Ct,blobSize:G.size,applicantId:j,duration:Ye?Math.floor((Date.now()-Ye)/1e3):"unknown"}),console.log("Uploading recording to server..."),console.log("FormData entries:");for(let[se,Pe]of be.entries())console.log(`${se}:`,Pe instanceof Blob?`Blob(${Pe.size} bytes, ${Pe.type})`:Pe);const fe=await on(be);if(console.log("Upload response:",fe),fe&&fe.data&&fe.data.status==="success")return console.log("Recording saved successfully:",fe.data),te.current=[],K(null),fe.data;{const se=((i=fe==null?void 0:fe.data)==null?void 0:i.message)||"Upload failed - no success response";throw console.error("Upload failed:",se),console.error("Full response:",fe),new Error(se)}}catch(f){console.error("Failed to save recording:",f);let y="Unknown error occurred while saving recording";if(f.response)if(console.error("Server error response:",f.response),f.response.status===422){const ne=((a=f.response.data)==null?void 0:a.errors)||{};y=`Validation failed: ${Object.values(ne).flat().join(", ")}`}else f.response.status===413?y="File too large. Please try with a shorter recording.":f.response.status===500?y=((c=f.response.data)==null?void 0:c.message)||"Server error occurred while saving recording":y=`Server error (${f.response.status}): ${((v=f.response.data)==null?void 0:v.message)||f.message}`;else f.request?y="Network error - please check your connection and try again":y=f.message||y;throw K("Failed to save recording: "+y),f}finally{_e(!1)}},[Ye,Jt]=s.useState(null);s.useEffect(()=>()=>{ie(),Re(),xt(),de.current&&me&&de.current.stop(),Y&&Y.getTracks().forEach(i=>i.stop()),Ce.current&&Ce.current.getTracks().forEach(i=>i.stop()),X.current&&X.current.close()},[]);const Zt=async()=>{if(x(!0),Jt(Date.now()),await Yt(),Oe&&P&&N.current){console.log("Camera already active, completely resetting video element...");try{const a=N.current;a.pause(),a.srcObject=null,await new Promise(c=>setTimeout(c,100)),a.srcObject=P,a.load(),await new Promise(c=>setTimeout(c,100));for(let c=0;c<3;c++)try{await a.play(),console.log(`Video play successful on attempt ${c+1}`);break}catch(v){console.error(`Play attempt ${c+1} failed:`,v),c===2&&_("Failed to resume video after multiple attempts: "+v.message),await new Promise(f=>setTimeout(f,200))}}catch(a){console.error("Failed to reset video during interview start:",a),_("Failed to reset video: "+a.message)}}else(!Oe||!P)&&(console.log("Requesting camera permission for interview..."),await it());const i={type:"ai",content:`
                <div>
                    <p><strong>Welcome to EmpireOne BPO Solutions Inc. AI Interview!</strong></p>
                    <p>I'm your AI interviewer today. I'll be asking you ${g.length} randomly selected questions to better understand your qualifications and fit for this position.</p>
                    <p>Please feel free to take your time with your responses. Let's begin!</p>
                </div>
            `,timestamp:new Date().toLocaleTimeString()};if(t([i]),$){const a=ge(i.content);a&&(a.onend=()=>{E(!1),setTimeout(()=>{je()},1e3)})}else setTimeout(()=>{je()},2e3)},je=async()=>{if(d===5&&g.length>5){const i={type:"ai",content:`
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="color: white; margin-bottom: 15px;">ðŸŽ‰ Halfway Point Reached!</h3>
                        <p style="margin-bottom: 10px;"><strong>Excellent progress!</strong> You've successfully completed 5 questions.</p>
                        <p style="margin-bottom: 10px;">You're doing great! Your responses show good insight and professionalism.</p>
                        <p style="margin-bottom: 0;"><strong>Let's continue with the remaining ${g.length-5} questions.</strong></p>
                    </div>
                `,timestamp:new Date().toLocaleTimeString()};if(t(a=>[...a,i]),$){const a=ge(i.content);a?a.onend=()=>{E(!1),setTimeout(()=>{Xe()},1500)}:setTimeout(()=>{Xe()},3e3)}else setTimeout(()=>{Xe()},3e3);return}Xe()},Xe=()=>{if(d<g.length){const i=g[d];k(i);const a={type:"ai",content:`<p><strong>Question ${d+1}:</strong> ${i.guideqs}</p>`,timestamp:new Date().toLocaleTimeString()};t(c=>[...c,a]),p(c=>c+1),$&&setTimeout(()=>{ge(a.content)},500)}else{const i={type:"ai",content:`
                    <div style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 25px; border-radius: 10px; text-align: center;">
                        <h2 style="color: white; margin-bottom: 20px;">Interview Successfully Completed!</h2>
                        <p style="margin-bottom: 15px;"><strong>Congratulations!</strong> You have successfully answered all ${g.length} interview questions.</p>
                        <p style="margin-bottom: 15px;">Your responses have been thoroughly recorded and demonstrate your qualifications and experience.</p>
                        <p style="margin-bottom: 15px;"><strong>What happens next?</strong></p>
                        <ul style="text-align: left; margin-bottom: 15px; padding-left: 20px;">
                            <li>Our HR team will review your responses</li>
                            <li>You'll be contacted within 2-7 business days</li>
                            <li>Next steps will be communicated via email</li>
                        </ul>
                        <p style="margin-bottom: 0;"><strong>Thank you for your interest in EmpireOne BPO Solutions Inc.!</strong></p>
                    </div>
                `,timestamp:new Date().toLocaleTimeString()};t(a=>[...a,i]),k(null),V(!0),me&&(console.log("Stopping and saving recording..."),Xt().then(()=>{console.log("Recording stopped, waiting before save..."),setTimeout(async()=>{try{const a=await Gt();a?console.log("Interview recording saved successfully:",a):console.warn("Recording save returned no result")}catch(a){console.error("Failed to save interview recording:",a),K("Failed to save recording: "+a.message)}},1e3)}).catch(a=>{console.error("Failed to stop recording:",a),K("Failed to stop recording properly: "+a.message)})),$&&setTimeout(()=>{ge(i.content)},500)}},St=async()=>{if(!o.trim())return;const i={type:"user",content:o,timestamp:new Date().toLocaleTimeString()};t(a=>[...a,i]),H(o),m(!0);try{const c=await rn({prompt:o,app_id:j});if(c.data&&c.data.result){const v={type:"ai",content:c.data.result,timestamp:new Date().toLocaleTimeString(),isFallback:c.data.fallback||!1};if(t(f=>[...f,v]),$){const f=ge(v.content);f?f.onend=()=>{E(!1),setTimeout(()=>{je()},1e3)}:setTimeout(()=>{je()},3e3)}else setTimeout(()=>{je()},3e3);if(c.data.fallback){const f={type:"ai",content:`<p style="color: orange; font-style: italic;">Note: AI service is currently unavailable, so I'm providing a general response. Your answer has still been recorded.</p>`,timestamp:new Date().toLocaleTimeString()};setTimeout(()=>{t(y=>[...y,f])},1e3)}if(w)try{await jt({app_id:j,question:w.guideqs,answer:o,ai_feedback:c.data.result}),C(f=>[...f,{question:w.guideqs,answer:o,ai_feedback:c.data.result}])}catch(f){console.error("Failed to save interview response:",f)}}}catch(a){console.error("Error sending message:",a);const c=["Thank you for your response. I've recorded your answer and we'll move on to the next question.","I appreciate your detailed answer. Your response has been noted.","Thank you for sharing that. Let's continue with the next question.","Your response has been recorded. That shows good insight.","I've noted your answer. Thank you for your thoughtful response."],v=c[Math.floor(Math.random()*c.length)],f={type:"ai",content:`<p>${v}</p><p style="color: orange; font-style: italic; font-size: 12px;">Note: AI service is temporarily unavailable. Your response has been recorded.</p>`,timestamp:new Date().toLocaleTimeString()};if(t(y=>[...y,f]),$){const y=ge(v);y?y.onend=()=>{E(!1),setTimeout(()=>{je()},1e3)}:setTimeout(()=>{je()},2e3)}else setTimeout(()=>{je()},2e3);if(w)try{await jt({app_id:j,question:w.guideqs,answer:o,ai_feedback:v}),C(y=>[...y,{question:w.guideqs,answer:o,ai_feedback:v}])}catch(y){console.error("Failed to save interview response:",y)}}finally{m(!1),r("")}},en=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),St())};return h?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-indigo-100 py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[n.jsxs(ct,{gutter:[24,24],children:[n.jsxs(He,{xs:24,lg:16,children:[n.jsx(Le,{className:"mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Fe,{icon:n.jsx(Ge,{}),className:"bg-blue-500"}),n.jsxs("div",{children:[n.jsx(Ue,{level:4,className:"mb-0",children:"AI Interview Session"}),n.jsx(R,{type:"secondary",children:"EmpireOne BPO Solutions Inc."})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs(R,{strong:!0,children:["Progress: ",d,"/",g.length]}),n.jsx("br",{}),n.jsxs(R,{type:"secondary",children:["Applicant ID: ",j]}),$&&n.jsxs(n.Fragment,{children:[n.jsx("br",{}),n.jsx(R,{type:"primary",children:"ðŸŽ¤ Voice Mode Active"})]}),A&&n.jsxs(n.Fragment,{children:[n.jsx("br",{}),n.jsx(R,{type:"success",strong:!0,children:"âœ… Interview Completed"})]})]})]})}),n.jsx(Le,{className:"mb-4",style:{height:"500px",overflowY:"auto"},children:n.jsxs("div",{className:"space-y-4",children:[e.map((i,a)=>n.jsx("div",{className:`flex ${i.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`flex items-start space-x-2 max-w-3xl ${i.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[n.jsx(Fe,{icon:i.type==="user"?n.jsx(kn,{}):n.jsx(Ge,{}),className:i.type==="user"?"bg-green-500":"bg-blue-500",size:"small"}),$&&i.type==="ai"&&n.jsx(he,{size:"small",type:"text",icon:I?n.jsx(kt,{}):n.jsx(sn,{}),onClick:()=>I?Re():ge(i.content),className:"opacity-60 hover:opacity-100"}),n.jsxs("div",{className:`p-3 rounded-lg ${i.type==="user"?"bg-green-100 text-right":"bg-blue-50"}`,children:[i.type==="ai"?n.jsx("div",{dangerouslySetInnerHTML:{__html:i.content}}):n.jsx("p",{className:"mb-0",children:i.content}),n.jsx(R,{type:"secondary",className:"text-xs",children:i.timestamp})]})]})},a)),l&&n.jsx("div",{className:"flex justify-start",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fe,{icon:n.jsx(Ge,{}),className:"bg-blue-500",size:"small"}),n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx(dt,{size:"small"})," ",n.jsx("span",{className:"ml-2",children:"AI is thinking..."})]})]})}),n.jsx("div",{ref:qe})]})})]}),n.jsx(He,{xs:24,lg:8,children:n.jsxs(Le,{className:"mb-4",title:"Your Video",children:[n.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{height:"300px"},children:[Q&&P?n.jsx("div",{className:"relative w-full h-full",children:n.jsx("video",{ref:N,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"},onError:i=>{console.error("Video element error:",i),_("Video playback error occurred")},onLoadedData:()=>console.log("Video loaded data"),onCanPlay:()=>console.log("Video can play"),onPlay:()=>console.log("Video playing")})}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[n.jsx(Tt,{className:"text-4xl mb-2 opacity-50"}),n.jsx(R,{className:"text-white text-sm",children:"Camera not enabled"})]}),n.jsx("div",{className:"absolute bottom-3 right-3",children:n.jsx(he,{type:Q?"default":"primary",danger:Q,shape:"circle",icon:n.jsx($t,{}),onClick:wt,size:"small"})})]}),$e&&n.jsx(Ee,{message:"Camera Error",description:$e,type:"error",showIcon:!0,closable:!0,onClose:()=>_(null),className:"mt-3"}),n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${me?"bg-red-500 animate-pulse":"bg-gray-400"}`}),n.jsx(R,{strong:!0,children:me?"Recording...":"Not Recording"})]}),ot&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{size:"small"}),n.jsx(R,{type:"secondary",children:"Saving..."})]})]}),Qe&&n.jsx(Ee,{message:"Recording Error",description:Qe,type:"error",showIcon:!0,closable:!0,size:"small",onClose:()=>K(null),className:"mt-2"})]})]})})]}),A&&n.jsx(Le,{className:"mb-4",title:"Interview Summary",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx(R,{strong:!0,className:"text-green-600",children:"Questions Answered"}),n.jsx("br",{}),n.jsx(Ue,{level:2,className:"text-green-600 mb-0",children:"5"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx(R,{strong:!0,className:"text-blue-600",children:"Total Questions"}),n.jsx("br",{}),n.jsx(Ue,{level:2,className:"text-blue-600 mb-0",children:g.length})]})]}),n.jsx(Ee,{message:"Interview Completed Successfully",description:"All your responses have been recorded and will be reviewed by our HR team. Thank you for your time!",type:"success",showIcon:!0})]})}),n.jsx(ct,{gutter:[24,0],children:n.jsx(He,{span:24,children:n.jsxs(Le,{children:[$&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fe,{icon:U?n.jsx(It,{}):n.jsx(Je,{}),className:U?"bg-red-500":"bg-gray-400",size:"small"}),n.jsx(R,{strong:!0,children:U?"Listening...":"Click to speak"})]}),I&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fe,{icon:n.jsx(Ge,{}),className:"bg-blue-500",size:"small"}),n.jsx(R,{children:"AI is speaking..."}),n.jsx(he,{size:"small",onClick:Re,icon:n.jsx(kt,{}),children:"Stop"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(he,{type:U?"danger":"primary",icon:U?n.jsx(Je,{}):n.jsx(It,{}),onClick:U?ie:S,disabled:l||I,children:U?"Stop":"Speak"}),n.jsx(Ot,{size:"small",checked:$,onChange:bt,checkedChildren:"Voice",unCheckedChildren:"Text"})]})]}),B&&n.jsxs("div",{className:"mt-2 p-2 bg-white rounded border",children:[n.jsx(R,{type:"secondary",className:"text-xs",children:"Live transcript:"}),n.jsx("br",{}),n.jsx(R,{children:B})]}),Ie&&n.jsx(Ee,{message:Ie,type:"error",closable:!0,className:"mt-2",onClose:()=>we(null)})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(mr,{value:o,onChange:i=>r(i.target.value),onKeyPress:en,placeholder:$?"Your voice input will appear here... (You can also type manually)":"Type your response here... (Press Enter to send, Shift+Enter for new line)",autoSize:{minRows:2,maxRows:4},disabled:l,className:"flex-1"}),n.jsx(he,{type:"primary",icon:n.jsx(Tn,{}),onClick:St,loading:l,disabled:!o.trim()||U,className:"h-full",children:"Send"})]})]})})})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-indigo-100",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n.jsxs(ct,{gutter:[32,32],className:"min-h-screen items-center",children:[n.jsx(He,{xs:24,lg:14,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(Ue,{level:1,className:"text-gray-800 mb-2",children:"Initial Interview"}),n.jsx(R,{className:"text-gray-500 text-lg",children:"A quick interview to get to know you a bit better."})]}),n.jsxs(Le,{className:"bg-black relative overflow-hidden",style:{height:"400px"},children:[Q&&P?n.jsx("div",{className:"relative w-full h-full",children:n.jsx("video",{ref:N,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"},onError:i=>{console.error("Video element error:",i),_("Video playback error occurred")},onLoadedData:()=>console.log("Video loaded data"),onCanPlay:()=>console.log("Video can play"),onPlay:()=>console.log("Video playing")})}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[n.jsx(Tt,{className:"text-6xl mb-4 opacity-50"}),n.jsx(R,{className:"text-white text-lg mb-2",children:"Camera permission required"}),n.jsx(R,{className:"text-gray-300 text-center px-8",children:"You must enable camera access before joining the AI interview."})]}),n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:n.jsx(he,{type:Q?"default":"primary",danger:Q,shape:"circle",size:"large",icon:n.jsx(ur,{className:"h-6 flex items-center justify-center mt-1"}),onClick:wt,className:"h-12 w-12"})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx(Je,{className:oe?L>5?"text-green-500":"text-yellow-500":"text-gray-400"}),n.jsx(R,{type:"secondary",className:"ml-2",children:oe?L>5?"Microphone active":"Speak into microphone":"No device selected"})]}),oe&&n.jsxs("div",{className:"mb-2",children:[n.jsx("div",{className:"bg-gray-200 rounded-full h-3 w-full mb-1",children:n.jsx("div",{className:`h-3 rounded-full transition-all duration-100 ${L>5?"bg-green-500":"bg-yellow-500"}`,style:{width:`${Math.max(2,L)}%`}})}),n.jsxs(R,{className:"text-xs text-gray-500",children:["Level:"," ",Math.round(L),"%"," ",L>5?"ðŸŽ¤":"ðŸ“¢"]}),n.jsx("br",{}),n.jsx(R,{className:"text-xs text-blue-500",children:L>5?"Microphone working!":"Try speaking louder"})]}),n.jsx(he,{type:"link",size:"small",className:oe?"text-red-500":"text-blue-500 font-medium",onClick:Kt,loading:!1,children:oe?"Stop Test":"Test your mic"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx(Je,{className:Se?"text-green-500":"text-gray-400"}),n.jsx(R,{type:"secondary",className:"ml-2",children:Se?"Playing test sound...":"No device selected"})]}),n.jsx(he,{type:"link",size:"small",className:"text-blue-500 font-medium",onClick:Qt,loading:Se,disabled:Se,children:Se?"Playing...":"Play test sound"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx($t,{className:Oe?"text-green-500":"text-red-500"}),n.jsx(R,{type:"secondary",className:"ml-2",children:Oe?"Permission granted":"Permission required"})]}),n.jsx(he,{type:"link",size:"small",className:"text-blue-500 font-medium",onClick:async()=>{console.log("Testing camera..."),P?(console.log("Current stream:",P),console.log("Video tracks:",P.getVideoTracks()),console.log("Video element:",N.current),N.current&&(console.log("Video src:",N.current.srcObject),console.log("Video ready state:",N.current.readyState),console.log("Video paused:",N.current.paused),N.current.paused||N.current.readyState<2?(console.log("Video appears problematic, triggering automatic force play..."),await lt()):console.log("Video appears to be working correctly"))):await it()},children:"Test Camera"})]})]}),$e&&n.jsx(Ee,{message:"Camera Error",description:$e,type:"error",showIcon:!0,closable:!0,onClose:()=>_(null)})]})}),n.jsx(He,{xs:24,lg:10,children:n.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg h-full",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx(Ue,{level:3,className:"text-gray-800 mb-4",children:"Get ready for your AI interview"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-full mt-1",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"ðŸ“…"})}),n.jsx("div",{children:n.jsx("p",{className:"font-semibold",children:"Start now or come back later"})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-full mt-1",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"â±ï¸"})}),n.jsx("div",{children:n.jsx("p",{className:"font-semibold",children:"Expect to spend 14 minute"})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-full mt-1",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"âš™ï¸"})}),n.jsx("div",{children:n.jsx("p",{className:"font-semibold",children:"Check your device settings"})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-full mt-1",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"ðŸ¤«"})}),n.jsx("div",{children:n.jsx("p",{className:"font-semibold",children:"Find a quiet place with stable internet"})})]})]})]}),O?n.jsxs("div",{className:"flex items-center justify-center mb-6",children:[n.jsx(dt,{}),n.jsx(R,{className:"ml-2",children:"Loading interview questions..."})]}):M?n.jsx(Ee,{message:"Error Loading Questions",description:M,type:"error",showIcon:!0,className:"mb-6"}):g.length===0?n.jsx(Ee,{message:"No Questions Available",description:"There are no interview questions configured in the system.",type:"warning",showIcon:!0,className:"mb-6"}):null,D&&g.length>0&&n.jsx("div",{className:"bg-white p-4 rounded-lg border mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(R,{strong:!0,children:"Voice Interview Mode"}),n.jsx("br",{}),n.jsx(R,{type:"secondary",className:"text-sm",children:"Enable voice mode for hands-free interview experience"})]}),n.jsx(Ot,{checked:$,onChange:bt,checkedChildren:"Voice ON",unCheckedChildren:"Voice OFF"})]})}),n.jsx(he,{type:"primary",size:"large",onClick:Zt,className:"w-full h-14 text-lg font-medium",disabled:O||M||g.length===0,style:{background:"linear-gradient(135deg,  #b9f2ff 0%,  #00b7eb 100%)",border:"none"},children:"Start Interview"}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("div",{children:n.jsx("p",{className:"text-xs",children:"EmpireOne BPO Solutions Inc. uses generative AI to conduct the AI interview. Your responses are used only to assess your candidacy and are never used to train AI models."})}),n.jsx("div",{className:"mt-8 ",children:n.jsx("p",{className:"text-xs text-gray-400",children:n.jsx("i",{children:"Note: This interview uses AI to provide personalized responses. If AI is unavailable, you'll still receive standard acknowledgments and your responses will be recorded."})})})]})]})})]})})})}export{fo as default};
