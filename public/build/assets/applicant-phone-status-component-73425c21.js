import{r as s,j as t,e as u}from"./app-6f65ca01.js";import h from"./modal-f4e7ccee.js";import{c as x,g as f}from"./applicant-thunk-21047f1e.js";import{a as j}from"./index-3022974a.js";import{d as b}from"./presets-50f985e6.js";import{A as g}from"./AntdIcon-99077da0.js";import"./transition-59657e35.js";import"./use-server-handoff-complete-e4ad159c.js";import"./dialog-505b6fe4.js";import"./portal-49cc6652.js";import"./applicant-record-service-25442c43.js";import"./applicant-final-service-a1d04fab.js";import"./useId-11e069ee.js";import"./useZIndex-3f6d5b5a.js";import"./createSuper-1fe814f3.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./genStyleUtils-6f4edad9.js";import"./useSize-3819d927.js";import"./Compact-38f16380.js";import"./ContextIsolator-27f23750.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";var v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.6 230.2L779.1 123.8a80.83 80.83 0 00-57.3-23.8c-21.7 0-42.1 8.5-57.4 23.8L549.8 238.4a80.83 80.83 0 00-23.8 57.3c0 21.7 8.5 42.1 23.8 57.4l83.8 83.8A393.82 393.82 0 01553.1 553 395.34 395.34 0 01437 633.8L353.2 550a80.83 80.83 0 00-57.3-23.8c-21.7 0-42.1 8.5-57.4 23.8L123.8 664.5a80.89 80.89 0 00-23.8 57.4c0 21.7 8.5 42.1 23.8 57.4l106.3 106.3c24.4 24.5 58.1 38.4 92.7 38.4 7.3 0 14.3-.6 21.2-1.8 134.8-22.2 268.5-93.9 376.4-201.7C828.2 612.8 899.8 479.2 922.3 344c6.8-41.3-6.9-83.8-36.7-113.8z"}}]},name:"phone",theme:"filled"};const C=v;var y=function(n,a){return s.createElement(g,b({},n,{ref:a,icon:C}))},S=s.forwardRef(y);const w=S;function V({record:e,open:n,setOpen:a}){const[o,c]=s.useState(!1),[i,d]=s.useState("");function p(){a(!1),d("")}async function m(l){if(l.preventDefault(),!i){alert("Please select a contact status");return}c(!0);try{u.dispatch(x({id:e.id,status:i})),u.dispatch(f()),await new Promise(r=>setTimeout(r,1e3)),p()}catch(r){console.error("Error update status:",r)}finally{c(!1)}}return t.jsxs("div",{className:"flex items-center justify-between font-semibold gap-2",children:[t.jsx("span",{className:`${e.call_status==="Answered"?"text-green-500":e.call_status==="Contacted"?"text-orange-500":e.call_status==="Cannot be reached"?"text-red-500":"text-gray-900"}`,children:e.phone}),t.jsxs("div",{children:[t.jsx(j,{title:"Contact Status",children:t.jsx("button",{type:"button",onClick:()=>a(!0),children:t.jsx(w,{})})}),t.jsx(h,{open:n,setOpen:a,title:"Contact Status",children:t.jsxs("div",{children:[t.jsxs("h3",{children:["Contact No.: ",e.phone]}),t.jsxs("h3",{children:["Applicant Status: ",e.status]}),t.jsxs("form",{onSubmit:m,children:[t.jsx("div",{className:"mt-2",children:t.jsxs("select",{className:"w-full rounded-md",value:i,onChange:l=>d(l.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Contact Status"}),t.jsx("option",{value:"Contacted",children:"Contacted"}),t.jsx("option",{value:"Answered",children:"Answered"}),t.jsx("option",{value:"Cannot be reached",children:"Cannot be reached"})]})}),t.jsxs("div",{className:"mt-2 flex items-center justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:p,className:"hover:bg-gray-200 px-4 py-2 rounded-md mt-2",disabled:o,children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md mt-2 disabled:opacity-50",disabled:o,children:o?"Updating...":"Update"})]})]})]})})]})]})}export{V as default};
