import{r as m,g as d,j as e,s as u,A as f}from"./store-62f7920c.js";import h from"./customer-service-final-rate-section-1e7f8f4b.js";import j from"./work-effectiveness-final-rate-section-e99cb4a9.js";import{u as p,a as b}from"./app-0431b0b6.js";import{s as v}from"./final-rate-thunk-4e669a38.js";import{m as N}from"./index-5da224f5.js";import{A as w}from"./ArrowLeftOutlined-7fcb8df6.js";import{L as g}from"./UnstableContext-b14c2ed9.js";import{C as y}from"./CheckCircleFilled-03b44592.js";import"./initial-rate-mark-component-715f2c43.js";import"./UserCircleIcon-c2d7cd4f.js";import"./BriefcaseIcon-fbecc598.js";import"./applicant-final-service-783dc1ef.js";import"./applicant-record-service-6fceb66d.js";import"./genStyleUtils-15f8d671.js";import"./typeof-7fd5df1e.js";import"./warning-2d1cca5c.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-f7d6c8e7.js";import"./shadow-599e9a46.js";import"./CloseCircleFilled-c845312c.js";import"./AntdIcon-65317f45.js";import"./InfoCircleFilled-ac5c32ea.js";import"./KeyCode-df1ca81f.js";import"./pickAttrs-3aceaf38.js";import"./useZIndex-8e23c1bd.js";import"./CloseOutlined-4c6c4fc7.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";function te(){const{finalRate:t,applicant:r}=p(s=>s.final_rate),i=window.location.pathname.split("/")[3],{user:l}=p(s=>s.app),o=b(),[a,n]=m.useState(!1);m.useEffect(()=>{o(d({...t,interviewer:(l==null?void 0:l.employee_fname)+" "+(l==null?void 0:l.employee_lname),int_id:l.id,app_id:i,oavg:(parseInt(t.cscore??0)+parseInt(t.wscore??0))/2}))},[t==null?void 0:t.cscore,t==null?void 0:t.wscore,l==null?void 0:l.employee_fname]);function x(s){o(d({...t,[s.target.name]:s.target.value}))}async function c(s){s.preventDefault(),n(!0),await u.dispatch(v(t)),await N.success("Successfully Rated!"),n(!1),f.visit("/admin/recruitment/applicant_records?searching="+i)}return console.log(t,"finalRate"),e.jsxs("div",{className:"font-sans",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center gap-2 px-4 py-2 text-lg hover:text-gray-600  transition-colors duration-200",children:[e.jsx(w,{}),"Back"]}),e.jsx("div",{className:"flex text-xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"Final Rating Scale"})})}),e.jsx("div",{className:"w-48"})," "]}),e.jsxs("div",{className:"flex flex-1 justify-end pr-4 mb-2",children:[e.jsx("h1",{className:"text-lg",children:e.jsx("b",{children:"Status:"})}),e.jsx("h1",{className:"bg-green-500 text-lg rounded-md px-1.5 text-white ml-1",children:r.status})]}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:c,children:[e.jsxs("div",{className:"flex flex-1 gap-3.5",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Application No."})}),e.jsx("input",{type:"number",value:r.app_id??"",placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Applicant's Name"})}),e.jsx("input",{type:"text",value:r.fname+" "+r.lname,placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]})]}),e.jsx(h,{}),e.jsx(j,{}),e.jsxs("div",{className:"flex flex-col w-full mt-3",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"OVERALL RESULT"})}),e.jsx("input",{type:"number",value:t.oavg??0,name:"final_overall_r",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full mt-5",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"FINAL PHASE INTERVIEWER"})}),e.jsx("input",{type:"text",value:(t==null?void 0:t.interviewer)??"",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{children:e.jsx("b",{children:"OVERALL COMMENT"})}),e.jsx("textarea",{placeholder:"",name:"ocomment",onChange:x,className:"border p-2 rounded w-full mt-1 h-40"})]}),e.jsx("div",{className:"flex justify-end mt-3.5",children:e.jsxs("button",{type:"submit",className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${a?"cursor-not-allowed opacity-75":""}`,onClick:c,disabled:a,children:[a?e.jsx(g,{spin:!0}):e.jsx(y,{}),a?" SUBMITTING...":" SUBMIT"]})})]})]})}export{te as default};
