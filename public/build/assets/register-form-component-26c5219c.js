import{h as p,U as y,r as g,j as e,e as v}from"./app-7aeeab1b.js";import{m as n}from"./index-7dc2a8fc.js";function b(){try{return p.get("/api/video_quiz")}catch{}}function j(t){try{return p.post("/api/video_quiz",t)}catch{}}function _(t){return async function(a,o){await j(t)}}function z(){return async function(t,a){const o=await b();t(y.actions.setVideoQuizzes(o.data.result))}}function w({type:t,onSubmitSuccess:a}){const[o,r]=g.useState(!1),[s,l]=g.useState({emp_id:"",name:"",email:"",type:t||""}),h=async i=>{var u,m,c,d,f;i.preventDefault(),r(!0);try{await v.dispatch(_({...s,type:t})),n.success("You may now proceed!"),a&&a()}catch(x){((u=x.response)==null?void 0:u.status)===422&&((f=(d=(c=(m=x.response)==null?void 0:m.data)==null?void 0:c.errors)==null?void 0:d.emp_id)!=null&&f.includes("duplicate"))?n.warning("You've already taken this training."):n.error("Failed to add information. Please try again.")}finally{r(!1)}};return e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Please Fillout the Form"})}),e.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900",children:"Name"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:i=>l({...s,name:i.target.value}),value:s.name,name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp_id",className:"block text-sm/6 font-medium text-gray-900",children:"Employee ID"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:i=>l({...s,emp_id:i.target.value}),value:s.emp_id,name:"emp_id",type:"number",required:!0,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:i=>l({...s,email:i.target.value}),value:s.email,name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:o?"Submitting...":"Proceed"})})]})})]})}const q=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));export{w as R,z as g,q as r};
