import{r,a as J,u as P,j as e,e as q,A as L,p}from"./app-53800af0.js";import V from"./working-experience-section-3b36c35b.js";import{d as G}from"./applicant-thunk-d02015cf.js";import{p as y,r as B,c as R,b as U}from"./barangay-94589600.js";import{h as W}from"./moment-a9aaa855.js";import l from"./input-45ed2b67.js";import x from"./select-604b1d2f.js";import Y from"./upload-resume-section-f314ec8b.js";import{m as N}from"./index-e55e0426.js";import{L as H}from"./LoadingOutlined-f4c9039c.js";import{S as $}from"./SendOutlined-ee27e773.js";import"./CloseOutlined-dffafb2e.js";import"./presets-f9ced865.js";import"./AntdIcon-9bec888f.js";import"./PlusOutlined-5d261c48.js";import"./applicant-record-service-9a8b3d32.js";import"./applicant-final-service-a1d04fab.js";import"./Dragger-6d695c70.js";import"./genStyleUtils-24e0bd8b.js";import"./asyncToGenerator-997aeb77.js";import"./pickAttrs-cea8f5df.js";import"./useId-c38b379e.js";import"./useZIndex-21a3b2dc.js";import"./collapse-97de76d4.js";import"./fade-87739b6a.js";import"./omit-644b1847.js";import"./useForceUpdate-bf494b74.js";import"./Compact-557bda23.js";import"./useSize-db9528a4.js";import"./button-de2f4aa2.js";import"./UnstableContext-3edd410f.js";import"./DeleteOutlined-e8ee62fe.js";import"./EyeOutlined-dd1f5d49.js";import"./CheckCircleFilled-3a8fd246.js";import"./CheckOutlined-c02da288.js";import"./CloseCircleFilled-52869652.js";import"./index-3f35e754.js";import"./ContextIsolator-9e5e7ab1.js";import"./useLocale-62dc9c4f.js";import"./InboxOutlined-eade2d3a.js";import"./XMarkIcon-5a65842f.js";import"./InfoCircleFilled-22f26754.js";import"./KeyCode-22a63b34.js";function Le(){r.useState(!1);const[K,w]=r.useState(0),{applicantForm:a}=J(s=>s.applicants),[C,S]=r.useState([]),[k,_]=r.useState([]),[I,F]=r.useState([]),[n,A]=r.useState({});console.log("applicants",a);const c=P();r.useEffect(()=>{(async()=>{w(0)})()},[]);function M(s){const i=new Date(s),o=new Date;let d=o.getFullYear()-i.getFullYear();const v=o.getMonth()-i.getMonth();return(v<0||v===0&&o.getDate()<i.getDate())&&d--,d??0}async function g(s){j(!0),M(a.dob??new Date);const i=new FormData;i.append("files",b??""),i.append("site",a.site??""),i.append("fname",a.fname??""),i.append("mname",a.mname??""),i.append("lname",a.lname??""),i.append("suffix",a.suffix??""),i.append("dob",a.dob??W().format("YYYY-MM-DD")),i.append("religion",a.religion??""),i.append("email",a.email??""),i.append("nationality",a.nationality??""),i.append("phone",a.phone??""),i.append("mmname",a.mmname??""),i.append("ffname",a.ffname??""),i.append("educ",a.educ??""),i.append("courset",a.courset??""),i.append("hired",a.hired??""),i.append("lot",a.lot??""),i.append("sss",a.sss??""),i.append("pagibig",a.pagibig??""),i.append("tin",a.tin??""),i.append("philh",a.philh??""),i.append("ename",a.ename??""),i.append("eaddress",a.eaddress??""),i.append("relationship",a.relationship??""),i.append("ephone",a.ephone??""),i.append("marital",a.marital??""),i.append("gender",a.gender??""),i.append("region",a.region??""),i.append("city",a.city??""),i.append("brgy",a.brgy??""),i.append("province",a.province??""),Array.isArray(a.work_experience)&&a.work_experience.forEach(o=>{i.append("work_experience[]",JSON.stringify({company:o.company,position:o.position,started_at:o.started_at,end_at:o.end_at}))});try{const o=await q.dispatch(G(i));o.status===200?(N.success("Application has been submitted successfully"),L.visit("/online_application")):(A(o.response.data.errors),N.error("Failed to submit Application/Application Exist"))}catch(o){console.error(o)}finally{j(!1)}}console.log("province",y);const[h,u]=r.useState(!1),[E,f]=r.useState(!1),[b,D]=r.useState(null),[m,j]=r.useState(null),T=s=>{u(s.target.checked),f(!1)},O=s=>{f(s.target.checked),u(!1)};function t(s){if(s.target.name=="region"){const i=JSON.parse(s.target.value),o=y.filter(d=>d.region_code===i.region_code);S(o),c(p({...a,[s.target.name]:i.name}))}else if(s.target.name=="province"){const i=JSON.parse(s.target.value),o=R.filter(d=>d.province_code===i.province_code);_(o),c(p({...a,[s.target.name]:i.name}))}else if(s.target.name=="city"){const i=JSON.parse(s.target.value),o=U.filter(d=>d.city_code===i.city_code);F(o),c(p({...a,[s.target.name]:i.name}))}else c(p({...a,[s.target.name]:s.target.value}))}return console.log("ssssssssss",a),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto px-10 flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"ONLINE APPLICATION FORM"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:g,children:[e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 mt-4 text-gray-900",children:"Site Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("select",{onChange:s=>t(s),name:"site",className:`border p-2.5 rounded-md w-full ${n!=null&&n.site?"border-red-500":""}`,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Site"}),e.jsx("option",{children:"San Carlos"}),e.jsx("option",{children:"Carcar"})]}),(n==null?void 0:n.site)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]})})]}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 mt-6",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsx(l,{onChange:t,value:a.fname??"",required:!!(n!=null&&n.fname),name:"fname",label:"First Name",type:"text",errorMessage:n==null?void 0:n.fname}),e.jsx(l,{onChange:t,value:a.mname??"",required:!!(n!=null&&n.mname),name:"mname",label:"Middle Name",type:"text"}),e.jsx(l,{onChange:t,value:a.lname??"",required:!!(n!=null&&n.lname),name:"lname",label:"Last Name",type:"text",errorMessage:n==null?void 0:n.lname}),e.jsx("div",{children:e.jsxs("select",{onChange:t,name:"suffix",className:"border p-2.5 rounded-md w-full",defaultValue:"",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Suffix"}),e.jsx("option",{}),e.jsx("option",{children:"Sr."}),e.jsx("option",{children:"Jr."}),e.jsx("option",{children:"II"}),e.jsx("option",{children:"III"}),e.jsx("option",{children:"IV"}),e.jsx("option",{children:"V"}),e.jsx("option",{children:"VI"}),e.jsx("option",{children:"VII"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("select",{onChange:t,name:"gender",className:`border p-2.5 rounded-md w-full ${n!=null&&n.gender?"border-red-500":""}`,defaultValue:"",children:[e.jsx("option",{disabled:!0,value:"",children:"  Gender"}),e.jsx("option",{}),e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"})]}),(n==null?void 0:n.gender)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx(l,{onChange:t,value:a.dob??"",required:!!(n!=null&&n.dob),name:"dob",label:"Date of Birth",type:"date",errorMessage:n==null?void 0:n.dob}),e.jsx(l,{onChange:t,value:a.email??"",required:!!(n!=null&&n.email),name:"email",label:"Email",type:"email",errorMessage:n==null?void 0:n.email}),e.jsx(l,{onChange:t,value:a.phone??"",required:!!(n!=null&&n.phone),name:"phone",label:"Phone Number",type:"number",errorMessage:n==null?void 0:n.phone})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("select",{onChange:t,name:"marital",className:`border p-2.5 rounded-md w-full ${n!=null&&n.marital?"border-red-500":""}`,defaultValue:"",children:[e.jsx("option",{disabled:!0,value:"",children:"  Marital Status"}),e.jsx("option",{children:"Single"}),e.jsx("option",{children:"Married"}),e.jsx("option",{children:"Widowed"}),e.jsx("option",{children:"Divorced"})]}),(n==null?void 0:n.marital)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx(l,{onChange:t,value:a.religion??"",required:!!(n!=null&&n.religion),name:"religion",label:"Religion",type:"text"}),e.jsx(l,{onChange:t,value:a.nationality??"",required:!!(n!=null&&n.nationality),name:"nationality",label:"Nationality",type:"text"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(l,{onChange:t,value:a.mmname??"",name:"mmname",label:"Mother’s Maiden Name",type:"text"}),e.jsx(l,{onChange:t,value:a.ffname??"",name:"ffname",label:"Father’s Full Name",type:"text"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{children:e.jsxs("select",{name:"educ",className:"border p-2.5 rounded-md w-full",onChange:t,defaultValue:"",children:[e.jsx("option",{disabled:!0,value:"",children:"  Highest Educational Attainment"}),e.jsx("option",{children:"Elementary Undergraduate"}),e.jsx("option",{children:"Elementary Graduate"}),e.jsx("option",{children:"Highschool/K-12 Undergraduate"}),e.jsx("option",{children:"Highschool/K-12 Graduate"}),e.jsx("option",{children:"College Level"}),e.jsx("option",{children:"College Graduate"}),e.jsx("option",{children:"Vocational Graduate"}),e.jsx("option",{children:"Masteral Degree"}),e.jsx("option",{children:"Doctoral Degree"})]})}),e.jsx(l,{onChange:t,value:a.courset??"",name:"courset",label:"Course Taken",type:"text"})]})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 w-full",children:[e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:t,options:B.map(s=>({label:s.region_name,value:JSON.stringify({name:s.region_name,region_code:s.region_code})})),name:"region",label:"Region"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:t,options:C.map(s=>({label:s.province_name,value:JSON.stringify({name:s.province_name,province_code:s.province_code})})),name:"province",label:"Province"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:t,options:k.map(s=>({label:s.city_name,value:JSON.stringify({name:s.city_name,city_code:s.city_code})})),name:"city",label:"City/Municipality"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:t,options:I.map(s=>({label:s.brgy_name,value:s.brgy_name})),name:"brgy",label:"Barangay"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(l,{onChange:t,value:a.lot??"",name:"lot",label:"House/Lot No., Street, Purok/Sitio",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 mt-9",children:"Government ID Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(l,{onChange:t,value:a.sss??"",name:"sss",label:"SSS No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(l,{onChange:t,value:a.pagibig??"",name:"pagibig",label:"Pag-IBIG No.",type:"text"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(l,{onChange:t,value:a.tin??"",name:"tin",label:"Tin No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(l,{onChange:t,value:a.philh??"",name:"philh",label:"PhilHealth No.",type:"text"})})]}),e.jsxs("div",{className:"flex items-center mb-4 mt-6",children:[e.jsx("input",{id:"with-working-experience-checkbox",type:"checkbox",value:"",checked:h,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  "}),e.jsx("label",{htmlFor:"with-working-experience-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"with Working Experience"})})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{id:"first-time-jobseeker-checkbox",type:"checkbox",value:"",checked:E,onChange:O,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  ",disabled:h}),e.jsx("label",{htmlFor:"first-time-jobseeker-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"First Time Jobseeker"})})]}),h&&e.jsx(V,{}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900 mt-7",children:"Emergency Contact Information"}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(l,{onChange:t,value:a.ename??"",name:"ename",label:"Emergency Contact Fullname",type:"text"})}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(l,{onChange:t,value:a.eaddress??"",name:"eaddress",label:"Address",type:"text"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(l,{onChange:t,value:a.relationship??"",name:"relationship",label:"Relationship",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(l,{onChange:t,value:a.ephone??"",name:"ephone",label:"Contact No.",type:"number"})})]}),e.jsx(Y,{files:b,setFiles:D}),e.jsx("div",{className:"flex justify-end mt-2.5",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${m?"cursor-not-allowed opacity-75":""}`,onClick:g,disabled:m,children:[m?e.jsx(H,{spin:!0}):e.jsx($,{}),m?" SUBMITTING...":" SUBMIT APPLICATION"]})})]})]})})})})}export{Le as default};
