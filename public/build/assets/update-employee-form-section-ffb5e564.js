import{r as h,j as e,s as m}from"./store-a55f681c.js";import E from"./input-5c560fb4.js";import{u as d}from"./app-2b4e2525.js";import M from"./update-employee-address-section-74fb0e08.js";import{b as T}from"./applicant-thunk-ec024b39.js";import{g as L}from"./final-rate-thunk-24c28fd3.js";import{g as P}from"./employee-section-thunk-fada38ca.js";import{m as F}from"./index-a9b9aab0.js";import{L as H}from"./UnstableContext-6fcf76c5.js";import"./barangay-94589600.js";import"./select-ab94b8d3.js";import"./index-192bbe31.js";import"./warning-53117f39.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./shadow-0179b362.js";import"./index-62928ae1.js";import"./useId-ed43986a.js";import"./index-bcc69c18.js";import"./createSuper-f29e89b0.js";import"./genStyleUtils-a7424da4.js";import"./useSize-aaf01847.js";import"./Compact-5e8d7c79.js";import"./ContextIsolator-04fb1ac5.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./useZIndex-fb3092c3.js";import"./AntdIcon-d7012edb.js";import"./index-39b97e3b.js";import"./CheckCircleFilled-aa27478c.js";import"./CloseCircleFilled-c59cb59e.js";import"./InfoCircleFilled-de35a45c.js";import"./button-f23c5a7b.js";import"./omit-644b1847.js";import"./CloseOutlined-adb2771a.js";import"./index-f7c74257.js";import"./KeyCode-99629795.js";import"./pickAttrs-36913342.js";import"./index-349f8d3e.js";import"./fade-52843f21.js";import"./useClosable-68ab5813.js";import"./Skeleton-aa5eb76b.js";import"./useLocale-5a99632b.js";import"./PurePanel-419731ae.js";import"./applicant-record-service-47d7feef.js";import"./applicant-final-service-783dc1ef.js";import"./employee-service-fab2ebc4.js";function Ee(){const{employee:a}=d(i=>i.employees),{applicant:s}=d(i=>i.final_rate),{job_positions:_}=d(i=>i.job_positions),{departments:S}=d(i=>i.departments),{accounts:D}=d(i=>i.accounts),{user:n}=d(i=>i.app),{users:I}=d(i=>i.app),[c,j]=h.useState(null),[l,t]=h.useState({}),b=window.location.pathname.split("/")[5],A=window.location.pathname.split("/")[6];h.useEffect(()=>{var i,r,u,x,p,f,v,N,w,C,y;t({site:(s==null?void 0:s.site)||"",app_id:s==null?void 0:s.app_id,id:s==null?void 0:s.id,emp_id:((i=s==null?void 0:s.employee)==null?void 0:i.emp_id)||"",fname:(s==null?void 0:s.fname)||"",mname:(s==null?void 0:s.mname)||"",lname:(s==null?void 0:s.lname)||"",suffix:(s==null?void 0:s.suffix)||"",gender:(s==null?void 0:s.gender)||"",dob:(s==null?void 0:s.dob)||"",email:(s==null?void 0:s.email)||"",eogs:(a==null?void 0:a.eogs)||"",phone:(s==null?void 0:s.phone)||"",marital:(s==null?void 0:s.marital)||"",religion:(s==null?void 0:s.religion)||"",nationality:(s==null?void 0:s.nationality)||"",mmname:(s==null?void 0:s.mmname)||"",ffname:(s==null?void 0:s.ffname)||"",educ:(s==null?void 0:s.educ)||"",courset:(s==null?void 0:s.courset)||"",position:((u=(r=s==null?void 0:s.joboffer)==null?void 0:r.find(o=>o.status==="Hired"))==null?void 0:u.jobPos)||(a==null?void 0:a.position)||"",dept:((p=(x=s==null?void 0:s.joboffer)==null?void 0:x.find(o=>o.status==="Hired"))==null?void 0:p.department)||((f=a==null?void 0:a.dept)==null?void 0:f.dept)||"",account:((N=(v=s==null?void 0:s.joboffer)==null?void 0:v.find(o=>o.status==="Hired"))==null?void 0:N.account)||(a==null?void 0:a.account)||"",sup_id:((w=s==null?void 0:s.employee)==null?void 0:w.sup_id)||(a==null?void 0:a.sup_id)||"",hired:((C=s==null?void 0:s.employee)==null?void 0:C.hired)||(a==null?void 0:a.hired)||"",status:((y=s==null?void 0:s.employee)==null?void 0:y.status)||(a==null?void 0:a.status)||"",sss:(s==null?void 0:s.sss)||"",tin:(s==null?void 0:s.tin)||"",pagibig:(s==null?void 0:s.pagibig)||"",philh:(s==null?void 0:s.philh)||"",ename:(s==null?void 0:s.ename)||"",eaddress:(s==null?void 0:s.eaddress)||"",relationship:(s==null?void 0:s.relationship)||"",ephone:(s==null?void 0:s.ephone)||""})},[s,a]),console.log("emploeesss",s);async function g(i){i.preventDefault(),j(!0);try{await m.dispatch(T({...l,employee_id:A,fname:l.fname,mname:l.mname,lname:l.lname,suffix:l.suffix})),await m.dispatch(L(b)),await m.dispatch(P(b)),F.success("Updated Successfully")}catch(r){F.error(r.message||"Error updating changes")}finally{j(!1)}}return console.log("applicant",s),e.jsxs("div",{children:[e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"Personal Information"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:g,children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  text-center"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Site"})}),e.jsxs("select",{value:(l==null?void 0:l.site)??"",onChange:i=>t({...l,site:i.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Site"}),e.jsx("option",{value:"San Carlos",children:" San Carlos"}),e.jsx("option",{value:"Carcar",children:" Carcar"}),e.jsx("option",{value:"Cebu",children:" Cebu"})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employee No."})}),e.jsx("input",{type:"text",onChange:i=>t({...l,emp_id:i.target.value}),value:(l==null?void 0:l.emp_id)??""})]})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsxs("div",{className:"flex flex-col w-full mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name"})}),e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx("input",{type:"text",onChange:i=>t({...l,fname:i.target.value}),value:l==null?void 0:l.fname,name:"fname",className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:i=>t({...l,mname:i.target.value}),value:l==null?void 0:l.mname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:i=>t({...l,lname:i.target.value}),value:l==null?void 0:l.lname,className:"border p-2 rounded w-full"}),e.jsxs("select",{value:(l==null?void 0:l.suffix)??"",onChange:i=>t({...l,suffix:i.target.value}),className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.suffix}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Gender"})}),e.jsxs("select",{value:(l==null?void 0:l.gender)??"",onChange:i=>t({...l,gender:i.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.gender}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date of Birth"})}),e.jsx("input",{type:"date",value:(l==null?void 0:l.dob)??"",onChange:i=>t({...l,dob:i.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Personal Email"})}),e.jsx("input",{type:"email",value:(l==null?void 0:l.email)??"",onChange:i=>t({...l,email:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Phone Number"})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.phone)??"",onChange:i=>t({...l,phone:i.target.value}),className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Marital Status"})}),e.jsxs("select",{value:(l==null?void 0:l.marital)??"",onChange:i=>t({...l,marital:i.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.marital}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Religion"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.religion)??"",onChange:i=>t({...l,religion:i.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Company Email"})}),e.jsx("input",{type:"email",value:(l==null?void 0:l.eogs)??"",onChange:i=>t({...l,eogs:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Nationality"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.nationality)??"",onChange:i=>t({...l,nationality:i.target.value}),className:"border p-2 rounded w-full"})]})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Mother's Maiden Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.mmname)??"",onChange:i=>t({...l,mmname:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Father's Full Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ffname)??"",onChange:i=>t({...l,ffname:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Highest Educational Attainment"})}),e.jsxs("select",{value:(l==null?void 0:l.educ)??"",onChange:i=>t({...l,educ:i.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.educ}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Course Taken (Only if Applicable)"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.courset)??"",onChange:i=>t({...l,courset:i.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Job Position"})}),e.jsxs("select",{value:(l==null?void 0:l.position)??"",onChange:i=>t({...l,position:i.target.value}),name:"position",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Job Position"}),_.filter(i=>(n==null?void 0:n.role_id)===1||(n==null?void 0:n.role_id)===2||i.site===(n==null?void 0:n.site)).map((i,r)=>e.jsx("option",{value:i.jPosition,children:i.jPosition},r))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department"})}),e.jsxs("select",{value:(l==null?void 0:l.dept)??"",onChange:i=>t({...l,dept:i.target.value}),name:"dept",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Department"}),S.filter(i=>(n==null?void 0:n.role_id)===1||(n==null?void 0:n.role_id)===2||i.site===(n==null?void 0:n.site)).map((i,r)=>e.jsx("option",{value:i.dept,children:i.dept},r))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account (If Applicable)"})}),e.jsxs("select",{value:(l==null?void 0:l.account)??"",onChange:i=>t({...l,account:i.target.value}),name:"account",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Account (If Applicable)"}),e.jsx("option",{value:"",children:"--"}),D.map((i,r)=>e.jsx("option",{value:i.acc,children:i.acc},r))]})]})]})})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Supervisor"})}),e.jsxs("select",{value:(l==null?void 0:l.sup_id)??"",onChange:i=>t({...l,sup_id:i.target.value}),name:"sup_id",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Supervisor"}),I.filter(i=>(!(n!=null&&n.site)||i.site===n.site||!i.site)&&["Manager","Account Manager","Supervisor","Team Leader","Director","CEO","HR Lead","Accounting Head","TQA Manager","TQA Director","IT Manager","I.T Manager","IT Lead","I.T Lead","Compliance Officer","Site Admin","Talent Acquisition Manager","HR Director","Director of Operations","Operations Manager","Site Director","Site Manager","Director, Learning Leadership & Development","Director, Accounting & Finance","Director, Marketing & Communications","Director, Quality & Training"].includes(i.position)).sort((i,r)=>{const u=`${i.employee_fname} ${i.employee_lname}`.toLowerCase(),x=`${r.employee_fname} ${r.employee_lname}`.toLowerCase();return u.localeCompare(x)}).map(i=>e.jsxs("option",{value:i.id,children:[i.employee_fname," ",i.employee_lname]},i.id))]})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{})}),e.jsx(E,{value:(l==null?void 0:l.hired)??"",onChange:i=>t({...l,hired:i.target.value}),name:"hired",label:"Hired Date",type:"date"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Status"})}),e.jsxs("select",{value:(l==null?void 0:l.status)??"",onChange:i=>t({...l,status:i.target.value}),name:"status",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:a==null?void 0:a.status}),e.jsx("option",{children:" Probationary"}),e.jsx("option",{children:" Regular"}),e.jsx("option",{children:" Contractual"}),e.jsx("option",{children:" Trainee"}),e.jsx("option",{children:" Fallout"}),e.jsx("option",{children:" Fixed Term"})]})]})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsx("div",{className:"flex flex-1 gap-1 mb-4 w-full",children:e.jsx("div",{className:"flex flex-col w-full",children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:s==null?void 0:s.caddress,className:"border p-2 rounded w-full",readOnly:!0}),e.jsx(M,{})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"SSS No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.sss)??"",onChange:i=>t({...l,sss:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Pag-IBIG No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.pagibig)??"",onChange:i=>t({...l,pagibig:i.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Tin No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.tin)??"",onChange:i=>t({...l,tin:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Philhealth No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.philh)??"",onChange:i=>t({...l,philh:i.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Emergency Contact Information"}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Emergency Contact Fullname"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ename)??"",onChange:i=>t({...l,ename:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Address"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.eaddress)??"",onChange:i=>t({...l,eaddress:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Relationship"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.relationship)??"",onChange:i=>t({...l,relationship:i.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Contact No."})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.ephone)??"",onChange:i=>t({...l,ephone:i.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex gap-2 justify-end items-center mt-6",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg ${c?"cursor-not-allowed opacity-75":""}`,onClick:g,disabled:c,children:[c?e.jsx(H,{spin:!0}):e.jsx(e.Fragment,{}),c?" UPDATING...":"  Save Changes"]})})]})]})}export{Ee as default};
