import{b as x,_ as u,a as B,d as Q,f as ee}from"./warning-410ed9fa.js";import{b as be,P as Ce,a as he}from"./useId-2f1b646b.js";import{r as o,R as f}from"./store-aa341ee4.js";import{K as ae}from"./KeyCode-128ad907.js";import{p as ie}from"./pickAttrs-2b45bfff.js";import{a as le}from"./index-e721ff4f.js";import{_ as te}from"./typeof-7fd5df1e.js";import{j as ye,g as Se,u as i,r as pe,h as $e,_ as xe,m as we}from"./genStyleUtils-cd1daa3d.js";import{g as Re}from"./index-4cf046b4.js";import{i as Ne}from"./fade-391301ea.js";var de=o.createContext({});function oe(e,a,t){var n=a;return!n&&t&&(n="".concat(e,"-").concat(t)),n}function ne(e,a){var t=e["page".concat(a?"Y":"X","Offset")],n="scroll".concat(a?"Top":"Left");if(typeof t!="number"){var r=e.document;t=r.documentElement[n],typeof t!="number"&&(t=r.body[n])}return t}function Ee(e){var a=e.getBoundingClientRect(),t={left:a.left,top:a.top},n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ne(r),t.top+=ne(r,!0),t}const Me=o.memo(function(e){var a=e.children;return a},function(e,a){var t=a.shouldUpdate;return!t});var Be={width:0,height:0,overflow:"hidden",outline:"none"},Ie={outline:"none"},ze=f.forwardRef(function(e,a){var t=e.prefixCls,n=e.className,r=e.style,g=e.title,c=e.ariaId,v=e.footer,l=e.closable,b=e.closeIcon,y=e.onClose,h=e.children,C=e.bodyStyle,w=e.bodyProps,p=e.modalRender,R=e.onMouseDown,N=e.onMouseUp,O=e.holderRef,P=e.visible,I=e.forceRender,S=e.width,z=e.height,d=e.classNames,m=e.styles,U=f.useContext(de),G=U.panel,q=ye(O,G),H=o.useRef(),A=o.useRef();f.useImperativeHandle(a,function(){return{focus:function(){var $;($=H.current)===null||$===void 0||$.focus({preventScroll:!0})},changeActive:function($){var X=document,V=X.activeElement;$&&V===A.current?H.current.focus({preventScroll:!0}):!$&&V===H.current&&A.current.focus({preventScroll:!0})}}});var _={};S!==void 0&&(_.width=S),z!==void 0&&(_.height=z);var E=v?f.createElement("div",{className:x("".concat(t,"-footer"),d==null?void 0:d.footer),style:u({},m==null?void 0:m.footer)},v):null,M=g?f.createElement("div",{className:x("".concat(t,"-header"),d==null?void 0:d.header),style:u({},m==null?void 0:m.header)},f.createElement("div",{className:"".concat(t,"-title"),id:c},g)):null,T=o.useMemo(function(){return te(l)==="object"&&l!==null?l:l?{closeIcon:b??f.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[l,b,t]),D=ie(T,!0),L=te(l)==="object"&&l.disabled,K=l?f.createElement("button",B({type:"button",onClick:y,"aria-label":"Close"},D,{className:"".concat(t,"-close"),disabled:L}),T.closeIcon):null,W=f.createElement("div",{className:x("".concat(t,"-content"),d==null?void 0:d.content),style:m==null?void 0:m.content},K,M,f.createElement("div",B({className:x("".concat(t,"-body"),d==null?void 0:d.body),style:u(u({},C),m==null?void 0:m.body)},w),h),E);return f.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":g?c:null,"aria-modal":"true",ref:q,style:u(u({},r),_),className:x(t,n),onMouseDown:R,onMouseUp:N},f.createElement("div",{ref:H,tabIndex:0,style:Ie},f.createElement(Me,{shouldUpdate:P||I},p?p(W):W)),f.createElement("div",{tabIndex:0,ref:A,style:Be}))}),se=o.forwardRef(function(e,a){var t=e.prefixCls,n=e.title,r=e.style,g=e.className,c=e.visible,v=e.forceRender,l=e.destroyOnClose,b=e.motionName,y=e.ariaId,h=e.onVisibleChanged,C=e.mousePosition,w=o.useRef(),p=o.useState(),R=Q(p,2),N=R[0],O=R[1],P={};N&&(P.transformOrigin=N);function I(){var S=Ee(w.current);O(C&&(C.x||C.y)?"".concat(C.x-S.left,"px ").concat(C.y-S.top,"px"):"")}return o.createElement(le,{visible:c,onVisibleChanged:h,onAppearPrepare:I,onEnterPrepare:I,forceRender:v,motionName:b,removeOnLeave:l,ref:w},function(S,z){var d=S.className,m=S.style;return o.createElement(ze,B({},e,{ref:a,title:n,ariaId:y,prefixCls:t,holderRef:z,style:u(u(u({},m),r),P),className:x(g,d)}))})});se.displayName="Content";var Te=function(a){var t=a.prefixCls,n=a.style,r=a.visible,g=a.maskProps,c=a.motionName,v=a.className;return o.createElement(le,{key:"mask",visible:r,motionName:c,leavedClassName:"".concat(t,"-mask-hidden")},function(l,b){var y=l.className,h=l.style;return o.createElement("div",B({ref:b,style:u(u({},h),n),className:x("".concat(t,"-mask"),y,v)},g))})},Pe=function(a){var t=a.prefixCls,n=t===void 0?"rc-dialog":t,r=a.zIndex,g=a.visible,c=g===void 0?!1:g,v=a.keyboard,l=v===void 0?!0:v,b=a.focusTriggerAfterClose,y=b===void 0?!0:b,h=a.wrapStyle,C=a.wrapClassName,w=a.wrapProps,p=a.onClose,R=a.afterOpenChange,N=a.afterClose,O=a.transitionName,P=a.animation,I=a.closable,S=I===void 0?!0:I,z=a.mask,d=z===void 0?!0:z,m=a.maskTransitionName,U=a.maskAnimation,G=a.maskClosable,q=G===void 0?!0:G,H=a.maskStyle,A=a.maskProps,_=a.rootClassName,E=a.classNames,M=a.styles,T=o.useRef(),D=o.useRef(),L=o.useRef(),K=o.useState(c),W=Q(K,2),j=W[0],$=W[1],X=be();function V(){ee(D.current,document.activeElement)||(T.current=document.activeElement)}function ce(){if(!ee(D.current,document.activeElement)){var s;(s=L.current)===null||s===void 0||s.focus()}}function me(s){if(s)ce();else{if($(!1),d&&T.current&&y){try{T.current.focus({preventScroll:!0})}catch{}T.current=null}j&&(N==null||N())}R==null||R(s)}function Y(s){p==null||p(s)}var F=o.useRef(!1),Z=o.useRef(),ue=function(){clearTimeout(Z.current),F.current=!0},fe=function(){Z.current=setTimeout(function(){F.current=!1})},k=null;q&&(k=function(J){F.current?F.current=!1:D.current===J.target&&Y(J)});function ge(s){if(l&&s.keyCode===ae.ESC){s.stopPropagation(),Y(s);return}c&&s.keyCode===ae.TAB&&L.current.changeActive(!s.shiftKey)}o.useEffect(function(){c&&($(!0),V())},[c]),o.useEffect(function(){return function(){clearTimeout(Z.current)}},[]);var ve=u(u(u({zIndex:r},h),M==null?void 0:M.wrapper),{},{display:j?null:"none"});return o.createElement("div",B({className:x("".concat(n,"-root"),_)},ie(a,{data:!0})),o.createElement(Te,{prefixCls:n,visible:d&&c,motionName:oe(n,m,U),style:u(u({zIndex:r},H),M==null?void 0:M.mask),maskProps:A,className:E==null?void 0:E.mask}),o.createElement("div",B({tabIndex:-1,onKeyDown:ge,className:x("".concat(n,"-wrap"),C,E==null?void 0:E.wrapper),ref:D,onClick:k,style:ve},w),o.createElement(se,B({},a,{onMouseDown:ue,onMouseUp:fe,ref:L,closable:S,ariaId:X,prefixCls:n,visible:c&&j,onClose:Y,onVisibleChanged:me,motionName:oe(n,O,P)}))))},He=function(a){var t=a.visible,n=a.getContainer,r=a.forceRender,g=a.destroyOnClose,c=g===void 0?!1:g,v=a.afterClose,l=a.panelRef,b=o.useState(t),y=Q(b,2),h=y[0],C=y[1],w=o.useMemo(function(){return{panel:l}},[l]);return o.useEffect(function(){t&&C(!0)},[t]),!r&&c&&!h?null:o.createElement(de.Provider,{value:w},o.createElement(Ce,{open:t||r||h,autoDestroy:!1,getContainer:n,autoLock:t||h},o.createElement(Pe,B({},a,{destroyOnClose:c,afterClose:function(){v==null||v(),C(!1)}}))))};He.displayName="Dialog";function re(e){return{position:e,inset:0}}const De=e=>{const{componentCls:a,antCls:t}=e;return[{[`${a}-root`]:{[`${a}${t}-zoom-enter, ${a}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${a}${t}-zoom-leave ${a}-content`]:{pointerEvents:"none"},[`${a}-mask`]:Object.assign(Object.assign({},re("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${a}-hidden`]:{display:"none"}}),[`${a}-wrap`]:Object.assign(Object.assign({},re("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${a}-root`]:Ne(e)}]},Oe=e=>{const{componentCls:a}=e;return[{[`${a}-root`]:{[`${a}-wrap-rtl`]:{direction:"rtl"},[`${a}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[a]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[a]:{maxWidth:"calc(100vw - 16px)",margin:`${i(e.marginXS)} auto`},[`${a}-centered`]:{[a]:{flex:1}}}}},{[a]:Object.assign(Object.assign({},pe(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${i(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${a}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${a}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${a}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:i(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},$e(e)),[`${a}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${i(e.borderRadiusLG)} ${i(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${a}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${i(e.margin)} auto`}},[`${a}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${a}-open`]:{overflow:"hidden"}})},{[`${a}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${a}-content,
          ${a}-body,
          ${a}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${a}-confirm-body`]:{marginBottom:"auto"}}}]},Ae=e=>{const{componentCls:a}=e;return{[`${a}-root`]:{[`${a}-wrap-rtl`]:{direction:"rtl",[`${a}-confirm-body`]:{direction:"rtl"}}}}},_e=e=>{const{componentCls:a}=e,t=Re(e);delete t.xs;const n=Object.keys(t).map(r=>({[`@media (min-width: ${i(t[r])})`]:{width:`var(--${a.replace(".","")}-${r}-width)`}}));return{[`${a}-root`]:{[a]:[{width:`var(--${a.replace(".","")}-xs-width)`}].concat(xe(n))}}},Le=e=>{const a=e.padding,t=e.fontSizeHeading5,n=e.lineHeightHeading5;return we(e,{modalHeaderHeight:e.calc(e.calc(n).mul(t).equal()).add(e.calc(a).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},We=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${i(e.paddingMD)} ${i(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${i(e.padding)} ${i(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${i(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${i(e.paddingXS)} ${i(e.padding)}`:0,footerBorderTop:e.wireframe?`${i(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${i(e.borderRadiusLG)} ${i(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${i(e.padding*2)} ${i(e.padding*2)} ${i(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Je=Se("Modal",e=>{const a=Le(e);return[Oe(a),Ae(a),De(a),he(a,"zoom"),_e(a)]},We,{unitless:{titleLineHeight:!0}});export{He as D,ze as P,We as a,De as g,Le as p,Je as u};
