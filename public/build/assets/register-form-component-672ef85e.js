import{r as f,j as e,s as h}from"./store-be97c391.js";import{c as y}from"./video-quiz-thunk-2c75a0af.js";import{m as o}from"./index-685a6159.js";import"./genStyleUtils-83711dd6.js";import"./typeof-7fd5df1e.js";import"./warning-ac26fe93.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-f0f6e7f3.js";import"./AntdIcon-82eb93c5.js";import"./app-da5b0f7a.js";import"./UnstableContext-b8c920e6.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-f89d34a4.js";import"./CloseCircleFilled-e2e4fb9f.js";import"./InfoCircleFilled-ab1820b1.js";import"./KeyCode-18fe19fc.js";import"./pickAttrs-049dda3d.js";import"./useZIndex-d02e6d6e.js";import"./CloseOutlined-f4fef2dd.js";function H({type:l,onSubmitSuccess:a}){const[m,r]=f.useState(!1),[t,s]=f.useState({emp_id:"",name:"",email:"",type:l||""}),g=async i=>{var n,u,d,c,p;i.preventDefault(),r(!0);try{await h.dispatch(y({...t,type:l})),o.success("You may now proceed!"),a&&a()}catch(x){((n=x.response)==null?void 0:n.status)===422&&((p=(c=(d=(u=x.response)==null?void 0:u.data)==null?void 0:d.errors)==null?void 0:c.emp_id)!=null&&p.includes("duplicate"))?o.warning("You've already taken this training."):o.error("Failed to add information. Please try again.")}finally{r(!1)}};return e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Please Fillout the Form"})}),e.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900",children:"Fullname"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:i=>s({...t,name:i.target.value}),value:t.name,name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp_id",className:"block text-sm/6 font-medium text-gray-900",children:"Employee ID"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:i=>s({...t,emp_id:i.target.value}),value:t.emp_id,name:"emp_id",type:"number",required:!0,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:i=>s({...t,email:i.target.value}),value:t.email,name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m,className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:m?"Submitting...":"Proceed"})})]})})]})}export{H as default};
