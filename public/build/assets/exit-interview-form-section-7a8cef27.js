import{r as a,k,s as o,j as e}from"./store-62f7920c.js";import{u as c,a as M}from"./app-a7a1196b.js";import{s as P}from"./exit-interview-thunk-d3e1f0d3.js";import V from"./exit-factors-section-0873bdfc.js";import Y from"./rate-job-section-84eb721d.js";import K from"./rate-sup-worker-section-51e8acf8.js";import{g as L}from"./employee-section-thunk-cbdecbed.js";import{a as X}from"./app-thunk-5c54ad7f.js";import q from"./exit-interview-result-section-e42cf0b5.js";import{M as D}from"./index-8ac9ba55.js";import"./exit-interview-service-c3e72438.js";import"./checkbox-input-component-e3bdccf2.js";import"./table-row-component-93ea0182.js";import"./employee-service-b99c8d76.js";import"./applicant-final-service-783dc1ef.js";import"./user-service-6f535192.js";import"./rate-job-section-9e7205c0.js";import"./table-row-component-82940ebf.js";import"./rate-sup-worker-section-83d2cc56.js";import"./genStyleUtils-15f8d671.js";import"./typeof-7fd5df1e.js";import"./warning-2d1cca5c.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./createSuper-f29e89b0.js";import"./index-b4a20b68.js";import"./shadow-599e9a46.js";import"./UnstableContext-bf2126de.js";import"./AntdIcon-65317f45.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./CheckCircleFilled-03b44592.js";import"./CloseCircleFilled-c845312c.js";import"./InfoCircleFilled-ac5c32ea.js";import"./useZIndex-8e23c1bd.js";import"./useId-e060bc68.js";import"./button-11b7f151.js";import"./omit-644b1847.js";import"./Compact-2657e74e.js";import"./useSize-a88e28b8.js";import"./CloseOutlined-4c6c4fc7.js";import"./index-30eeea16.js";import"./KeyCode-df1ca81f.js";import"./pickAttrs-3aceaf38.js";import"./index-a97f45b0.js";import"./fade-02ace3c3.js";import"./ContextIsolator-856393fb.js";import"./useClosable-6a09e984.js";import"./Skeleton-cf380193.js";import"./useLocale-79730b61.js";import"./PurePanel-6f4c47b1.js";function Le(){var h,f,p,j,b,w,g,v,N,y,E,S,I,F,_;const{exitInterviewForm:i}=c(s=>s.exit_int),d=M(),{employee:l}=c(s=>s.employees),{user:T}=c(s=>s.app),x=window.location.pathname.split("/")[4],R=window.location.pathname.split("/")[3];window.location.pathname.split("/")[2];const[n,m]=a.useState(!1),[u,$]=a.useState(!1),r=(h=l==null?void 0:l.attrition)==null?void 0:h.ext_int,C=!((f=l==null?void 0:l.attrition)!=null&&f.ext_int);a.useEffect(()=>{d(k({...i,int_id:T.id,app_id:x,emp_id:R}))},[]),a.useEffect(()=>{o.dispatch(L(x)),o.dispatch(X())},[]);function t(s){d(k({...i,[s.target.name]:s.target.value}))}console.log("employee",l);async function O(s){s.preventDefault(),m(!0);try{await o.dispatch(P(i)),D.success({title:"Success!",content:"Exit Interview Successfully Recorded",okText:"OK",centered:!0,onOk(){$(!0),console.log("Exit interview recorded successfully")}})}catch(W){console.error("Error submitting exit interview:",W),D.error({title:"Error!",content:"Failed to record exit interview. Please try again.",okText:"OK",centered:!0})}finally{m(!1)}}return e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsxs("div",{className:"container mx-auto flex justify-center",children:[C&&!u&&e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"EXIT INTERVIEW"})})}),e.jsxs("form",{className:`border rounded-lg p-3.5 ${r?"opacity-50 pointer-events-none":""}`,onSubmit:O,children:[e.jsxs("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name:"})}),e.jsx("input",{type:"text",value:`${((p=l==null?void 0:l.applicant)==null?void 0:p.fname)||""} ${((j=l==null?void 0:l.applicant)==null?void 0:j.mname)||""} ${((b=l==null?void 0:l.applicant)==null?void 0:b.lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account / Department:"})}),e.jsx("input",{type:"text",value:l!=null&&l.account?l==null?void 0:l.account:(w=l==null?void 0:l.dept)==null?void 0:w.dept,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Hired:"})}),e.jsx("input",{type:"date",value:(l==null?void 0:l.hired)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Immediate Supervisor:"})}),e.jsx("input",{type:"text",value:`${((g=l==null?void 0:l.user)==null?void 0:g.employee_fname)||""} ${((v=l==null?void 0:l.user)==null?void 0:v.employee_mname)||""} ${((N=l==null?void 0:l.user)==null?void 0:N.employee_lname)||""}`,className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employment Status:"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.status)||"",className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"ID Number:"})}),e.jsx("input",{type:"text",name:"app_id",value:(l==null?void 0:l.app_id)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Position Title:"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.position)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Separated:"})}),e.jsx("input",{type:"date",value:((y=l==null?void 0:l.attrition)==null?void 0:y.separation)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department Manager:"})}),e.jsx("input",{type:"text",value:`${((S=(E=l==null?void 0:l.dept)==null?void 0:E.user)==null?void 0:S.employee_fname)||""} ${((F=(I=l==null?void 0:l.dept)==null?void 0:I.user)==null?void 0:F.employee_lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Reason for Separation::"})}),e.jsx("input",{type:"text",value:((_=l==null?void 0:l.attrition)==null?void 0:_.reas)||"",className:"border p-2 rounded w-full"})]})]})})]}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"1. Please describe the main reason for leaving your current position."})}),e.jsx("textarea",{onChange:t,type:"text",name:"mreas",placeholder:"",className:"border p-2 h-40 rounded w-full"})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(V,{}),e.jsx("label",{htmlFor:"",className:"mt-1",children:"Others:"}),e.jsx("input",{onChange:t,name:"factsOther",type:"text",placeholder:"",className:"border p-2 rounded w-full "})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"3. Is there anything you wish you had known before you took the job?"})}),e.jsx("textarea",{onChange:t,name:"wish",type:"text",placeholder:"",className:"border p-2 h-40  rounded w-full"})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"4. What would you suggest to the management to make our organization a better place to work?"})}),e.jsx("textarea",{onChange:t,name:"suggest",type:"text",placeholder:"",className:"border p-2 h-40  rounded w-full"})]})})})}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"5. Do you feel you received adequate support to enable to do your job?"})}),e.jsx("textarea",{onChange:t,name:"apprec",type:"text",placeholder:"",className:"border p-2 rounded w-full"})]})})})}),e.jsx("p",{children:"Instructions: Please rate the following items based on your experience work in the company."}),e.jsxs("div",{className:"flex flex-1 w-full gap-8 mt-1",children:[e.jsx("h1",{children:e.jsx("b",{children:"1. Very Satisfied,"})}),e.jsx("h1",{children:e.jsx("b",{children:"2. Satisfied,"})}),e.jsx("h1",{children:e.jsx("b",{children:"3. Neutral,"})}),e.jsx("h1",{children:e.jsx("b",{children:"4. Dissatisfied,"})}),e.jsx("h1",{children:e.jsx("b",{children:"5. Very Dissatisfied"})})]}),e.jsx(Y,{}),e.jsx(K,{}),e.jsx("div",{className:"flex justify-end mt-2.5",children:e.jsx("button",{type:"submit",className:`px-4 py-2 rounded text-white focus:outline-none transition-colors ${n||r?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,disabled:n||r,children:n?"Submitting...":r?"INTERVIEW COMPLETED":"SUBMIT EXIT INTERVIEW"})})]})]}),u&&e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full max-w-2xl",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Thank You!"}),e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Your exit interview has been successfully submitted."}),e.jsx("p",{className:"text-md text-gray-600",children:"We appreciate your time and valuable feedback. Your responses will help us improve our workplace for future employees."})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800 font-medium",children:"ðŸŽ‰ Exit Interview Completed Successfully"})})]})]}),r&&e.jsx(e.Fragment,{children:e.jsx(q,{})})]})})})}export{Le as default};
