import{r as x,j as e,s as u}from"./store-be97c391.js";import A from"./input-4eb1efb7.js";import{u as d}from"./app-ca6c0cbd.js";import M from"./update-employee-address-section-5ad90058.js";import{b as P}from"./applicant-thunk-7bb2723b.js";import{g as H}from"./final-rate-thunk-9bad1075.js";import{g as G}from"./employee-section-thunk-fb1dfd8c.js";import{m as _}from"./index-1944f0b3.js";import{L as O}from"./UnstableContext-dd773fe8.js";import"./barangay-94589600.js";import"./select-f3fa94b7.js";import"./index-d46bbe49.js";import"./warning-ac26fe93.js";import"./defineProperty-83f36300.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";import"./AntdIcon-82eb93c5.js";import"./index-bfed0ba0.js";import"./useId-b588ed1f.js";import"./index-26b4dd5e.js";import"./createSuper-f29e89b0.js";import"./genStyleUtils-83711dd6.js";import"./useSize-b144bbcd.js";import"./Compact-e952e84a.js";import"./ContextIsolator-d18a7e70.js";import"./regeneratorRuntime-92fa3873.js";import"./asyncToGenerator-8c72b493.js";import"./useZIndex-d02e6d6e.js";import"./index-a2f6c339.js";import"./CheckCircleFilled-f89d34a4.js";import"./CloseCircleFilled-e2e4fb9f.js";import"./InfoCircleFilled-ab1820b1.js";import"./button-83a4b410.js";import"./omit-644b1847.js";import"./CloseOutlined-f4fef2dd.js";import"./index-0686ccba.js";import"./KeyCode-18fe19fc.js";import"./pickAttrs-049dda3d.js";import"./index-e60e52e6.js";import"./fade-587c5130.js";import"./useClosable-8d1b4d3f.js";import"./Skeleton-fcd9fb70.js";import"./useLocale-a534a9ba.js";import"./PurePanel-be486b9c.js";import"./applicant-record-service-1c136d4d.js";import"./applicant-final-service-783dc1ef.js";import"./employee-service-fd501c70.js";function De(){const{employee:n}=d(t=>t.employees),{applicant:s}=d(t=>t.final_rate),{job_positions:F}=d(t=>t.job_positions),{departments:S}=d(t=>t.departments),{accounts:I}=d(t=>t.accounts),{user:a}=d(t=>t.app),{users:E}=d(t=>t.app),[c,h]=x.useState(null),[l,i]=x.useState({}),m=window.location.pathname.split("/")[5],D=window.location.pathname.split("/")[6];x.useEffect(()=>{var t,r,b,p,f,g,v,N,w,y,C;i({app_id:s==null?void 0:s.app_id,id:s==null?void 0:s.id,emp_id:((t=s==null?void 0:s.employee)==null?void 0:t.emp_id)||"",fname:(s==null?void 0:s.fname)||"",mname:(s==null?void 0:s.mname)||"",lname:(s==null?void 0:s.lname)||"",suffix:(s==null?void 0:s.suffix)||"",gender:(s==null?void 0:s.gender)||"",dob:(s==null?void 0:s.dob)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",marital:(s==null?void 0:s.marital)||"",religion:(s==null?void 0:s.religion)||"",nationality:(s==null?void 0:s.nationality)||"",mmname:(s==null?void 0:s.mmname)||"",ffname:(s==null?void 0:s.ffname)||"",educ:(s==null?void 0:s.educ)||"",courset:(s==null?void 0:s.courset)||"",position:((b=(r=s==null?void 0:s.joboffer)==null?void 0:r.find(o=>o.status==="Hired"))==null?void 0:b.jobPos)||(n==null?void 0:n.position)||"",dept:((f=(p=s==null?void 0:s.joboffer)==null?void 0:p.find(o=>o.status==="Hired"))==null?void 0:f.department)||((g=n==null?void 0:n.dept)==null?void 0:g.dept)||"",account:((N=(v=s==null?void 0:s.joboffer)==null?void 0:v.find(o=>o.status==="Hired"))==null?void 0:N.account)||(n==null?void 0:n.account)||"",sup_id:((w=s==null?void 0:s.employee)==null?void 0:w.sup_id)||(n==null?void 0:n.sup_id)||"",hired:((y=s==null?void 0:s.employee)==null?void 0:y.hired)||(n==null?void 0:n.hired)||"",status:((C=s==null?void 0:s.employee)==null?void 0:C.status)||(n==null?void 0:n.status)||"",sss:(s==null?void 0:s.sss)||"",tin:(s==null?void 0:s.tin)||"",pagibig:(s==null?void 0:s.pagibig)||"",philh:(s==null?void 0:s.philh)||"",ename:(s==null?void 0:s.ename)||"",eaddress:(s==null?void 0:s.eaddress)||"",relationship:(s==null?void 0:s.relationship)||"",ephone:(s==null?void 0:s.ephone)||""})},[s,n]),console.log("emploeesss",s);async function j(t){t.preventDefault(),h(!0);try{await u.dispatch(P({...l,employee_id:D,fname:l.fname,mname:l.mname,lname:l.lname,suffix:l.suffix})),await u.dispatch(H(m)),await u.dispatch(G(m)),_.success("Updated Successfully")}catch(r){_.error(r.message||"Error updating changes")}finally{h(!1)}}return console.log("applicant",s),e.jsxs("div",{children:[e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"Personal Information"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:j,children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  text-center"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employee No."})}),e.jsx("input",{type:"text",onChange:t=>i({...l,emp_id:t.target.value}),value:(l==null?void 0:l.emp_id)??""})]})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsxs("div",{className:"flex flex-col w-full mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name"})}),e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx("input",{type:"text",onChange:t=>i({...l,fname:t.target.value}),value:l==null?void 0:l.fname,name:"fname",className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:t=>i({...l,mname:t.target.value}),value:l==null?void 0:l.mname,className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",onChange:t=>i({...l,lname:t.target.value}),value:l==null?void 0:l.lname,className:"border p-2 rounded w-full"}),e.jsxs("select",{value:(l==null?void 0:l.suffix)??"",onChange:t=>i({...l,suffix:t.target.value}),className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.suffix}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Gender"})}),e.jsxs("select",{value:(l==null?void 0:l.gender)??"",onChange:t=>i({...l,gender:t.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.gender}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date of Birth"})}),e.jsx("input",{type:"date",value:(l==null?void 0:l.dob)??"",onChange:t=>i({...l,dob:t.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Email"})}),e.jsx("input",{type:"email",value:(l==null?void 0:l.email)??"",onChange:t=>i({...l,email:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Phone Number"})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.phone)??"",onChange:t=>i({...l,phone:t.target.value}),className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Marital Status"})}),e.jsxs("select",{value:(l==null?void 0:l.marital)??"",onChange:t=>i({...l,marital:t.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.marital}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Religion"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.religion)??"",onChange:t=>i({...l,religion:t.target.value}),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Nationality"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.nationality)??"",onChange:t=>i({...l,nationality:t.target.value}),className:"border p-2 rounded w-full"})]})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Mother's Maiden Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.mmname)??"",onChange:t=>i({...l,mmname:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Father's Full Name"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ffname)??"",onChange:t=>i({...l,ffname:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Highest Educational Attainment"})}),e.jsxs("select",{value:(l==null?void 0:l.educ)??"",onChange:t=>i({...l,educ:t.target.value}),className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:s==null?void 0:s.educ}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Course Taken (Only if Applicable)"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.courset)??"",onChange:t=>i({...l,courset:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Job Position"})}),e.jsxs("select",{value:(l==null?void 0:l.position)??"",onChange:t=>i({...l,position:t.target.value}),name:"position",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Job Position"}),F.filter(t=>(a==null?void 0:a.role_id)===1||(a==null?void 0:a.role_id)===2||t.site===(a==null?void 0:a.site)).map((t,r)=>e.jsx("option",{value:t.jPosition,children:t.jPosition},r))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department"})}),e.jsxs("select",{value:(l==null?void 0:l.dept)??"",onChange:t=>i({...l,dept:t.target.value}),name:"dept",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Department"}),S.filter(t=>(a==null?void 0:a.role_id)===1||(a==null?void 0:a.role_id)===2||t.site===(a==null?void 0:a.site)).map((t,r)=>e.jsx("option",{value:t.dept,children:t.dept},r))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account (If Applicable)"})}),e.jsxs("select",{value:(l==null?void 0:l.account)??"",onChange:t=>i({...l,account:t.target.value}),name:"account",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Account (If Applicable)"}),e.jsx("option",{value:"",children:"--"}),I.map((t,r)=>e.jsx("option",{value:t.acc,children:t.acc},r))]})]})]})})}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Supervisor"})}),e.jsxs("select",{value:(l==null?void 0:l.sup_id)??"",onChange:t=>i({...l,sup_id:t.target.value}),name:"sup_id",className:"border p-2 rounded  w-full",children:[e.jsx("option",{value:"",children:"Select Supervisor"}),E.filter(t=>(a==null?void 0:a.role_id)===1||(a==null?void 0:a.role_id)===2||t.site===(a==null?void 0:a.site)).filter(t=>["Manager","I.T Manager","HR Manager","Operations Manager","Account Manager","Supervisor","Team Leader","Director","Director of Operations","Accounting Head","CEO"].includes(t.position)).sort((t,r)=>`${t.employee_fname} ${t.employee_lname}`.localeCompare(`${r.employee_fname} ${r.employee_lname}`)).map((t,r)=>e.jsxs("option",{value:t.id,children:[t.employee_fname," ",t.employee_lname]},t.id))]})]}),e.jsxs("div",{className:"w-full mt-4",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{})}),e.jsx(A,{value:(l==null?void 0:l.hired)??"",onChange:t=>i({...l,hired:t.target.value}),name:"hired",label:"Hired Date",type:"date"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Status"})}),e.jsxs("select",{value:(l==null?void 0:l.status)??"",onChange:t=>i({...l,status:t.target.value}),name:"status",className:"border p-2 rounded  w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:n==null?void 0:n.status}),e.jsx("option",{children:" Probationary"}),e.jsx("option",{children:" Regular"}),e.jsx("option",{children:" Contractual"}),e.jsx("option",{children:" Trainee"}),e.jsx("option",{children:" Fallout"})]})]})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsx("div",{className:"flex flex-1 gap-1 mb-4 w-full",children:e.jsx("div",{className:"flex flex-col w-full",children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:s==null?void 0:s.caddress,className:"border p-2 rounded w-full",readOnly:!0}),e.jsx(M,{})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"SSS No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.sss)??"",onChange:t=>i({...l,sss:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Pag-IBIG No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.pagibig)??"",onChange:t=>i({...l,pagibig:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Tin No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.tin)??"",onChange:t=>i({...l,tin:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Philhealth No."})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.philh)??"",onChange:t=>i({...l,philh:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Emergency Contact Information"}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Emergency Contact Fullname"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.ename)??"",onChange:t=>i({...l,ename:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Address"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.eaddress)??"",onChange:t=>i({...l,eaddress:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Relationship"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.relationship)??"",onChange:t=>i({...l,relationship:t.target.value}),className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Contact No."})}),e.jsx("input",{type:"number",value:(l==null?void 0:l.ephone)??"",onChange:t=>i({...l,ephone:t.target.value}),className:"border p-2 rounded w-full "})]})]}),e.jsx("div",{className:"flex gap-2 justify-end items-center mt-6",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg ${c?"cursor-not-allowed opacity-75":""}`,onClick:j,disabled:c,children:[c?e.jsx(O,{spin:!0}):e.jsx(e.Fragment,{}),c?" UPDATING...":"  Save Changes"]})})]})]})}export{De as default};
