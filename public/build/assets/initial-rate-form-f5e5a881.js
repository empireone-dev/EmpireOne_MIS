import{K as f,a as p,u as h,r as m,L as u,j as e,e as j,A as b}from"./app-7a2904bb.js";import _ from"./teamwork-section-9749c281.js";import v from"./problem-solving-section-27984008.js";import y from"./customer-service-section-1cff1a6d.js";import g from"./guide-question-section-eb34b287.js";import{j as w}from"./applicant-record-service-379dfdd1.js";import{m as N}from"./index-464d16ab.js";import{A as S}from"./ArrowLeftOutlined-99a24c52.js";import{L as I}from"./UnstableContext-8bbbea39.js";import{C as A}from"./CheckCircleFilled-f8c67049.js";async function E(l){return(await axios.post("/api/initial_rate",l)).data}function D(l){return async function(t,r){const n=await w(l);t(f.actions.setApplicant(n.status))}}function L(l){return async function(t,r){await E(l)}}function O({data:l}){const{initialRate:t,applicant:r}=p(s=>s.initial_rate),n=window.location.pathname.split("/")[3],{user:a}=p(s=>s.app),o=h(),[i,c]=m.useState(!1);m.useEffect(()=>{o(u({...t,interviewer:(a==null?void 0:a.employee_fname)+" "+(a==null?void 0:a.employee_lname),int_id:a.id,app_id:n,oavg:(parseInt(t.tscore??0)+parseInt(t.pscore??0)+parseInt(t.cscore??0))/3,interdata:r.inter}))},[t==null?void 0:t.tscore,t==null?void 0:t.pscore,t==null?void 0:t.cscore,a==null?void 0:a.employee_fname]);function x(s){o(u({...t,[s.target.name]:s.target.value}))}async function d(s){s.preventDefault(),c(!0),await j.dispatch(L(t)),await N.success("Applicant successfully rated"),b.visit("/admin/recruitment/applicant_records?searching="+n),c(!1)}return e.jsxs("div",{className:"font-sans",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center text-lg gap-2 px-4 py-2 hover:text-gray-600  transition-colors duration-200",children:[e.jsx(S,{}),"Back"]}),e.jsx("div",{className:"flex text-xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"Initial Rating Scale"})})}),e.jsx("div",{className:"w-48"})," "]}),e.jsxs("form",{onSubmit:d,className:"border rounded-lg p-3.5",children:[e.jsxs("div",{className:"flex flex-1 gap-3.5",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Application No."})}),e.jsx("input",{type:"number",value:r.app_id??"",placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Applicant's Name"})}),e.jsx("input",{type:"text",value:r.fname+" "+r.lname,placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]})]}),e.jsx(g,{}),e.jsx(_,{}),e.jsx(v,{}),e.jsx(y,{}),e.jsxs("div",{className:"flex flex-col w-full mt-3",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"OVERALL RESULT"})}),e.jsx("input",{type:"number",value:t.oavg??0,name:"ini_overall_r",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full mt-5",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"INITIAL PHASE INTERVIEWER"})}),e.jsx("input",{type:"text",value:(t==null?void 0:t.interviewer)??"",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{children:e.jsx("b",{children:"OVERALL COMMENT"})}),e.jsx("textarea",{placeholder:"",name:"ocomment",onChange:x,className:"border p-2 rounded w-full mt-1 h-40"})]}),e.jsx("div",{className:"flex justify-end mt-3.5",children:e.jsxs("button",{type:"submit",className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${i?"cursor-not-allowed opacity-75":""}`,onClick:d,disabled:i,children:[i?e.jsx(I,{spin:!0}):e.jsx(A,{}),i?" SUBMITTING...":" SUBMIT"]})})]})]})}const G=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{O as I,D as g,G as i};
