import{R as h,r as l}from"./store-20de3196.js";import{a as m,b as f}from"./genStyleUtils-e8a4e62b.js";import{u as x}from"./useForceUpdate-8f93890d.js";import"./warning-dfb7a8c8.js";const u=["xxl","xl","lg","md","sm","xs"],b=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),$=n=>{const e=n,s=[].concat(u).reverse();return s.forEach((i,a)=>{const r=i.toUpperCase(),c=`screen${r}Min`,t=`screen${r}`;if(!(e[c]<=e[t]))throw new Error(`${c}<=${t} fails : !(${e[c]}<=${e[t]})`);if(a<s.length-1){const o=`screen${r}Max`;if(!(e[t]<=e[o]))throw new Error(`${t}<=${o} fails : !(${e[t]}<=${e[o]})`);const p=`screen${s[a+1].toUpperCase()}Min`;if(!(e[o]<=e[p]))throw new Error(`${o}<=${p} fails : !(${e[o]}<=${e[p]})`)}}),n};function M(){const[,n]=m(),e=b($(n));return h.useMemo(()=>{const s=new Map;let i=-1,a={};return{matchHandlers:{},dispatch(r){return a=r,s.forEach(c=>c(a)),s.size>=1},subscribe(r){return s.size||this.register(),i+=1,s.set(i,r),r(a),i},unsubscribe(r){s.delete(r),s.size||this.unregister()},unregister(){Object.keys(e).forEach(r=>{const c=e[r],t=this.matchHandlers[c];t==null||t.mql.removeListener(t==null?void 0:t.listener)}),s.clear()},register(){Object.keys(e).forEach(r=>{const c=e[r],t=d=>{let{matches:p}=d;this.dispatch(Object.assign(Object.assign({},a),{[r]:p}))},o=window.matchMedia(c);o.addListener(t),this.matchHandlers[c]={mql:o,listener:t},t(o)})},responsiveMap:e}},[n])}const U=(n,e)=>{if(e&&typeof e=="object")for(let s=0;s<u.length;s++){const i=u[s];if(n[i]&&e[i]!==void 0)return e[i]}};function k(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=l.useRef({}),s=x(),i=M();return f(()=>{const a=i.subscribe(r=>{e.current=r,n&&s()});return()=>i.unsubscribe(a)},[]),e.current}export{M as a,U as m,u as r,k as u};
