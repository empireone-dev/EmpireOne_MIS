import{r as c,b as J,u as T,j as e,c as u,p as d}from"./app-12e26375.js";import q from"./working-experience-section-3ea3cf22.js";import{b as L,g as G}from"./applicant-thunk-cad57a5a.js";import{p as y,r as B,c as R,b as U}from"./barangay-94589600.js";import{h as W}from"./moment-a9aaa855.js";import i from"./input-90e1e744.js";import x from"./select-005e89e2.js";import Y from"./upload-resume-section-63240557.js";import{L as H}from"./LoadingOutlined-d7ba023b.js";import{S as V}from"./SendOutlined-145e2cf8.js";import"./CloseOutlined-427b70c6.js";import"./presets-7230ae42.js";import"./AntdIcon-ca02b0c7.js";import"./PlusOutlined-ceface52.js";import"./applicant-record-service-d62d09c9.js";import"./FilePdfOutlined-7c0ed881.js";import"./XMarkIcon-6153e13f.js";function pe(){c.useState(!1);const[K,w]=c.useState(0),{applicantForm:l}=J(a=>a.applicants),[C,S]=c.useState([]),[k,_]=c.useState([]),[I,F]=c.useState([]),[s,D]=c.useState({});console.log("applicants",l);const m=T();c.useEffect(()=>{(async()=>{w(0)})()},[]);function E(a){const r=new Date(a),n=new Date;let o=n.getFullYear()-r.getFullYear();const N=n.getMonth()-r.getMonth();return(N<0||N===0&&n.getDate()<r.getDate())&&o--,o??0}async function f(a){a.preventDefault(),v(!0);const r=E(l.dob??new Date),n=new FormData;n.append("files",b),n.append("site",l.site),n.append("fname",l.fname),n.append("mname",l.mname),n.append("lname",l.lname),n.append("suffix",l.suffix),n.append("dob",l.dob),n.append("religion",l.religion),n.append("email",l.email),n.append("nationality",l.nationality),n.append("phone",l.phone),n.append("mmname",l.mmname),n.append("ffname",l.ffname),n.append("educ",l.educ),n.append("courset",l.courset),n.append("hired",l.hired),n.append("lot",l.lot),n.append("sss",l.sss),n.append("pagibig",l.pagibig),n.append("tin",l.tin),n.append("philh",l.philh),n.append("ename",l.ename),n.append("eaddress",l.eaddress),n.append("relationship",l.relationship),n.append("ephone",l.ephone),n.append("marital",l.marital),n.append("gender",l.gender),n.append("region",l.region),n.append("city",l.city),n.append("brgy",l.brgy),n.append("province",l.province),l.work_experience.forEach(o=>{n.append("work_experience[]",JSON.stringify({company:o.company,position:o.position,started_at:o.started_at,end_at:o.end_at}))});try{await u.dispatch(L(n)),await u.dispatch(d({...l,age:r,submitted:W().format("YYYY-MM-DD"),status:"Pending"}));const o=await u.dispatch(G());o.status===200||(D(o.response.data.errors),console.log("resultsss",o.response))}catch(o){console.error(o)}finally{v(!1)}}console.log("province",y);const[h,g]=c.useState(!1),[A,j]=c.useState(!1),[b,M]=c.useState(null),[p,v]=c.useState(null),O=a=>{g(a.target.checked),j(!1)},P=a=>{j(a.target.checked),g(!1)};function t(a){if(a.target.name=="region"){const r=JSON.parse(a.target.value),n=y.filter(o=>o.region_code===r.region_code);S(n),m(d({...l,[a.target.name]:r.name}))}else if(a.target.name=="province"){const r=JSON.parse(a.target.value),n=R.filter(o=>o.province_code===r.province_code);_(n),m(d({...l,[a.target.name]:r.name}))}else if(a.target.name=="city"){const r=JSON.parse(a.target.value),n=U.filter(o=>o.city_code===r.city_code);F(n),m(d({...l,[a.target.name]:r.name}))}else m(d({...l,[a.target.name]:a.target.value}))}return console.log("ssssssssss",l),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto px-10 flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"ONLINE APPLICATION FORM"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:f,children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 mt-4 text-gray-900 ",children:"Site Information"}),e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("select",{onChange:a=>t(a),name:"site",className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Site"}),e.jsx("option",{children:"San Carlos "}),e.jsx("option",{children:"Carcar "})]})})}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-6",children:"Personal Information"}),e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx("div",{className:"flex flex-col w-full mb-4",children:e.jsxs("div",{className:"flex flex-1 gap-3",children:[e.jsx(i,{onChange:a=>t(a),value:l.fname??"",required:!!(s!=null&&s.fname),name:"fname",label:"First Name",type:"text"}),e.jsx(i,{onChange:a=>t(a),value:l.mname??"",required:!!(s!=null&&s.mname),name:"mname",label:"Middle Name",type:"text"}),e.jsx(i,{onChange:a=>t(a),value:l.lname??"",required:!!(s!=null&&s.lname),name:"lname",label:"Last Name",type:"text"}),e.jsxs("select",{onChange:a=>t(a),name:"suffix",className:"border p-2 rounded  w-1/5",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Suffix"}),e.jsx("option",{children:" Sr."}),e.jsx("option",{children:" Jr."}),e.jsx("option",{children:" II"}),e.jsx("option",{children:" III"}),e.jsx("option",{children:" IV"}),e.jsx("option",{children:" V"})]})]})})}),e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("select",{onChange:a=>t(a),name:"gender",className:"border p-2 rounded w-full",children:[e.jsx("option",{className:"",disabled:!0,selected:!0,children:"  Gender"}),e.jsx("option",{children:" Male"}),e.jsx("option",{children:" Female"})]}),(s==null?void 0:s.gender)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.dob??"",required:!!(s!=null&&s.dob),name:"dob",label:"Date of Birth",type:"date"})}),e.jsx("div",{className:" w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.email??"",required:!!(s!=null&&s.email),name:"email",label:"Email",type:"email"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.phone??"",required:!!(s!=null&&s.phone),name:"phone",label:"Phone Number",type:"number"})})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("select",{onChange:a=>t(a),name:"marital",className:"border p-2 rounded w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"  Marital Status"}),e.jsx("option",{children:" Single"}),e.jsx("option",{children:" Married"}),e.jsx("option",{children:" Widowed"}),e.jsx("option",{children:" Divorced"})]}),(s==null?void 0:s.marital)&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"This field is required."})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.religion??"",required:!!(s!=null&&s.religion),name:"religion",label:"Religion",type:"text"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.nationality??"",required:!!(s!=null&&s.nationality),name:"nationality",label:"Nationality",type:"text"})})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(i,{onChange:a=>t(a),value:l.mmname??"",name:"mmname",label:"Mothers maiden name",type:"text"})}),e.jsx("div",{className:"mb-4",children:e.jsx(i,{onChange:a=>t(a),value:l.ffname??"",name:"ffname",label:"Fathers fullname",type:"text"})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsxs("select",{name:"educ",className:"border p-2.5 rounded w-full",onChange:a=>t(a),children:[e.jsx("option",{disabled:!0,selected:!0,children:"  Highest Educational Attainment"}),e.jsx("option",{children:" Elementary Undergraduate"}),e.jsx("option",{children:" Elementary Graduate"}),e.jsx("option",{children:" Highschool/K-12 Undergraduate"}),e.jsx("option",{children:" Highschool/K-12 Graduate"}),e.jsx("option",{children:" College Level"}),e.jsx("option",{children:" College Graduate"}),e.jsx("option",{children:" Vocational Graduate"}),e.jsx("option",{children:" Masteral Degree"}),e.jsx("option",{children:" Doctoral Degree"})]})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.courset??"",name:"courset",label:"Course taken",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Address Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4 w-full",children:[e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:a=>t(a),options:B.map(a=>({label:a.region_name,value:JSON.stringify({name:a.region_name,region_code:a.region_code})})),name:"region",label:"Region"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:a=>t(a),options:C.map(a=>({label:a.province_name,value:JSON.stringify({name:a.province_name,province_code:a.province_code})})),name:"province",label:"Province"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(x,{onChange:a=>t(a),options:k.map(a=>({label:a.city_name,value:JSON.stringify({name:a.city_name,city_code:a.city_code})})),name:"city",label:"City/Municipality"})})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"flex flex-col  w-1/2",children:e.jsx(x,{onChange:a=>t(a),options:I.map(a=>({label:a.brgy_name,value:a.brgy_name})),name:"brgy",label:"Barangay"})}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.lot??"",name:"lot",label:"House/Lot No., Street, Purok/Sitio",type:"text"})})]}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-9",children:"Government ID Information"}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.sss??"",name:"sss",label:"SSS No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.pagibig??"",name:"pagibig",label:"Pag-IBIG No.",type:"text"})})]}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.tin??"",name:"tin",label:"Tin No.",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.philh??"",name:"philh",label:"Philhealth No.",type:"text"})})]}),e.jsxs("div",{className:"flex items-center mb-4 mt-6",children:[e.jsx("input",{id:"with-working-experience-checkbox",type:"checkbox",value:"",checked:h,onChange:O,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  "}),e.jsx("label",{htmlFor:"with-working-experience-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"with Working Experience"})})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{id:"first-time-jobseeker-checkbox",type:"checkbox",value:"",checked:A,onChange:P,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500  -gray-800 focus:ring-2  ",disabled:h}),e.jsx("label",{htmlFor:"first-time-jobseeker-checkbox",className:"ms-2 text-md font-medium text-gray-900 ",children:e.jsx("b",{children:"First Time Jobseeker"})})]}),h&&e.jsx(q,{}),e.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900  mt-7",children:"Emergency Contact Information"}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.ename??"",name:"ename",label:"Emergency Contact Fullname",type:"text"})}),e.jsx("div",{className:"mb-4 w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.eaddress??"",name:"eaddress",label:"Address",type:"text"})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.relationship??"",name:"relationship",label:"Relationship",type:"text"})}),e.jsx("div",{className:"w-full",children:e.jsx(i,{onChange:a=>t(a),value:l.ephone??"",name:"ephone",label:"Contact No.",type:"number"})})]}),e.jsx(Y,{files:b,setFiles:M}),e.jsx("div",{className:"flex justify-end mt-2.5",children:e.jsxs("button",{type:"submit",className:` bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${p?"cursor-not-allowed opacity-75":""}`,onClick:f,disabled:p,children:[p?e.jsx(H,{spin:!0}):e.jsx(V,{}),p?" SUBMITTING...":" SUBMIT APPLICATION"]})})]})]})})})})}export{pe as default};
