import{g as S,k as N,R as U,r as E,j as _}from"./app-8f4d878d.js";import{b as z,c as O,_ as B,a as F}from"./createSuper-c7e84a61.js";import{P as y}from"./index-99e4b3a3.js";import T from"./button-bca3eb48.js";import"./toPropertyKey-d8419463.js";import"./typeof-7fd5df1e.js";var R={exports:{}};(function(e){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(null,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(R);var A=R.exports;const I=S(A);var L={exports:{}},W={exports:{}};(function(e){function r(n,t){if(n==null)return{};var i={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(t.indexOf(a)!==-1)continue;i[a]=n[a]}return i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(W);var q=W.exports;(function(e){var r=q;function n(t,i){if(t==null)return{};var a,s,o=r(t,i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(s=0;s<h.length;s++)a=h[s],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(L);var V=L.exports;const $=S(V);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function C(e,r,n){this.x=e,this.y=r,this.time=n||new Date().getTime()}C.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};C.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};C.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function M(e,r,n,t){this.startPoint=e,this.control1=r,this.control2=n,this.endPoint=t}M.prototype.length=function(){for(var e=10,r=0,n=void 0,t=void 0,i=0;i<=e;i+=1){var a=i/e,s=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var h=s-n,c=o-t;r+=Math.sqrt(h*h+c*c)}n=s,t=o}return r};M.prototype._point=function(e,r,n,t,i){return r*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*t*(1-e)*e*e+i*e*e*e};function H(e,r,n){var t,i,a,s=null,o=0;n||(n={});var h=function(){o=n.leading===!1?0:Date.now(),s=null,a=e.apply(t,i),s||(t=i=null)};return function(){var c=Date.now();!o&&n.leading===!1&&(o=c);var l=r-(c-o);return t=this,i=arguments,l<=0||l>r?(s&&(clearTimeout(s),s=null),o=c,a=e.apply(t,i),s||(t=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(h,l)),a}}function v(e,r){var n=this,t=r||{};this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=H(v.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=v.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var a=i.changedTouches[0];n._strokeBegin(a)}},this._handleTouchMove=function(i){i.preventDefault();var a=i.targetTouches[0];n._strokeMoveUpdate(a)},this._handleTouchEnd=function(i){var a=i.target===n._canvas;a&&(i.preventDefault(),n._strokeEnd(i))},this.on()}v.prototype.clear=function(){var e=this._ctx,r=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,r.width,r.height),e.fillRect(0,0,r.width,r.height),this._data=[],this._reset(),this._isEmpty=!0};v.prototype.fromDataURL=function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=new Image,i=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/i,s=n.height||this._canvas.height/i;this._reset(),t.src=e,t.onload=function(){r._ctx.drawImage(t,0,0,a,s)},this._isEmpty=!1};v.prototype.toDataURL=function(e){var r;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return(r=this._canvas).toDataURL.apply(r,[e].concat(t))}};v.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};v.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};v.prototype.isEmpty=function(){return this._isEmpty};v.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};v.prototype._strokeUpdate=function(e){var r=e.clientX,n=e.clientY,t=this._createPoint(r,n),i=this._data[this._data.length-1],a=i&&i[i.length-1],s=a&&t.distanceTo(a)<this.minDistance;if(!(a&&s)){var o=this._addPoint(t),h=o.curve,c=o.widths;h&&c&&this._drawCurve(h,c.start,c.end),this._data[this._data.length-1].push({x:t.x,y:t.y,time:t.time,color:this.penColor})}};v.prototype._strokeEnd=function(e){var r=this.points.length>2,n=this.points[0];if(!r&&n&&this._drawDot(n),n){var t=this._data[this._data.length-1],i=t[t.length-1];n.equals(i)||t.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};v.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};v.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};v.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};v.prototype._createPoint=function(e,r,n){var t=this._canvas.getBoundingClientRect();return new C(e-t.left,r-t.top,n||new Date().getTime())};v.prototype._addPoint=function(e){var r=this.points,n=void 0;if(r.push(e),r.length>2){r.length===3&&r.unshift(r[0]),n=this._calculateCurveControlPoints(r[0],r[1],r[2]);var t=n.c2;n=this._calculateCurveControlPoints(r[1],r[2],r[3]);var i=n.c1,a=new M(r[1],t,i,r[2]),s=this._calculateCurveWidths(a);return r.shift(),{curve:a,widths:s}}return{}};v.prototype._calculateCurveControlPoints=function(e,r,n){var t=e.x-r.x,i=e.y-r.y,a=r.x-n.x,s=r.y-n.y,o={x:(e.x+r.x)/2,y:(e.y+r.y)/2},h={x:(r.x+n.x)/2,y:(r.y+n.y)/2},c=Math.sqrt(t*t+i*i),l=Math.sqrt(a*a+s*s),u=o.x-h.x,d=o.y-h.y,p=l/(c+l),g={x:h.x+u*p,y:h.y+d*p},f=r.x-g.x,x=r.y-g.y;return{c1:new C(o.x+f,o.y+x),c2:new C(h.x+f,h.y+x)}};v.prototype._calculateCurveWidths=function(e){var r=e.startPoint,n=e.endPoint,t={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(r)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(i);return t.start=this._lastWidth,t.end=a,this._lastVelocity=i,this._lastWidth=a,t};v.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};v.prototype._drawPoint=function(e,r,n){var t=this._ctx;t.moveTo(e,r),t.arc(e,r,n,0,2*Math.PI,!1),this._isEmpty=!1};v.prototype._drawCurve=function(e,r,n){var t=this._ctx,i=n-r,a=Math.floor(e.length());t.beginPath();for(var s=0;s<a;s+=1){var o=s/a,h=o*o,c=h*o,l=1-o,u=l*l,d=u*l,p=d*e.startPoint.x;p+=3*u*o*e.control1.x,p+=3*l*h*e.control2.x,p+=c*e.endPoint.x;var g=d*e.startPoint.y;g+=3*u*o*e.control1.y,g+=3*l*h*e.control2.y,g+=c*e.endPoint.y;var f=r+c*i;this._drawPoint(p,g,f)}t.closePath(),t.fill()};v.prototype._drawDot=function(e){var r=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;r.beginPath(),this._drawPoint(e.x,e.y,n),r.closePath(),r.fill()};v.prototype._fromData=function(e,r,n){for(var t=0;t<e.length;t+=1){var i=e[t];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],o=new C(s.x,s.y,s.time),h=s.color;if(a===0)this.penColor=h,this._reset(),this._addPoint(o);else if(a!==i.length-1){var c=this._addPoint(o),l=c.curve,u=c.widths;l&&u&&r(l,u,h)}}else{this._reset();var d=i[0];n(d)}}};v.prototype._toSVG=function(){var e=this,r=this._data,n=this._canvas,t=Math.max(window.devicePixelRatio||1,1),i=0,a=0,s=n.width/t,o=n.height/t,h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttributeNS(null,"width",n.width),h.setAttributeNS(null,"height",n.height),this._fromData(r,function(m,w,b){var P=document.createElement("path");if(!isNaN(m.control1.x)&&!isNaN(m.control1.y)&&!isNaN(m.control2.x)&&!isNaN(m.control2.y)){var j="M "+m.startPoint.x.toFixed(3)+","+m.startPoint.y.toFixed(3)+" "+("C "+m.control1.x.toFixed(3)+","+m.control1.y.toFixed(3)+" ")+(m.control2.x.toFixed(3)+","+m.control2.y.toFixed(3)+" ")+(m.endPoint.x.toFixed(3)+","+m.endPoint.y.toFixed(3));P.setAttribute("d",j),P.setAttribute("stroke-width",(w.end*2.25).toFixed(3)),P.setAttribute("stroke",b),P.setAttribute("fill","none"),P.setAttribute("stroke-linecap","round"),h.appendChild(P)}},function(m){var w=document.createElement("circle"),b=typeof e.dotSize=="function"?e.dotSize():e.dotSize;w.setAttribute("r",b),w.setAttribute("cx",m.x),w.setAttribute("cy",m.y),w.setAttribute("fill",m.color),h.appendChild(w)});var c="data:image/svg+xml;base64,",l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+a+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",u=h.innerHTML;if(u===void 0){var d=document.createElement("dummy"),p=h.childNodes;d.innerHTML="";for(var g=0;g<p.length;g+=1)d.appendChild(p[g].cloneNode(!0));u=d.innerHTML}var f="</svg>",x=l+u+f;return c+btoa(x)};v.prototype.fromData=function(e){var r=this;this.clear(),this._fromData(e,function(n,t){return r._drawCurve(n,t.start,t.end)},function(n){return r._drawDot(n)}),this._data=e};v.prototype.toData=function(){return this._data};var k={exports:{}};(function(e,r){(function(n,t){e.exports=t()})(N,function(){return function(n){function t(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t){function i(c){var l=c.getContext("2d"),u=c.width,d=c.height,p=l.getImageData(0,0,u,d).data,g=o(!0,u,d,p),f=o(!1,u,d,p),x=h(!0,u,d,p),m=h(!1,u,d,p),w=m-x+1,b=f-g+1,P=l.getImageData(x,g,w,b);return c.width=w,c.height=b,l.clearRect(0,0,w,b),l.putImageData(P,0,0),c}function a(c,l,u,d){return{red:d[4*(u*l+c)],green:d[4*(u*l+c)+1],blue:d[4*(u*l+c)+2],alpha:d[4*(u*l+c)+3]}}function s(c,l,u,d){return a(c,l,u,d).alpha}function o(c,l,u,d){for(var p=c?1:-1,g=c?0:u-1,f=g;c?f<u:f>-1;f+=p)for(var x=0;x<l;x++)if(s(x,f,l,d))return f;return null}function h(c,l,u,d){for(var p=c?1:-1,g=c?0:l-1,f=g;c?f<l:f>-1;f+=p)for(var x=0;x<u;x++)if(s(f,x,l,d))return f;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}])})})(k);var X=k.exports;const Y=S(X);var G=["canvasProps","clearOnResize"],D=function(e){z(n,e);var r=O(n);function n(){var t;F(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=r.call.apply(r,[this].concat(a)),t.staticThis=t.constructor,t._sigPad=null,t._canvas=null,t.setRef=function(o){t._canvas=o,t._canvas===null&&(t._sigPad=null)},t._excludeOurProps=function(){var o=t.props;o.canvasProps,o.clearOnResize;var h=$(o,G);return h},t.componentDidMount=function(){var o=t.getCanvas();t._sigPad=new v(o,t._excludeOurProps()),t._resizeCanvas(),t.on()},t.componentWillUnmount=function(){t.off()},t.componentDidUpdate=function(){Object.assign(t._sigPad,t._excludeOurProps())},t.getCanvas=function(){if(t._canvas===null)throw t.staticThis.refNullError;return t._canvas},t.getTrimmedCanvas=function(){var o=t.getCanvas(),h=document.createElement("canvas");return h.width=o.width,h.height=o.height,h.getContext("2d").drawImage(o,0,0),Y(h)},t.getSignaturePad=function(){if(t._sigPad===null)throw t.staticThis.refNullError;return t._sigPad},t._checkClearOnResize=function(){t.props.clearOnResize&&t._resizeCanvas()},t._resizeCanvas=function(){var o,h,c=(o=t.props.canvasProps)!==null&&o!==void 0?o:{},l=c.width,u=c.height;if(!(typeof l<"u"&&typeof u<"u")){var d=t.getCanvas(),p=Math.max((h=window.devicePixelRatio)!==null&&h!==void 0?h:1,1);typeof l>"u"&&(d.width=d.offsetWidth*p),typeof u>"u"&&(d.height=d.offsetHeight*p),d.getContext("2d").scale(p,p),t.clear()}},t.render=function(){var o=t.props.canvasProps;return U.createElement("canvas",I({ref:t.setRef},o))},t.on=function(){return window.addEventListener("resize",t._checkClearOnResize),t.getSignaturePad().on()},t.off=function(){return window.removeEventListener("resize",t._checkClearOnResize),t.getSignaturePad().off()},t.clear=function(){return t.getSignaturePad().clear()},t.isEmpty=function(){return t.getSignaturePad().isEmpty()},t.fromDataURL=function(o,h){return t.getSignaturePad().fromDataURL(o,h)},t.toDataURL=function(o,h){return t.getSignaturePad().toDataURL(o,h)},t.fromData=function(o){return t.getSignaturePad().fromData(o)},t.toData=function(){return t.getSignaturePad().toData()},t}return B(n)}(E.Component);D.propTypes={velocityFilterWeight:y.number,minWidth:y.number,maxWidth:y.number,minDistance:y.number,dotSize:y.oneOfType([y.number,y.func]),penColor:y.string,throttle:y.number,onEnd:y.func,onBegin:y.func,canvasProps:y.object,clearOnResize:y.bool};D.defaultProps={clearOnResize:!0};D.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");function nt({submit:e,data:r,setForm:n}){const t=E.useRef(null),[i,a]=E.useState(!1);E.useEffect(()=>{r.signature&&t.current&&t.current.fromDataURL(r.signature)},[r.signature]);const s=()=>{t.current.clear()},o=async()=>{a(!0);const h=t.current.toDataURL();await e({...r,signature:h}),a(!1)};return _.jsx(_.Fragment,{children:_.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] bg-center transition-colors duration-300 overflow-y-scroll h-screen p-4",children:_.jsxs("div",{className:"bg-white border-2 border-gray-500 rounded-lg p-7 animate-[slideInUp_0.8s_ease-out,fadeIn_0.8s_ease-out] opacity-0 translate-y-8 [animation-fill-mode:forwards]",children:[_.jsxs("div",{className:"mb-1 text-sm text-gray-600 animate-[fadeIn_1.0s_ease-out_0.3s] opacity-0 [animation-fill-mode:forwards]",children:[_.jsx("p",{className:"mb-2",children:"Please sign in the box below using your mouse, trackpad, or touch screen:"}),_.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[_.jsx("li",{children:"Draw your signature clearly within the designated area"}),_.jsx("li",{children:'Use the "CLEAR" button to start over if needed'}),_.jsx("li",{children:`Click "SUBMIT" when you're satisfied with your signature`})]}),_.jsx("div",{className:" font-bold text-lg capitalize text-black bg-white text-center rounded-t-md",children:"Signature Pad"})]}),_.jsx("div",{className:"animate-[fadeIn_0.5s_ease-out_0.5s] opacity-0 [animation-fill-mode:forwards]",children:_.jsx(D,{className:"w-full",ref:t,penColor:"black",canvasProps:{style:{width:"100%",height:"500px",backgroundColor:"white",border:"5px solid gray"},className:"signature-canvas"}})}),_.jsxs("div",{className:"flex gap-3 mt-3 animate-[fadeIn_0.5s_ease-out_0.7s] opacity-0 [animation-fill-mode:forwards]",children:[_.jsx(T,{className:"bg-red-500 hover:bg-red-600 text-white transform transition-all duration-200 hover:scale-105",onClick:s,children:"CLEAR"}),_.jsx(T,{className:"bg-blue-500 hover:bg-blue-600 text-white transform transition-all duration-200 hover:scale-105",onClick:o,loading:i,disabled:i,children:"SUBMIT"})]})]})})})}export{nt as default};
